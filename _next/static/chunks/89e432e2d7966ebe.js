(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";let t,r,n,i,a,s,o,l,c,u,d,h,f,p,m,x,y,g,b,w;var v,A,E,T,k,P,N,R,C,S,I=e.i(43476),O=e.i(71645);let B=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},D=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var U={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let M=(0,O.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>(0,O.createElement)("svg",{ref:l,...U,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:D("lucide",i),...!a&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(o)&&{"aria-hidden":"true"},...o},[...s.map(([e,t])=>(0,O.createElement)(e,t)),...Array.isArray(a)?a:[a]])),F=(e,t)=>{let r=(0,O.forwardRef)(({className:r,...n},i)=>(0,O.createElement)(M,{ref:i,iconNode:t,className:D(`lucide-${B(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=B(e),r},L=F("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]),V=F("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),j=F("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),G=F("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),H=({logs:e})=>(0,I.jsxs)("div",{className:"w-full max-w-lg mx-auto mt-8 border-t border-white/5 pt-6",children:[(0,I.jsxs)("div",{className:"flex items-center gap-2 mb-4 px-1",children:[(0,I.jsx)(L,{size:14,className:"text-slate-500"}),(0,I.jsx)("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Activity Feed"})]}),(0,I.jsx)("div",{className:"space-y-2 h-[100px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent",children:0===e.length?(0,I.jsx)("p",{className:"text-[10px] text-slate-700 italic px-1",children:"Awaiting interaction..."}):e.map(e=>(0,I.jsxs)("div",{className:"flex gap-3 px-3 py-2 rounded-xl bg-white/5 border border-white/5 group transition-colors hover:bg-white/[0.08]",children:[(0,I.jsx)("div",{className:`mt-0.5 ${"success"===e.type?"text-emerald-400":"error"===e.type?"text-rose-400":"text-sky-400"}`,children:"success"===e.type?(0,I.jsx)(V,{size:12}):"error"===e.type?(0,I.jsx)(j,{size:12}):(0,I.jsx)(G,{size:12})}),(0,I.jsx)("div",{className:"flex-1 min-w-0",children:(0,I.jsx)("p",{className:"text-[10px] text-slate-300 leading-relaxed truncate group-hover:whitespace-normal",children:e.message})}),(0,I.jsx)("span",{className:"text-[9px] font-mono text-slate-600 mt-0.5",children:e.timestamp})]},e.id))})]}),z=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],K=new Set(z),_=e=>180*e/Math.PI,Q=e=>W(_(Math.atan2(e[1],e[0]))),J={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Q,rotateZ:Q,skewX:e=>_(Math.atan(e[1])),skewY:e=>_(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},W=e=>((e%=360)<0&&(e+=360),e),q=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),$=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Y={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:q,scaleY:$,scale:e=>(q(e)+$(e))/2,rotateX:e=>W(_(Math.atan2(e[6],e[5]))),rotateY:e=>W(_(Math.atan2(-e[2],e[0]))),rotateZ:Q,rotate:Q,skewX:e=>_(Math.atan(e[4])),skewY:e=>_(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Z(e){return+!!e.includes("scale")}function X(e,t){let r,n;if(!e||"none"===e)return Z(t);let i=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(i)r=Y,n=i;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=J,n=t}if(!n)return Z(t);let a=r[t],s=n[1].split(",").map(ee);return"function"==typeof a?a(s):s[a]}function ee(e){return parseFloat(e.trim())}let et=e=>t=>"string"==typeof t&&t.startsWith(e),er=et("--"),en=et("var(--"),ei=e=>!!en(e)&&ea.test(e.split("/*")[0].trim()),ea=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function es({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}let eo=(e,t,r)=>e+(t-e)*r;function el(e){return void 0===e||1===e}function ec({scale:e,scaleX:t,scaleY:r}){return!el(e)||!el(t)||!el(r)}function eu(e){return ec(e)||ed(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ed(e){var t,r;return(t=e.x)&&"0%"!==t||(r=e.y)&&"0%"!==r}function eh(e,t,r,n,i){return void 0!==i&&(e=n+i*(e-n)),n+r*(e-n)+t}function ef(e,t=0,r=1,n,i){e.min=eh(e.min,t,r,n,i),e.max=eh(e.max,t,r,n,i)}function ep(e,{x:t,y:r}){ef(e.x,t.translate,t.scale,t.originPoint),ef(e.y,r.translate,r.scale,r.originPoint)}function em(e,t){e.min=e.min+t,e.max=e.max+t}function ex(e,t,r,n,i=.5){let a=eo(e.min,e.max,i);ef(e,t,r,a,n)}function ey(e,t){ex(e.x,t.x,t.scaleX,t.scale,t.originX),ex(e.y,t.y,t.scaleY,t.scale,t.originY)}function eg(e,t){return es(function(e,t){if(!t)return e;let r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}(e.getBoundingClientRect(),t))}let eb=new Set(["width","height","top","left","right","bottom",...z]),ew=(e,t,r)=>r>t?t:r<e?e:r,ev={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},eA={...ev,transform:e=>ew(0,1,e)},eE={...ev,default:1},eT=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),ek=eT("deg"),eP=eT("%"),eN=eT("px"),eR=eT("vh"),eC=eT("vw"),eS={...eP,parse:e=>eP.parse(e)/100,transform:e=>eP.transform(100*e)},eI=e=>t=>t.test(e),eO=[ev,eN,eP,ek,eC,eR,{test:e=>"auto"===e,parse:e=>e}],eB=e=>eO.find(eI(e));var eD=e.i(47167);let eU=()=>{},eM=()=>{};eD.default;let eF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,eL=e=>e===ev||e===eN,eV=new Set(["x","y","z"]),ej=z.filter(e=>!eV.has(e)),eG={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>X(t,"x"),y:(e,{transform:t})=>X(t,"y")};eG.translateX=eG.x,eG.translateY=eG.y;let eH=e=>e,ez={},eK=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function e_(e,t){let r=!1,n=!0,i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=eK.reduce((e,r)=>(e[r]=function(e,t){let r=new Set,n=new Set,i=!1,a=!1,s=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(u.schedule(t),e()),l++,t(o)}let u={schedule:(e,t=!1,a=!1)=>{let o=a&&i?r:n;return t&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{if(o=e,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(c),t,l=0,r.clear(),i=!1,a&&(a=!1,u.process(e))}};return u}(a,t?r:void 0),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:p}=s,m=()=>{let a=ez.useManualTiming?i.timestamp:performance.now();r=!1,ez.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(a-i.timestamp,40),1)),i.timestamp=a,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),f.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))};return{schedule:eK.reduce((t,a)=>{let o=s[a];return t[a]=(t,a=!1,s=!1)=>(!r&&(r=!0,n=!0,i.isProcessing||e(m)),o.schedule(t,a,s)),t},{}),cancel:e=>{for(let t=0;t<eK.length;t++)s[eK[t]].cancel(e)},state:i,steps:s}}let{schedule:eQ,cancel:eJ,state:eW,steps:eq}=e_("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:eH,!0),e$=new Set,eY=!1,eZ=!1,eX=!1;function e0(){if(eZ){let e=Array.from(e$).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),r=new Map;t.forEach(e=>{let t,n=(t=[],ej.forEach(r=>{let n=e.getValue(r);void 0!==n&&(t.push([r,n.get()]),n.set(+!!r.startsWith("scale")))}),t);n.length&&(r.set(e,n),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=r.get(e);t&&t.forEach(([t,r])=>{e.getValue(t)?.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}eZ=!1,eY=!1,e$.forEach(e=>e.complete(eX)),e$.clear()}function e1(){e$.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(eZ=!0)})}class e2{constructor(e,t,r,n,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=n,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(e$.add(this),eY||(eY=!0,eQ.read(e1),eQ.resolveKeyframes(e0))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:r,motionValue:n}=this;if(null===e[0]){let i=n?.get(),a=e[e.length-1];if(void 0!==i)e[0]=i;else if(r&&t){let n=r.readValue(t,a);null!=n&&(e[0]=n)}void 0===e[0]&&(e[0]=a),n&&void 0===i&&n.set(e[0])}for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),e$.delete(this)}cancel(){"scheduled"===this.state&&(e$.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}let e5=e=>Math.round(1e5*e)/1e5,e3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,e4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e6=(e,t)=>r=>!!("string"==typeof r&&e4.test(r)&&r.startsWith(e)||t&&null!=r&&Object.prototype.hasOwnProperty.call(r,t)),e8=(e,t,r)=>n=>{if("string"!=typeof n)return n;let[i,a,s,o]=n.match(e3);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:void 0!==o?parseFloat(o):1}},e9={...ev,transform:e=>Math.round(ew(0,255,e))},e7={test:e6("rgb","red"),parse:e8("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+e9.transform(e)+", "+e9.transform(t)+", "+e9.transform(r)+", "+e5(eA.transform(n))+")"},te={test:e6("#"),parse:function(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}},transform:e7.transform},tt={test:e6("hsl","hue"),parse:e8("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+eP.transform(e5(t))+", "+eP.transform(e5(r))+", "+e5(eA.transform(n))+")"},tr={test:e=>e7.test(e)||te.test(e)||tt.test(e),parse:e=>e7.test(e)?e7.parse(e):tt.test(e)?tt.parse(e):te.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?e7.transform(e):tt.transform(e),getAnimatableNone:e=>{let t=tr.parse(e);return t.alpha=0,tr.transform(t)}},tn=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,ti="number",ta="color",ts=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function to(e){let t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[],a=0,s=t.replace(ts,e=>(tr.test(e)?(n.color.push(a),i.push(ta),r.push(tr.parse(e))):e.startsWith("var(")?(n.var.push(a),i.push("var"),r.push(e)):(n.number.push(a),i.push(ti),r.push(parseFloat(e))),++a,"${}")).split("${}");return{values:r,split:s,indexes:n,types:i}}function tl(e){return to(e).values}function tc(e){let{split:t,types:r}=to(e),n=t.length;return e=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],void 0!==e[a]){let t=r[a];t===ti?i+=e5(e[a]):t===ta?i+=tr.transform(e[a]):i+=e[a]}return i}}let tu=e=>"number"==typeof e?0:tr.test(e)?tr.getAnimatableNone(e):e,td={test:function(e){return isNaN(e)&&"string"==typeof e&&(e.match(e3)?.length||0)+(e.match(tn)?.length||0)>0},parse:tl,createTransformer:tc,getAnimatableNone:function(e){let t=tl(e);return tc(e)(t.map(tu))}},th=new Set(["brightness","contrast","saturate","opacity"]);function tf(e){let[t,r]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[n]=r.match(e3)||[];if(!n)return e;let i=r.replace(n,""),a=+!!th.has(t);return n!==r&&(a*=100),t+"("+a+i+")"}let tp=/\b([a-z-]*)\(.*?\)/gu,tm={...td,getAnimatableNone:e=>{let t=e.match(tp);return t?t.map(tf).join(" "):e}},tx={...ev,transform:Math.round},ty={borderWidth:eN,borderTopWidth:eN,borderRightWidth:eN,borderBottomWidth:eN,borderLeftWidth:eN,borderRadius:eN,radius:eN,borderTopLeftRadius:eN,borderTopRightRadius:eN,borderBottomRightRadius:eN,borderBottomLeftRadius:eN,width:eN,maxWidth:eN,height:eN,maxHeight:eN,top:eN,right:eN,bottom:eN,left:eN,inset:eN,insetBlock:eN,insetBlockStart:eN,insetBlockEnd:eN,insetInline:eN,insetInlineStart:eN,insetInlineEnd:eN,padding:eN,paddingTop:eN,paddingRight:eN,paddingBottom:eN,paddingLeft:eN,paddingBlock:eN,paddingBlockStart:eN,paddingBlockEnd:eN,paddingInline:eN,paddingInlineStart:eN,paddingInlineEnd:eN,margin:eN,marginTop:eN,marginRight:eN,marginBottom:eN,marginLeft:eN,marginBlock:eN,marginBlockStart:eN,marginBlockEnd:eN,marginInline:eN,marginInlineStart:eN,marginInlineEnd:eN,backgroundPositionX:eN,backgroundPositionY:eN,rotate:ek,rotateX:ek,rotateY:ek,rotateZ:ek,scale:eE,scaleX:eE,scaleY:eE,scaleZ:eE,skew:ek,skewX:ek,skewY:ek,distance:eN,translateX:eN,translateY:eN,translateZ:eN,x:eN,y:eN,z:eN,perspective:eN,transformPerspective:eN,opacity:eA,originX:eS,originY:eS,originZ:eN,zIndex:tx,fillOpacity:eA,strokeOpacity:eA,numOctaves:tx},tg={...ty,color:tr,backgroundColor:tr,outlineColor:tr,fill:tr,stroke:tr,borderColor:tr,borderTopColor:tr,borderRightColor:tr,borderBottomColor:tr,borderLeftColor:tr,filter:tm,WebkitFilter:tm},tb=e=>tg[e];function tw(e,t){let r=tb(e);return r!==tm&&(r=td),r.getAnimatableNone?r.getAnimatableNone(t):void 0}let tv=new Set(["auto","none","0"]);class tA extends e2{constructor(e,t,r,n,i){super(e,t,r,n,i,!0)}readKeyframes(){let{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let r=0;r<e.length;r++){let n=e[r];if("string"==typeof n&&ei(n=n.trim())){let i=function e(t,r,n=1){eM(n<=4,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");let[i,a]=function(e){let t=eF.exec(e);if(!t)return[,];let[,r,n,i]=t;return[`--${r??n}`,i]}(t);if(!i)return;let s=window.getComputedStyle(r).getPropertyValue(i);if(s){let e=s.trim();return/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e)?parseFloat(e):e}return ei(a)?e(a,r,n+1):a}(n,t.current);void 0!==i&&(e[r]=i),r===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!eb.has(r)||2!==e.length)return;let[n,i]=e,a=eB(n),s=eB(i);if(a!==s)if(eL(a)&&eL(s))for(let t=0;t<e.length;t++){let r=e[t];"string"==typeof r&&(e[t]=parseFloat(r))}else eG[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,r=[];for(let t=0;t<e.length;t++)(null===e[t]||function(e){if("number"==typeof e)return 0===e;if(null===e)return!0;return"none"===e||"0"===e||/^0[^.\s]+$/u.test(e)}(e[t]))&&r.push(t);r.length&&function(e,t,r){let n,i=0;for(;i<e.length&&!n;){let t=e[i];"string"==typeof t&&!tv.has(t)&&to(t).values.length&&(n=e[i]),i++}if(n&&r)for(let i of t)e[i]=tw(r,n)}(e,r,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;"height"===r&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=eG[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let n=t[t.length-1];void 0!==n&&e.getValue(r,n).jump(n,!1)}measureEndState(){let{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;let n=e.getValue(t);n&&n.jump(this.measuredOrigin,!1);let i=r.length-1,a=r[i];r[i]=eG[t](e.measureViewportBox(),window.getComputedStyle(e.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([t,r])=>{e.getValue(t).set(r)}),this.resolveNoneKeyframes()}}let tE=e=>!!(e&&e.getVelocity);function tT(){t=void 0}let tk={now:()=>(void 0===t&&tk.set(eW.isProcessing||ez.useManualTiming?eW.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(tT)}};function tP(e,t){-1===e.indexOf(t)&&e.push(t)}function tN(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}class tR{constructor(){this.subscriptions=[]}add(e){return tP(this.subscriptions,e),()=>tN(this.subscriptions,e)}notify(e,t,r){let n=this.subscriptions.length;if(n)if(1===n)this.subscriptions[0](e,t,r);else for(let i=0;i<n;i++){let n=this.subscriptions[i];n&&n(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}class tC{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=tk.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(let e of this.dependents)e.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=tk.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new tR);let r=this.events[e].add(t);return"change"===e?()=>{r(),eQ.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return w&&w.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=tk.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let r=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),r?1e3/r*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tS(e,t){return new tC(e,t)}let tI=[...eO,tr,td],{schedule:tO}=e_(queueMicrotask,!1),tB={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},tD={};for(let e in tB)tD[e]={isEnabled:t=>tB[e].some(e=>!!t[e])};let tU=()=>({translate:0,scale:1,origin:0,originPoint:0}),tM=()=>({x:tU(),y:tU()}),tF=()=>({min:0,max:0}),tL=()=>({x:tF(),y:tF()}),tV="undefined"!=typeof window,tj={current:null},tG={current:!1},tH=new WeakMap;function tz(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function tK(e){return"string"==typeof e||Array.isArray(e)}let t_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tQ=["initial",...t_];function tJ(e){return tz(e.animate)||tQ.some(t=>tK(e[t]))}function tW(e){return!!(tJ(e)||e.variants)}function tq(e){let t=[{},{}];return e?.values.forEach((e,r)=>{t[0][r]=e.get(),t[1][r]=e.getVelocity()}),t}function t$(e,t,r,n){if("function"==typeof t){let[i,a]=tq(n);t=t(void 0!==r?r:e.custom,i,a)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[i,a]=tq(n);t=t(void 0!==r?r:e.custom,i,a)}return t}let tY=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tZ{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=e2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=tk.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,eQ.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=n,this.options=s,this.blockInitialAnimation=!!i,this.isControllingVariants=tJ(t),this.isVariantNode=tW(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const e in u){const t=u[e];void 0!==o[e]&&tE(t)&&t.set(o[e])}}mount(e){this.current=e,tH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),tG.current||function(){if(tG.current=!0,tV)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>tj.current=e.matches;e.addEventListener("change",t),t()}else tj.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||tj.current),this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){for(let e in this.projection&&this.projection.unmount(),eJ(this.notifyUpdate),eJ(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this),this.events)this.events[e].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let r;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let n=K.has(e);n&&this.onBindTransform&&this.onBindTransform();let i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&eQ.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in tD){let t=tD[e];if(!t)continue;let{isEnabled:r,Feature:n}=t;if(!this.features[e]&&n&&r(this.props)&&(this.features[e]=new n(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tL()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<tY.length;t++){let r=tY[t];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);let n=e["on"+r];n&&(this.propEventSubscriptions[r]=this.on(r,n))}this.prevMotionValues=function(e,t,r){for(let n in t){let i=t[n],a=r[n];if(tE(i))e.addValue(n,i);else if(tE(a))e.addValue(n,tS(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){let t=e.getValue(n);!0===t.liveStyle?t.jump(i):t.hasAnimated||t.set(i)}else{let t=e.getStaticValue(n);e.addValue(n,tS(void 0!==t?t:i,{owner:e}))}}for(let n in r)void 0===t[n]&&e.removeValue(n);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return void 0===r&&void 0!==t&&(r=tS(null===t?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=r){let n,i;if("string"==typeof r&&(n=r,/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n)||(i=r,/^0[^.\s]+$/u.test(i))))r=parseFloat(r);else{let n;n=r,!tI.find(eI(n))&&td.test(t)&&(r=tw(e,t))}this.setBaseTarget(e,tE(r)?r.get():r)}return tE(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:r}=this.props;if("string"==typeof r||"object"==typeof r){let n=t$(this.props,r,this.presenceContext?.custom);n&&(t=n[e])}if(r&&void 0!==t)return t;let n=this.getBaseTargetFromProps(this.props,e);return void 0===n||tE(n)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:n}on(e,t){return this.events[e]||(this.events[e]=new tR),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){tO.render(this.render)}}class tX extends tZ{constructor(){super(...arguments),this.KeyframeResolver=tA}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;tE(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}let t0=(e,t)=>t&&"number"==typeof e?t.transform(e):e,t1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},t2=z.length;function t5(e,t,r){let{style:n,vars:i,transformOrigin:a}=e,s=!1,o=!1;for(let e in t){let r=t[e];if(K.has(e)){s=!0;continue}if(er(e)){i[e]=r;continue}{let t=t0(r,ty[e]);e.startsWith("origin")?(o=!0,a[e]=t):n[e]=t}}if(!t.transform&&(s||r?n.transform=function(e,t,r){let n="",i=!0;for(let a=0;a<t2;a++){let s=z[a],o=e[s];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!s.startsWith("scale"):0===parseFloat(o))||r){let e=t0(o,ty[s]);if(!l){i=!1;let t=t1[s]||s;n+=`${t}(${e}) `}r&&(t[s]=e)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}(t,e.transform,r):n.transform&&(n.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:r=0}=a;n.transformOrigin=`${e} ${t} ${r}`}}function t3(e,{style:t,vars:r},n,i){let a,s=e.style;for(a in t)s[a]=t[a];for(a in i?.applyProjectionStyles(s,n),r)s.setProperty(a,r[a])}function t4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let t6={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!eN.test(e))return e;else e=parseFloat(e);let r=t4(e,t.target.x),n=t4(e,t.target.y);return`${r}% ${n}%`}},t8={borderRadius:{...t6,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:t6,borderTopRightRadius:t6,borderBottomLeftRadius:t6,borderBottomRightRadius:t6,boxShadow:{correct:(e,{treeScale:t,projectionDelta:r})=>{let n=td.parse(e);if(n.length>5)return e;let i=td.createTransformer(e),a=+("number"!=typeof n[0]),s=r.x.scale*t.x,o=r.y.scale*t.y;n[0+a]/=s,n[1+a]/=o;let l=eo(s,o,.5);return"number"==typeof n[2+a]&&(n[2+a]/=l),"number"==typeof n[3+a]&&(n[3+a]/=l),i(n)}}};function t9(e,{layout:t,layoutId:r}){return K.has(e)||e.startsWith("origin")||(t||void 0!==r)&&(!!t8[e]||"opacity"===e)}function t7(e,t,r){let{style:n}=e,i={};for(let a in n)(tE(n[a])||t.style&&tE(t.style[a])||t9(a,e)||r?.getValue(a)?.liveStyle!==void 0)&&(i[a]=n[a]);return i}class re extends tX{constructor(){super(...arguments),this.type="html",this.renderInstance=t3}readValueFromInstance(e,t){if(K.has(t))return this.projection?.isProjecting?Z(t):((e,t)=>{let{transform:r="none"}=getComputedStyle(e);return X(r,t)})(e,t);{let r=window.getComputedStyle(e),n=(er(t)?r.getPropertyValue(t):r[t])||0;return"string"==typeof n?n.trim():n}}measureInstanceViewportBox(e,{transformPagePoint:t}){return eg(e,t)}build(e,t,r){t5(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return t7(e,t,r)}}let rt=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rr={offset:"stroke-dashoffset",array:"stroke-dasharray"},rn={offset:"strokeDashoffset",array:"strokeDasharray"};function ri(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,u){if(t5(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:d,style:h}=e;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=u?.transformBox??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==r&&(d.y=r),void 0!==n&&(d.scale=n),void 0!==i&&function(e,t,r=1,n=0,i=!0){e.pathLength=1;let a=i?rr:rn;e[a.offset]=eN.transform(-n);let s=eN.transform(t),o=eN.transform(r);e[a.array]=`${s} ${o}`}(d,i,a,s,!1)}let ra=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),rs=e=>"string"==typeof e&&"svg"===e.toLowerCase();function ro(e,t,r){let n=t7(e,t,r);for(let r in e)(tE(e[r])||tE(t[r]))&&(n[-1!==z.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]);return n}class rl extends tX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tL}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(K.has(t)){let e=tb(t);return e&&e.default||0}return t=ra.has(t)?t:rt(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return ro(e,t,r)}build(e,t,r){ri(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,n){for(let r in t3(e,t,void 0,n),t.attrs)e.setAttribute(ra.has(r)?r:rt(r),t.attrs[r])}mount(e){this.isSVGTag=rs(e.tagName),super.mount(e)}}let rc=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ru(e){if("string"!=typeof e||e.includes("-"));else if(rc.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let rd=(0,O.createContext)({}),rh=(0,O.createContext)({strict:!1}),rf=(0,O.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),rp=(0,O.createContext)({});function rm(e){return Array.isArray(e)?e.join(" "):e}let rx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ry(e,t,r){for(let n in t)tE(t[n])||t9(n,r)||(e[n]=t[n])}let rg=()=>({...rx(),attrs:{}}),rb=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rw(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rb.has(e)}let rv=e=>!rw(e);try{v=(()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default,"function"==typeof v&&(rv=e=>e.startsWith("on")?!rw(e):v(e))}catch{}let rA=(0,O.createContext)(null);function rE(e){let t=(0,O.useRef)(null);return null===t.current&&(t.current=e()),t.current}function rT(e){return tE(e)?e.get():e}let rk=e=>(t,r)=>{let n=(0,O.useContext)(rp),i=(0,O.useContext)(rA),a=()=>(function({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:function(e,t,r,n){let i={},a=n(e,{});for(let e in a)i[e]=rT(a[e]);let{initial:s,animate:o}=e,l=tJ(e),c=tW(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===o&&(o=t.animate));let u=!!r&&!1===r.initial,d=(u=u||!1===s)?o:s;if(d&&"boolean"!=typeof d&&!tz(d)){let t=Array.isArray(d)?d:[d];for(let r=0;r<t.length;r++){let n=t$(e,t[r]);if(n){let{transitionEnd:e,transition:t,...r}=n;for(let e in r){let t=r[e];if(Array.isArray(t)){let e=u?t.length-1:0;t=t[e]}null!==t&&(i[e]=t)}for(let t in e)i[t]=e[t]}}}return i}(r,n,i,e),renderState:t()}})(e,t,n,i);return r?a():rE(a)},rP=rk({scrapeMotionValuesFromProps:t7,createRenderState:rx}),rN=rk({scrapeMotionValuesFromProps:ro,createRenderState:rg}),rR=Symbol.for("motionComponentSymbol");function rC(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let rS="data-"+rt("framerAppearId"),rI=(0,O.createContext)({}),rO=tV?O.useLayoutEffect:O.useEffect;function rB(e,{forwardMotionProps:t=!1,type:r}={},n,i){n&&function(e){for(let t in e)tD[t]={...tD[t],...e[t]}}(n);let a=r?"svg"===r:ru(e),s=a?rN:rP;function o(r,n){var o;let l,c={...(0,O.useContext)(rf),...r,layoutId:function({layoutId:e}){let t=(0,O.useContext)(rd).id;return t&&void 0!==e?t+"-"+e:e}(r)},{isStatic:u}=c,d=function(e){let{initial:t,animate:r}=function(e,t){if(tJ(e)){let{initial:t,animate:r}=e;return{initial:!1===t||tK(t)?t:void 0,animate:tK(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,O.useContext)(rp));return(0,O.useMemo)(()=>({initial:t,animate:r}),[rm(t),rm(r)])}(r),h=s(r,u);if(!u&&tV){(0,O.useContext)(rh).strict;let t=function(e){let{drag:t,layout:r}=tD;if(!t&&!r)return{};let n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}(c);l=t.MeasureLayout,d.visualElement=function(e,t,r,n,i,a){let{visualElement:s}=(0,O.useContext)(rp),o=(0,O.useContext)(rh),l=(0,O.useContext)(rA),c=(0,O.useContext)(rf).reducedMotion,u=(0,O.useRef)(null);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:!!l&&!1===l.initial,reducedMotionConfig:c,isSVG:a}));let d=u.current,h=(0,O.useContext)(rI);d&&!d.projection&&i&&("html"===d.type||"svg"===d.type)&&function(e,t,r,n){let{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&rC(o),visualElement:e,animationType:"string"==typeof a?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}(u.current,r,i,h);let f=(0,O.useRef)(!1);(0,O.useInsertionEffect)(()=>{d&&f.current&&d.update(r,l)});let p=r[rS],m=(0,O.useRef)(!!p&&!window.MotionHandoffIsComplete?.(p)&&window.MotionHasOptimisedAnimation?.(p));return rO(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),m.current&&d.animationState&&d.animationState.animateChanges())}),(0,O.useEffect)(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(p)}),m.current=!1),d.enteringChildren=void 0)}),d}(e,h,c,i,t.ProjectionNode,a)}return(0,I.jsxs)(rp.Provider,{value:d,children:[l&&d.visualElement?(0,I.jsx)(l,{visualElement:d.visualElement,...c}):null,function(e,t,r,{latestValues:n},i,a=!1,s){let o=(s??ru(e)?function(e,t,r,n){let i=(0,O.useMemo)(()=>{let r=rg();return ri(r,t,rs(n),e.transformTemplate,e.style),{...r.attrs,style:{...r.style}}},[t]);if(e.style){let t={};ry(t,e.style,e),i.style={...t,...i.style}}return i}:function(e,t){let r,n,i={},a=(r=e.style||{},ry(n={},r,e),Object.assign(n,function({transformTemplate:e},t){return(0,O.useMemo)(()=>{let r=rx();return t5(r,t,e),Object.assign({},r.vars,r.style)},[t])}(e,t)),n);return e.drag&&!1!==e.dragListener&&(i.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=!0===e.drag?"none":`pan-${"x"===e.drag?"y":"x"}`),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(i.tabIndex=0),i.style=a,i})(t,n,i,e),l=function(e,t,r){let n={};for(let i in e)("values"!==i||"object"!=typeof e.values)&&(rv(i)||!0===r&&rw(i)||!t&&!rw(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}(t,"string"==typeof e,a),c=e!==O.Fragment?{...l,...o,ref:r}:{},{children:u}=t,d=(0,O.useMemo)(()=>tE(u)?u.get():u,[u]);return(0,O.createElement)(e,{...c,children:d})}(e,r,(o=d.visualElement,(0,O.useCallback)(e=>{e&&h.onMount&&h.onMount(e),o&&(e?o.mount(e):o.unmount()),n&&("function"==typeof n?n(e):rC(n)&&(n.current=e))},[o])),h,u,t,a)]})}o.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;let l=(0,O.forwardRef)(o);return l[rR]=e,l}function rD(e,t,r){let n=e.getProps();return t$(n,t,void 0!==r?r:n.custom,e)}function rU(e,t){return e?.[t]??e?.default??e}let rM=e=>Array.isArray(e);function rF(e,t){let r=e.getValue("willChange");if(tE(r)&&r.add)return r.add(t);if(!r&&ez.WillChange){let r=new ez.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function rL(e){e.duration=0,e.type="keyframes"}let rV=(e,t)=>r=>t(e(r)),rj=(...e)=>e.reduce(rV),rG=e=>1e3*e,rH={layout:0,mainThread:0,waapi:0};function rz(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rK(e,t){return r=>r>0?t:e}let r_=(e,t,r)=>{let n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},rQ=[te,e7,tt];function rJ(e){let t=rQ.find(t=>t.test(e));if(eU(!!t,`'${e}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!t)return!1;let r=t.parse(e);return t===tt&&(r=function({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,r/=100;let i=0,a=0,s=0;if(t/=100){let n=r<.5?r*(1+t):r+t-r*t,o=2*r-n;i=rz(o,n,e+1/3),a=rz(o,n,e),s=rz(o,n,e-1/3)}else i=a=s=r;return{red:Math.round(255*i),green:Math.round(255*a),blue:Math.round(255*s),alpha:n}}(r)),r}let rW=(e,t)=>{let r=rJ(e),n=rJ(t);if(!r||!n)return rK(e,t);let i={...r};return e=>(i.red=r_(r.red,n.red,e),i.green=r_(r.green,n.green,e),i.blue=r_(r.blue,n.blue,e),i.alpha=eo(r.alpha,n.alpha,e),e7.transform(i))},rq=new Set(["none","hidden"]);function r$(e,t){return r=>eo(e,t,r)}function rY(e){return"number"==typeof e?r$:"string"==typeof e?ei(e)?rK:tr.test(e)?rW:r0:Array.isArray(e)?rZ:"object"==typeof e?tr.test(e)?rW:rX:rK}function rZ(e,t){let r=[...e],n=r.length,i=e.map((e,r)=>rY(e)(e,t[r]));return e=>{for(let t=0;t<n;t++)r[t]=i[t](e);return r}}function rX(e,t){let r={...e,...t},n={};for(let i in r)void 0!==e[i]&&void 0!==t[i]&&(n[i]=rY(e[i])(e[i],t[i]));return e=>{for(let t in n)r[t]=n[t](e);return r}}let r0=(e,t)=>{let r=td.createTransformer(t),n=to(e),i=to(t);if(!(n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length))return eU(!0,`Complex values '${e}' and '${t}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),rK(e,t);if(rq.has(e)&&!i.values.length||rq.has(t)&&!n.values.length)return rq.has(e)?r=>r<=0?e:t:r=>r>=1?t:e;return rj(rZ(function(e,t){let r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){let a=t.types[i],s=e.indexes[a][n[a]],o=e.values[s]??0;r[i]=o,n[a]++}return r}(n,i),i.values),r)};function r1(e,t,r){return"number"==typeof e&&"number"==typeof t&&"number"==typeof r?eo(e,t,r):rY(e)(e,t)}let r2=e=>{let t=({timestamp:t})=>e(t);return{start:(e=!0)=>eQ.update(t,e),stop:()=>eJ(t),now:()=>eW.isProcessing?eW.timestamp:tk.now()}},r5=(e,t,r=10)=>{let n="",i=Math.max(Math.round(t/r),2);for(let t=0;t<i;t++)n+=Math.round(1e4*e(t/(i-1)))/1e4+", ";return`linear(${n.substring(0,n.length-2)})`};function r3(e){let t=0,r=e.next(t);for(;!r.done&&t<2e4;)t+=50,r=e.next(t);return t>=2e4?1/0:t}function r4(e,t,r){var n,i;let a=Math.max(t-5,0);return n=r-e(a),(i=t-a)?1e3/i*n:0}let r6=.01,r8=2,r9=.005,r7=.5;function ne(e,t){return e*Math.sqrt(1-t*t)}let nt=["duration","bounce"],nr=["stiffness","damping","mass"];function nn(e,t){return t.some(t=>void 0!==e[t])}function ni(e=.3,t=.3){let r,n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e,{restSpeed:i,restDelta:a}=n,s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:p}=function(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!nn(e,nr)&&nn(e,nt))if(e.visualDuration){let r=2*Math.PI/(1.2*e.visualDuration),n=r*r,i=2*ew(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:1,stiffness:n,damping:i}}else{let r=function({duration:e=800,bounce:t=.3,velocity:r=0,mass:n=1}){let i,a;eU(e<=rG(10),"Spring duration must be 10 seconds or less","spring-duration-limit");let s=1-t;s=ew(.05,1,s),e=ew(.01,10,e/1e3),s<1?(i=t=>{let n=t*s,i=n*e;return .001-(n-r)/ne(t,s)*Math.exp(-i)},a=t=>{let n=t*s*e,a=Math.pow(s,2)*Math.pow(t,2)*e,o=Math.exp(-n),l=ne(Math.pow(t,2),s);return(n*r+r-a)*o*(-i(t)+.001>0?-1:1)/l}):(i=t=>-.001+Math.exp(-t*e)*((t-r)*e+1),a=t=>e*e*(r-t)*Math.exp(-t*e));let o=function(e,t,r){let n=r;for(let r=1;r<12;r++)n-=e(n)/t(n);return n}(i,a,5/e);if(e=rG(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{let t=Math.pow(o,2)*n;return{stiffness:t,damping:2*s*Math.sqrt(n*t),duration:e}}}(e);(t={...t,...r,mass:1}).isResolvedFromDuration=!0}return t}({...n,velocity:-((n.velocity||0)/1e3)}),m=f||0,x=u/(2*Math.sqrt(c*d)),y=o-s,g=Math.sqrt(c/d)/1e3,b=5>Math.abs(y);if(i||(i=b?r6:r8),a||(a=b?r9:r7),x<1){let e=ne(g,x);r=t=>o-Math.exp(-x*g*t)*((m+x*g*y)/e*Math.sin(e*t)+y*Math.cos(e*t))}else if(1===x)r=e=>o-Math.exp(-g*e)*(y+(m+g*y)*e);else{let e=g*Math.sqrt(x*x-1);r=t=>{let r=Math.exp(-x*g*t),n=Math.min(e*t,300);return o-r*((m+x*g*y)*Math.sinh(n)+e*y*Math.cosh(n))/e}}let w={calculatedDuration:p&&h||null,next:e=>{let t=r(e);if(p)l.done=e>=h;else{let n=0===e?m:0;x<1&&(n=0===e?rG(m):r4(r,e,t));let s=Math.abs(o-t)<=a;l.done=Math.abs(n)<=i&&s}return l.value=l.done?o:t,l},toString:()=>{let e=Math.min(r3(w),2e4),t=r5(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function na({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){let d,h,f=e[0],p={done:!1,value:f},m=r*t,x=f+m,y=void 0===s?x:s(x);y!==x&&(m=y-f);let g=e=>-m*Math.exp(-e/n),b=e=>y+g(e),w=e=>{let t=g(e),r=b(e);p.done=Math.abs(t)<=c,p.value=p.done?y:r},v=e=>{let t;if(t=p.value,void 0!==o&&t<o||void 0!==l&&t>l){var r;d=e,h=ni({keyframes:[p.value,(r=p.value,void 0===o?l:void 0===l||Math.abs(o-r)<Math.abs(l-r)?o:l)],velocity:r4(b,e,p.value),damping:i,stiffness:a,restDelta:c,restSpeed:u})}};return v(0),{calculatedDuration:null,next:e=>{let t=!1;return(h||void 0!==d||(t=!0,w(e),v(e)),void 0!==d&&e>=d)?h.next(e-d):(t||w(e),p)}}}ni.applyToOptions=e=>{let t=function(e,t=100,r){let n=r({...e,keyframes:[0,t]}),i=Math.min(r3(n),2e4);return{type:"keyframes",ease:e=>n.next(i*e).value/t,duration:i/1e3}}(e,100,ni);return e.ease=t.ease,e.duration=rG(t.duration),e.type="keyframes",e};let ns=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e;function no(e,t,r,n){return e===t&&r===n?eH:i=>0===i||1===i?i:ns(function(e,t,r,n,i){let a,s,o=0;do(a=ns(s=t+(r-t)/2,n,i)-e)>0?r=s:t=s;while(Math.abs(a)>1e-7&&++o<12)return s}(i,0,1,e,r),t,n)}let nl=no(.42,0,1,1),nc=no(0,0,.58,1),nu=no(.42,0,.58,1),nd=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nh=e=>t=>1-e(1-t),nf=no(.33,1.53,.69,.99),np=nh(nf),nm=nd(np),nx=e=>(e*=2)<1?.5*np(e):.5*(2-Math.pow(2,-10*(e-1))),ny=e=>1-Math.sin(Math.acos(e)),ng=nh(ny),nb=nd(ny),nw=e=>Array.isArray(e)&&"number"==typeof e[0],nv={linear:eH,easeIn:nl,easeInOut:nu,easeOut:nc,circIn:ny,circInOut:nb,circOut:ng,backIn:np,backInOut:nm,backOut:nf,anticipate:nx},nA=e=>{if(nw(e)){eM(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,r,n,i]=e;return no(t,r,n,i)}return"string"==typeof e?(eM(void 0!==nv[e],`Invalid easing type '${e}'`,"invalid-easing-type"),nv[e]):e},nE=(e,t,r)=>{let n=t-e;return 0===n?1:(r-e)/n};function nT({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){var i;let a,s=Array.isArray(n)&&"number"!=typeof n[0]?n.map(nA):nA(n),o={done:!1,value:t[0]},l=function(e,t,{clamp:r=!0,ease:n,mixer:i}={}){let a=e.length;if(eM(a===t.length,"Both input and output ranges must be the same length","range-length"),1===a)return()=>t[0];if(2===a&&t[0]===t[1])return()=>t[1];let s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,r){let n=[],i=r||ez.mix||r1,a=e.length-1;for(let r=0;r<a;r++){let a=i(e[r],e[r+1]);t&&(a=rj(Array.isArray(t)?t[r]||eH:t,a)),n.push(a)}return n}(t,n,i),l=o.length,c=r=>{if(s&&r<e[0])return t[0];let n=0;if(l>1)for(;n<e.length-2&&!(r<e[n+1]);n++);let i=nE(e[n],e[n+1],r);return o[n](i)};return r?t=>c(ew(e[0],e[a-1],t)):c}((i=r&&r.length===t.length?r:(!function(e,t){let r=e[e.length-1];for(let n=1;n<=t;n++){let i=nE(0,t,n);e.push(eo(r,1,i))}}(a=[0],t.length-1),a),i.map(t=>t*e)),t,{ease:Array.isArray(s)?s:t.map(()=>s||nu).splice(0,t.length-1)});return{calculatedDuration:e,next:t=>(o.value=l(t),o.done=t>=e,o)}}let nk=e=>null!==e;function nP(e,{repeat:t,repeatType:r="loop"},n,i=1){let a=e.filter(nk),s=i<0||t&&"loop"!==r&&t%2==1?0:a.length-1;return s&&void 0!==n?n:a[s]}let nN={decay:na,inertia:na,tween:nT,keyframes:nT,spring:ni};function nR(e){"string"==typeof e.type&&(e.type=nN[e.type])}class nC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}let nS=e=>e/100;class nI extends nC{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{let{motionValue:e}=this.options;e&&e.updatedAt!==tk.now()&&this.tick(tk.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),this.options.onStop?.())},rH.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){let{options:e}=this;nR(e);let{type:t=nT,repeat:r=0,repeatDelay:n=0,repeatType:i,velocity:a=0}=e,{keyframes:s}=e,o=t||nT;o!==nT&&"number"!=typeof s[0]&&(this.mixKeyframes=rj(nS,r1(s[0],s[1])),s=[0,100]);let l=o({...e,keyframes:s});"mirror"===i&&(this.mirroredGenerator=o({...e,keyframes:[...s].reverse(),velocity:-a})),null===l.calculatedDuration&&(l.calculatedDuration=r3(l));let{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){let{generator:r,totalDuration:n,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:s,calculatedDuration:o}=this;if(null===this.startTime)return r.next(0);let{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:h,type:f,onUpdate:p,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-n/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let x=this.currentTime-l*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?x<0:x>n;this.currentTime=Math.max(x,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=n);let g=this.currentTime,b=r;if(u){let e=Math.min(this.currentTime,n)/s,t=Math.floor(e),r=e%1;!r&&e>=1&&(r=1),1===r&&t--,(t=Math.min(t,u+1))%2&&("reverse"===d?(r=1-r,h&&(r-=h/s)):"mirror"===d&&(b=a)),g=ew(0,1,r)*s}let w=y?{done:!1,value:c[0]}:b.next(g);i&&(w.value=i(w.value));let{done:v}=w;y||null===o||(v=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);let A=null===this.holdTime&&("finished"===this.state||"running"===this.state&&v);return A&&f!==na&&(w.value=nP(c,this.options,m,this.speed)),p&&p(w.value),A&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){e=rG(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(tk.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){if(this.isStopped)return;let{driver:e=r2,startTime:t}=this.options;this.driver||(this.driver=e(e=>this.tick(e))),this.options.onPlay?.();let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(tk.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,rH.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function nO(e){let t;return()=>(void 0===t&&(t=e()),t)}let nB=nO(()=>void 0!==window.ScrollTimeline),nD={},nU=(y=nO(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0}),()=>nD.linearEasing??y()),nM=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,nF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nM([0,.65,.55,1]),circOut:nM([.55,0,1,.45]),backIn:nM([.31,.01,.66,-.59]),backOut:nM([.33,1.53,.69,.99])};function nL(e){return"function"==typeof e&&"applyToOptions"in e}class nV extends nC{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:r,keyframes:n,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:s,onComplete:o}=e;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=e,eM("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function({type:e,...t}){return nL(e)&&nU()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=function(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c){let u={[t]:r};l&&(u.offset=l);let d=function e(t,r){if(t)return"function"==typeof t?nU()?r5(t,r):"ease-out":nw(t)?nM(t):Array.isArray(t)?t.map(t=>e(t,r)||nF.easeOut):nF[t]}(o,i);Array.isArray(d)&&(u.easing=d);let h={delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);let f=e.animate(u,h);return f}(t,r,n,l,i),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){let e=nP(n,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):r.startsWith("--")?t.style.setProperty(r,e):t.style[r]=e,this.animation.cancel()}o?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){return Number(this.animation.effect?.getComputedTiming?.().duration||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=rG(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return(this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&nB())?(this.animation.timeline=e,eH):t(this)}}let nj={anticipate:nx,backInOut:nm,circInOut:nb};class nG extends nV{constructor(e){!function(e){"string"==typeof e.ease&&e.ease in nj&&(e.ease=nj[e.ease])}(e),nR(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){let{motionValue:t,onUpdate:r,onComplete:n,element:i,...a}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);let s=new nI({...a,autoplay:!1}),o=rG(this.finishedTime??this.time);t.setWithVelocity(s.sample(o-10).value,s.sample(o).value,10),s.stop()}}let nH=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(td.test(e)||"0"===e)&&!e.startsWith("url(")),nz=new Set(["opacity","clipPath","filter","transform"]),nK=nO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class n_ extends nC{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a="loop",keyframes:s,name:o,motionValue:l,element:c,...u}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=tk.now();const d={autoplay:e,delay:t,type:r,repeat:n,repeatDelay:i,repeatType:a,name:o,motionValue:l,element:c,...u},h=c?.KeyframeResolver||e2;this.keyframeResolver=new h(s,(e,t,r)=>this.onKeyframesResolved(e,t,d,!r),o,l,c),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,r,n){this.keyframeResolver=void 0;let{name:i,type:a,velocity:s,delay:o,isHandoff:l,onUpdate:c}=r;this.resolvedAt=tk.now(),!function(e,t,r,n){let i=e[0];if(null===i)return!1;if("display"===t||"visibility"===t)return!0;let a=e[e.length-1],s=nH(i,t),o=nH(a,t);return eU(s===o,`You are trying to animate ${t} from "${i}" to "${a}". "${s?a:i}" is not an animatable value.`,"value-not-animatable"),!!s&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}(e)||("spring"===r||nL(r))&&n)}(e,i,a,s)&&((ez.instantAnimations||!o)&&c?.(nP(e,r,t)),e[0]=e[e.length-1],rL(r),r.repeat=0);let u={startTime:n?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},d=!l&&function(e){let{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;let{onUpdate:o,transformTemplate:l}=t.owner.getProps();return nK()&&r&&nz.has(r)&&("transform"!==r||!l)&&!o&&!n&&"mirror"!==i&&0!==a&&"inertia"!==s}(u)?new nG({...u,element:u.motionValue.owner.current}):new nI(u);d.finished.then(()=>this.notifyFinished()).catch(eH),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),eX=!0,e1(),e0(),eX=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}let nQ=e=>null!==e,nJ={type:"spring",stiffness:500,damping:25,restSpeed:10},nW={type:"keyframes",duration:.8},nq={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},n$=(e,t,r,n={},i,a)=>s=>{let o=rU(n,e)||{},l=o.delay||n.delay||0,{elapsed:c=0}=n;c-=rG(l);let u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};!function({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}(o)&&Object.assign(u,((e,{keyframes:t})=>t.length>2?nW:K.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:nJ:nq)(e,u)),u.duration&&(u.duration=rG(u.duration)),u.repeatDelay&&(u.repeatDelay=rG(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if(!1!==u.type&&(0!==u.duration||u.repeatDelay)||(rL(u),0===u.delay&&(d=!0)),(ez.instantAnimations||ez.skipAnimations)&&(d=!0,rL(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!a&&void 0!==t.get()){let e=function(e,{repeat:t,repeatType:r="loop"},n){let i=e.filter(nQ),a=t&&"loop"!==r&&t%2==1?0:i.length-1;return i[a]}(u.keyframes,o);if(void 0!==e)return void eQ.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new nI(u):new n_(u)};function nY(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(a=n);let l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(let t in o){let n=e.getValue(t,e.latestValues[t]??null),i=o[t];if(void 0===i||c&&function({protectedKeys:e,needsAnimating:t},r){let n=e.hasOwnProperty(r)&&!0!==t[r];return t[r]=!1,n}(c,t))continue;let s={delay:r,...rU(a||{},t)},u=n.get();if(void 0!==u&&!n.isAnimating&&!Array.isArray(i)&&i===u&&!s.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){let r=e.props[rS];if(r){let e=window.MotionHandoffAnimation(r,t,eQ);null!==e&&(s.startTime=e,d=!0)}}rF(e,t),n.start(n$(t,n,i,e.shouldReduceMotion&&eb.has(t)?{type:!1}:s,e,d));let h=n.animation;h&&l.push(h)}return s&&Promise.all(l).then(()=>{eQ.update(()=>{s&&function(e,t){let{transitionEnd:r={},transition:n={},...i}=rD(e,t)||{};for(let t in i={...i,...r}){var a;let r=rM(a=i[t])?a[a.length-1]||0:a;e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,tS(r))}}(e,s)})}),l}function nZ(e,t,r,n=0,i=1){let a=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),s=e.size,o=(s-1)*n;return"function"==typeof r?r(a,s):1===i?a*n:o-a*n}function nX(e,t,r={}){let n=rD(e,t,"exit"===r.type?e.presenceContext?.custom:void 0),{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);let a=n?()=>Promise.all(nY(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(n=0)=>{let{delayChildren:a=0,staggerChildren:s,staggerDirection:o}=i;return function(e,t,r=0,n=0,i=0,a=1,s){let o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(nX(l,t,{...s,delay:r+("function"==typeof n?0:n)+nZ(e.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,a,s,o,r)}:()=>Promise.resolve(),{when:o}=i;if(!o)return Promise.all([a(),s(r.delay)]);{let[e,t]="beforeChildren"===o?[a,s]:[s,a];return e().then(()=>t())}}function n0(e,t){if(!Array.isArray(t))return!1;let r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}let n1=tQ.length,n2=[...t_].reverse(),n5=t_.length;function n3(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function n4(){return{animate:n3(!0),whileInView:n3(),whileHover:n3(),whileTap:n3(),whileDrag:n3(),whileFocus:n3(),exit:n3()}}class n6{constructor(e){this.isMounted=!1,this.node=e}update(){}}let n8=0,n9={x:!1,y:!1};function n7(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}let ie=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function it(e){return{point:{x:e.pageX,y:e.pageY}}}function ir(e,t,r,n){return n7(e,t,e=>ie(e)&&r(e,it(e)),n)}function ii(e){return e.max-e.min}function ia(e,t,r,n=.5){e.origin=n,e.originPoint=eo(t.min,t.max,e.origin),e.scale=ii(r)/ii(t),e.translate=eo(r.min,r.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function is(e,t,r,n){ia(e.x,t.x,r.x,n?n.originX:void 0),ia(e.y,t.y,r.y,n?n.originY:void 0)}function io(e,t,r){e.min=r.min+t.min,e.max=e.min+ii(t)}function il(e,t,r){e.min=t.min-r.min,e.max=e.min+ii(t)}function ic(e,t,r){il(e.x,t.x,r.x),il(e.y,t.y,r.y)}function iu(e){return[e("x"),e("y")]}let id=({current:e})=>e?e.ownerDocument.defaultView:null,ih=(e,t)=>Math.abs(e-t);class ip{constructor(e,t,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{var e,t;if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let r=iy(this.lastMoveEventInfo,this.history),n=null!==this.startEvent,i=(e=r.offset,t={x:0,y:0},Math.sqrt(ih(e.x,t.x)**2+ih(e.y,t.y)**2)>=this.distanceThreshold);if(!n&&!i)return;let{point:a}=r,{timestamp:s}=eW;this.history.push({...a,timestamp:s});let{onStart:o,onMove:l}=this.handlers;n||(o&&o(this.lastMoveEvent,r),this.startEvent=this.lastMoveEvent),l&&l(this.lastMoveEvent,r)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=im(t,this.transformPagePoint),eQ.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:r,onSessionEnd:n,resumeAnimation:i}=this.handlers;if(this.dragSnapToOrigin&&i&&i(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let a=iy("pointercancel"===e.type?this.lastMoveEventInfo:im(t,this.transformPagePoint),this.history);this.startEvent&&r&&r(e,a),n&&n(e,a)},!ie(e))return;this.dragSnapToOrigin=i,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=n||window;const s=im(it(e),this.transformPagePoint),{point:o}=s,{timestamp:l}=eW;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,iy(s,this.history)),this.removeListeners=rj(ir(this.contextWindow,"pointermove",this.handlePointerMove),ir(this.contextWindow,"pointerup",this.handlePointerUp),ir(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),eJ(this.updatePoint)}}function im(e,t){return t?{point:t(e.point)}:e}function ix(e,t){return{x:e.x-t.x,y:e.y-t.y}}function iy({point:e},t){return{point:e,delta:ix(e,ig(t)),offset:ix(e,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null,i=ig(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>rG(.1)));)r--;if(!n)return{x:0,y:0};let a=(i.timestamp-n.timestamp)/1e3;if(0===a)return{x:0,y:0};let s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}(t,.1)}}function ig(e){return e[e.length-1]}function ib(e,t,r){return{min:void 0!==t?e.min+t:void 0,max:void 0!==r?e.max+r-(e.max-e.min):void 0}}function iw(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function iv(e,t,r){return{min:iA(e,t),max:iA(e,r)}}function iA(e,t){return"number"==typeof e?e:e[t]||0}let iE=new WeakMap;class iT{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tL(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){let{presenceContext:n}=this.visualElement;if(n&&!1===n.isPresent)return;let i=e=>{let{dragSnapToOrigin:r}=this.getProps();r?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(it(e).point)},a=(e,t)=>{let{drag:r,dragPropagation:n,onDragStart:i}=this.getProps();if(r&&!n&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(n9[e])return null;else return n9[e]=!0,()=>{n9[e]=!1};return n9.x||n9.y?null:(n9.x=n9.y=!0,()=>{n9.x=n9.y=!1})}(r),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),iu(e=>{let t=this.getAxisMotionValue(e).get()||0;if(eP.test(t)){let{projection:r}=this.visualElement;if(r&&r.layout){let n=r.layout.layoutBox[e];n&&(t=ii(n)*(parseFloat(t)/100))}}this.originPoint[e]=t}),i&&eQ.postRender(()=>i(e,t)),rF(this.visualElement,"transform");let{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},s=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:r,dragDirectionLock:n,onDirectionLock:i,onDrag:a}=this.getProps();if(!r&&!this.openDragLock)return;let{offset:s}=t;if(n&&null===this.currentDirection){this.currentDirection=function(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}(s),null!==this.currentDirection&&i&&i(this.currentDirection);return}this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),a&&a(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>iu(e=>"paused"===this.getAnimationState(e)&&this.getAxisMotionValue(e).animation?.play()),{dragSnapToOrigin:c}=this.getProps();this.panSession=new ip(e,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:r,contextWindow:id(this.visualElement)})}stop(e,t){let r=e||this.latestPointerEvent,n=t||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!n||!r)return;let{velocity:a}=n;this.startAnimation(a);let{onDragEnd:s}=this.getProps();s&&eQ.postRender(()=>s(r,n))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){let{drag:n}=this.getProps();if(!r||!ik(e,n,this.currentDirection))return;let i=this.getAxisMotionValue(e),a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=function(e,{min:t,max:r},n){return void 0!==t&&e<t?e=n?eo(t,e,n.min):Math.max(e,t):void 0!==r&&e>r&&(e=n?eo(r,e,n.max):Math.min(e,r)),e}(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){let{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,n=this.constraints;e&&rC(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=function(e,{top:t,left:r,bottom:n,right:i}){return{x:ib(e.x,r,i),y:ib(e.y,t,n)}}(r.layoutBox,e):this.constraints=!1,this.elastic=function(e=.35){return!1===e?e=0:!0===e&&(e=.35),{x:iv(e,"left","right"),y:iv(e,"top","bottom")}}(t),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&iu(e=>{var t,n;let i;!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=(t=r.layoutBox[e],n=this.constraints[e],i={},void 0!==n.min&&(i.min=n.min-t.min),void 0!==n.max&&(i.max=n.max-t.min),i))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!rC(t))return!1;let n=t.current;eM(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:i}=this.visualElement;if(!i||!i.layout)return!1;let a=function(e,t,r){let n=eg(e,r),{scroll:i}=t;return i&&(em(n.x,i.offset.x),em(n.y,i.offset.y)),n}(n,i.root,this.visualElement.getTransformPagePoint()),s=(e=i.layout.layoutBox,{x:iw(e.x,a.x),y:iw(e.y,a.y)});if(r){let e=r(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=es(e))}return s}startAnimation(e){let{drag:t,dragMomentum:r,dragElastic:n,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:s}=this.getProps(),o=this.constraints||{};return Promise.all(iu(s=>{if(!ik(s,t,this.currentDirection))return;let l=o&&o[s]||{};a&&(l={min:0,max:0});let c={type:"inertia",velocity:r?e[s]:0,bounceStiffness:n?200:1e6,bounceDamping:n?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...i,...l};return this.startAxisValueAnimation(s,c)})).then(s)}startAxisValueAnimation(e,t){let r=this.getAxisMotionValue(e);return rF(this.visualElement,e),r.start(n$(e,r,0,t,this.visualElement,!1))}stopAnimation(){iu(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){iu(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){let t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps();return r[t]||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){iu(t=>{let{drag:r}=this.getProps();if(!ik(t,r,this.currentDirection))return;let{projection:n}=this.visualElement,i=this.getAxisMotionValue(t);if(n&&n.layout){let{min:r,max:a}=n.layout.layoutBox[t];i.set(e[t]-eo(r,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!rC(t)||!r||!this.constraints)return;this.stopAnimation();let n={x:0,y:0};iu(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){var r,i;let a,s,o,l=t.get();n[e]=(r={min:l,max:l},i=this.constraints[e],a=.5,s=ii(r),(o=ii(i))>s?a=nE(i.min,i.max-s,r.min):s>o&&(a=nE(r.min,r.max-o,i.min)),ew(0,1,a))}});let{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),iu(t=>{if(!ik(t,e,null))return;let r=this.getAxisMotionValue(t),{min:i,max:a}=this.constraints[t];r.set(eo(i,a,n[t]))})}addListeners(){if(!this.visualElement.current)return;iE.set(this.visualElement,this);let e=ir(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:r=!0}=this.getProps();t&&r&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();rC(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,n=r.addEventListener("measure",t);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),eQ.read(t);let i=n7(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(iu(t=>{let r=this.getAxisMotionValue(t);r&&(this.originPoint[t]+=e[t].translate,r.set(r.get()+e[t].translate))}),this.visualElement.render())});return()=>{i(),e(),n(),a&&a()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:i=!1,dragElastic:a=.35,dragMomentum:s=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:n,dragConstraints:i,dragElastic:a,dragMomentum:s}}}function ik(e,t,r){return(!0===t||t===e)&&(null===r||r===e)}let iP=e=>(t,r)=>{e&&eQ.postRender(()=>e(t,r))};var iN=O;function iR(e=!0){let t=(0,O.useContext)(rA);if(null===t)return[!0,null];let{isPresent:r,onExitComplete:n,register:i}=t,a=(0,O.useId)();(0,O.useEffect)(()=>{if(e)return i(a)},[e]);let s=(0,O.useCallback)(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,s]:[!0]}let iC={hasAnimatedSinceResize:!0,hasEverUpdated:!1},iS=!1;class iI extends iN.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:n}=this.props,{projection:i}=e;i&&(t.group&&t.group.add(i),r&&r.register&&n&&r.register(i),iS&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),iC.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:r,drag:n,isPresent:i}=this.props,{projection:a}=r;return a&&(a.isPresent=i,iS=!0,n||e.layoutDependency!==t||void 0===t||e.isPresent!==i?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||eQ.postRender(()=>{let e=a.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),tO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:n}=e;iS=!0,n&&(n.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function iO(e){let[t,r]=iR(),n=(0,iN.useContext)(rd);return(0,I.jsx)(iI,{...e,layoutGroup:n,switchLayoutGroup:(0,iN.useContext)(rI),isPresent:t,safeToRemove:r})}function iB(e){return"object"==typeof e&&null!==e}function iD(e){return iB(e)&&"ownerSVGElement"in e}let iU=(e,t)=>e.depth-t.depth;class iM{constructor(){this.children=[],this.isDirty=!1}add(e){tP(this.children,e),this.isDirty=!0}remove(e){tN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(iU),this.isDirty=!1,this.children.forEach(e)}}let iF=["TopLeft","TopRight","BottomLeft","BottomRight"],iL=iF.length,iV=e=>"string"==typeof e?parseFloat(e):e,ij=e=>"number"==typeof e||eN.test(e);function iG(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let iH=iK(0,.5,ng),iz=iK(.5,.95,eH);function iK(e,t,r){return n=>n<e?0:n>t?1:r(nE(e,t,n))}function i_(e,t){e.min=t.min,e.max=t.max}function iQ(e,t){i_(e.x,t.x),i_(e.y,t.y)}function iJ(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function iW(e,t,r,n,i){return e-=t,e=n+1/r*(e-n),void 0!==i&&(e=n+1/i*(e-n)),e}function iq(e,t,[r,n,i],a,s){!function(e,t=0,r=1,n=.5,i,a=e,s=e){if(eP.test(t)&&(t=parseFloat(t),t=eo(s.min,s.max,t/100)-s.min),"number"!=typeof t)return;let o=eo(a.min,a.max,n);e===a&&(o-=t),e.min=iW(e.min,t,r,o,i),e.max=iW(e.max,t,r,o,i)}(e,t[r],t[n],t[i],t.scale,a,s)}let i$=["x","scaleX","originX"],iY=["y","scaleY","originY"];function iZ(e,t,r,n){iq(e.x,t,i$,r?r.x:void 0,n?n.x:void 0),iq(e.y,t,iY,r?r.y:void 0,n?n.y:void 0)}function iX(e){return 0===e.translate&&1===e.scale}function i0(e){return iX(e.x)&&iX(e.y)}function i1(e,t){return e.min===t.min&&e.max===t.max}function i2(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function i5(e,t){return i2(e.x,t.x)&&i2(e.y,t.y)}function i3(e){return ii(e.x)/ii(e.y)}function i4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class i6{constructor(){this.members=[]}add(e){tP(this.members,e),e.scheduleRender()}remove(e){if(tN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,r=this.members.findIndex(t=>e===t);if(0===r)return!1;for(let e=r;e>=0;e--){let r=this.members[e];if(!1!==r.isPresent){t=r;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:n}=e.options;!1===n&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}let i8=["","X","Y","Z"],i9=0;function i7(e,t,r,n){let{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function ae({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(e={},r=t?.()){this.id=i9++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(an),this.nodes.forEach(au),this.nodes.forEach(ad),this.nodes.forEach(ai)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=r?r.root||r:this,this.path=r?[...r.path,r]:[],this.parent=r,this.depth=r?r.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new iM)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new tR),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){let r=this.eventHandlers.get(e);r&&r.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;this.isSVG=iD(t)&&!(iD(t)&&"svg"===t.tagName),this.instance=t;let{layoutId:r,layout:n,visualElement:i}=this.options;if(i&&!i.current&&i.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(n||r)&&(this.isLayoutDirty=!0),e){let r,n=0,i=()=>this.root.updateBlockedByResize=!1;eQ.read(()=>{n=window.innerWidth}),e(t,()=>{let e=window.innerWidth;if(e!==n){let t,a;n=e,this.root.updateBlockedByResize=!0,r&&r(),t=tk.now(),a=({timestamp:e})=>{let r=e-t;r>=250&&(eJ(a),i(r-250))},eQ.setup(a,!0),r=()=>eJ(a),iC.hasAnimatedSinceResize&&(iC.hasAnimatedSinceResize=!1,this.nodes.forEach(ac))}})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||n)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:r,layout:n})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||i.getDefaultTransition()||ay,{onLayoutAnimationStart:s,onLayoutAnimationComplete:o}=i.getProps(),l=!this.targetLayout||!i5(this.targetLayout,n),c=!t&&r;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let t={...rU(a,"layout"),onPlay:s,onComplete:o};(i.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||ac(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=n})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),eJ(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ah),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:r}=t.options;if(!r)return;let n=r.props[rS];if(window.MotionHasOptimisedAnimation(n,"transform")){let{layout:e,layoutId:r}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",eQ,!(e||r))}let{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&e(i)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:r}=this.options;if(void 0===t&&!r)return;let n=this.getTransformTemplate();this.prevTransformTemplateValue=n?n(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(as);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(ao);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(al),this.nodes.forEach(at),this.nodes.forEach(ar)):this.nodes.forEach(ao),this.clearAllSnapshots();let e=tk.now();eW.delta=ew(0,1e3/60,e-eW.timestamp),eW.timestamp=e,eW.isProcessing=!0,eq.update.process(eW),eq.preRender.process(eW),eq.render.process(eW),eW.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,tO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aa),this.sharedNodes.forEach(af)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,eQ.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){eQ.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||ii(this.snapshot.measuredBox.x)||ii(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=tL(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=n(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!i0(this.projectionDelta),r=this.getTransformTemplate(),n=r?r(this.latestValues,""):void 0,a=n!==this.prevTransformTemplateValue;e&&this.instance&&(t||eu(this.latestValues)||a)&&(i(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){var t;let r=this.measurePageBox(),n=this.removeElementScroll(r);return e&&(n=this.removeTransform(n)),aw((t=n).x),aw(t.y),{animationId:this.root.animationId,measuredBox:r,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){let{visualElement:e}=this.options;if(!e)return tL();let t=e.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(aA))){let{scroll:e}=this.root;e&&(em(t.x,e.offset.x),em(t.y,e.offset.y))}return t}removeElementScroll(e){let t=tL();if(iQ(t,e),this.scroll?.wasRoot)return t;for(let r=0;r<this.path.length;r++){let n=this.path[r],{scroll:i,options:a}=n;n!==this.root&&i&&a.layoutScroll&&(i.wasRoot&&iQ(t,e),em(t.x,i.offset.x),em(t.y,i.offset.y))}return t}applyTransform(e,t=!1){let r=tL();iQ(r,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];!t&&n.options.layoutScroll&&n.scroll&&n!==n.root&&ey(r,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),eu(n.latestValues)&&ey(r,n.latestValues)}return eu(this.latestValues)&&ey(r,this.latestValues),r}removeTransform(e){let t=tL();iQ(t,e);for(let e=0;e<this.path.length;e++){let r=this.path[e];if(!r.instance||!eu(r.latestValues))continue;ec(r.latestValues)&&r.updateSnapshot();let n=tL();iQ(n,r.measurePageBox()),iZ(t,r.latestValues,r.snapshot?r.snapshot.layoutBox:void 0,n)}return eu(this.latestValues)&&iZ(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==eW.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){let t=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=t.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=t.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=t.isSharedProjectionDirty);let r=!!this.resumingFrom||this!==t;if(!(e||r&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:n,layoutId:i}=this.options;if(!this.layout||!(n||i))return;this.resolvedRelativeTargetAt=eW.timestamp;let a=this.getClosestProjectingParent();if(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta){if(this.target||(this.target=tL(),this.targetWithTransforms=tL()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target){var s,o,l;this.forceRelativeParentToResolveTarget(),s=this.target,o=this.relativeTarget,l=this.relativeParent.target,io(s.x,o.x,l.x),io(s.y,o.y,l.y)}else this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):iQ(this.target,this.layout.layoutBox),ep(this.target,this.targetDelta)):iQ(this.target,this.layout.layoutBox);this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&!!a.resumingFrom==!!this.resumingFrom&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0)}}getClosestProjectingParent(){if(!(!this.parent||ec(this.parent.latestValues)||ed(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,r){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tL(),this.relativeTargetOrigin=tL(),ic(this.relativeTargetOrigin,t,r),iQ(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){let e=this.getLead(),t=!!this.resumingFrom||this!==e,r=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(r=!1),t&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===eW.timestamp&&(r=!1),r)return;let{layout:n,layoutId:i}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(n||i))return;iQ(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,s=this.treeScale.y;!function(e,t,r,n=!1){let i,a,s=r.length;if(s){t.x=t.y=1;for(let o=0;o<s;o++){a=(i=r[o]).projectionDelta;let{visualElement:s}=i.options;(!s||!s.props.style||"contents"!==s.props.style.display)&&(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ey(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,ep(e,a)),n&&eu(i.latestValues)&&ey(e,i.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,t),e.layout&&!e.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(e.target=e.layout.layoutBox,e.targetWithTransforms=tL());let{target:o}=e;if(!o){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(iJ(this.prevProjectionDelta.x,this.projectionDelta.x),iJ(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),is(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.treeScale.x===a&&this.treeScale.y===s&&i4(this.projectionDelta.x,this.prevProjectionDelta.x)&&i4(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){if(this.options.visualElement?.scheduleRender(),e){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=tM(),this.projectionDelta=tM(),this.projectionDeltaWithTransform=tM()}setAnimationOrigin(e,t=!1){let r,n=this.snapshot,i=n?n.latestValues:{},a={...this.latestValues},s=tM();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;let o=tL(),l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),u=!c||c.members.length<=1,d=!!(l&&!u&&!0===this.options.crossfade&&!this.path.some(ax));this.animationProgress=0,this.mixTargetDelta=t=>{let n=t/1e3;if(ap(s.x,e.x,n),ap(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var c,h,f,p,m,x;ic(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f=this.relativeTarget,p=this.relativeTargetOrigin,m=o,x=n,am(f.x,p.x,m.x,x),am(f.y,p.y,m.y,x),r&&(c=this.relativeTarget,h=r,i1(c.x,h.x)&&i1(c.y,h.y))&&(this.isProjectionDirty=!1),r||(r=tL()),iQ(r,this.relativeTarget)}l&&(this.animationValues=a,function(e,t,r,n,i,a){i?(e.opacity=eo(0,r.opacity??1,iH(n)),e.opacityExit=eo(t.opacity??1,0,iz(n))):a&&(e.opacity=eo(t.opacity??1,r.opacity??1,n));for(let i=0;i<iL;i++){let a=`border${iF[i]}Radius`,s=iG(t,a),o=iG(r,a);(void 0!==s||void 0!==o)&&(s||(s=0),o||(o=0),0===s||0===o||ij(s)===ij(o)?(e[a]=Math.max(eo(iV(s),iV(o),n),0),(eP.test(o)||eP.test(s))&&(e[a]+="%")):e[a]=o)}(t.rotate||r.rotate)&&(e.rotate=eo(t.rotate||0,r.rotate||0,n))}(a,i,this.latestValues,n,d,u)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(eJ(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=eQ.update(()=>{var t,r,n;let i;iC.hasAnimatedSinceResize=!0,rH.layout++,this.motionValue||(this.motionValue=tS(0)),this.currentAnimation=(t=this.motionValue,r=[0,1e3],n={...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{rH.layout--},onComplete:()=>{rH.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}},(i=tE(t)?t:tS(t)).start(n$("",i,r,n)),i.animation),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:r,layout:n,latestValues:i}=e;if(t&&r&&n){if(this!==e&&this.layout&&n&&av(this.options.animationType,this.layout.layoutBox,n.layoutBox)){r=this.target||tL();let t=ii(this.layout.layoutBox.x);r.x.min=e.target.x.min,r.x.max=r.x.min+t;let n=ii(this.layout.layoutBox.y);r.y.min=e.target.y.min,r.y.max=r.y.min+n}iQ(t,r),ey(t,i),is(this.projectionDeltaWithTransform,this.layoutCorrected,t,i)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new i6),this.sharedNodes.get(e).add(t);let r=t.options.initialPromotionConfig;t.promote({transition:r?r.transition:void 0,preserveFollowOpacity:r&&r.shouldPreserveFollowOpacity?r.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){let{layoutId:e}=this.options;return e&&this.getStack()?.lead||this}getPrevLead(){let{layoutId:e}=this.options;return e?this.getStack()?.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:r}={}){let n=this.getStack();n&&n.promote(this,r),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:r}=e;if((r.z||r.rotate||r.rotateX||r.rotateY||r.rotateZ||r.skewX||r.skewY)&&(t=!0),!t)return;let n={};r.z&&i7("z",e,n,this.animationValues);for(let t=0;t<i8.length;t++)i7(`rotate${i8[t]}`,e,n,this.animationValues),i7(`skew${i8[t]}`,e,n,this.animationValues);for(let t in e.render(),n)e.setStaticValue(t,n[t]),this.animationValues&&(this.animationValues[t]=n[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let r=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=rT(t?.pointerEvents)||"",e.transform=r?r(this.latestValues,""):"none";return}let n=this.getLead();if(!this.projectionDelta||!this.layout||!n.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=rT(t?.pointerEvents)||""),this.hasProjected&&!eu(this.latestValues)&&(e.transform=r?r({},""):"none",this.hasProjected=!1);return}e.visibility="";let i=n.animationValues||n.latestValues;this.applyTransformsToTarget();let a=function(e,t,r){let n="",i=e.x.translate/t.x,a=e.y.translate/t.y,s=r?.z||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(1!==t.x||1!==t.y)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){let{transformPerspective:e,rotate:t,rotateX:i,rotateY:a,skewX:s,skewY:o}=r;e&&(n=`perspective(${e}px) ${n}`),t&&(n+=`rotate(${t}deg) `),i&&(n+=`rotateX(${i}deg) `),a&&(n+=`rotateY(${a}deg) `),s&&(n+=`skewX(${s}deg) `),o&&(n+=`skewY(${o}deg) `)}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(n+=`scale(${o}, ${l})`),n||"none"}(this.projectionDeltaWithTransform,this.treeScale,i);r&&(a=r(i,a)),e.transform=a;let{x:s,y:o}=this.projectionDelta;for(let t in e.transformOrigin=`${100*s.origin}% ${100*o.origin}% 0`,n.animationValues?e.opacity=n===this?i.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:i.opacityExit:e.opacity=n===this?void 0!==i.opacity?i.opacity:"":void 0!==i.opacityExit?i.opacityExit:0,t8){if(void 0===i[t])continue;let{correct:r,applyTo:s,isCSSVariable:o}=t8[t],l="none"===a?i[t]:r(i[t],n);if(s){let t=s.length;for(let r=0;r<t;r++)e[s[r]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=n===this?rT(t?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>e.currentAnimation?.stop()),this.root.nodes.forEach(as),this.root.sharedNodes.clear()}}}function at(e){e.updateLayout()}function ar(e){let t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){let{layoutBox:r,measuredBox:n}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;"size"===i?iu(e=>{let n=a?t.measuredBox[e]:t.layoutBox[e],i=ii(n);n.min=r[e].min,n.max=n.min+i}):av(i,t.layoutBox,r)&&iu(n=>{let i=a?t.measuredBox[n]:t.layoutBox[n],s=ii(r[n]);i.max=i.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[n].max=e.relativeTarget[n].min+s)});let s=tM();is(s,r,t.layoutBox);let o=tM();a?is(o,e.applyTransform(n,!0),t.measuredBox):is(o,r,t.layoutBox);let l=!i0(s),c=!1;if(!e.resumeFrom){let n=e.getClosestProjectingParent();if(n&&!n.resumeFrom){let{snapshot:i,layout:a}=n;if(i&&a){let s=tL();ic(s,t.layoutBox,i.layoutBox);let o=tL();ic(o,r,a.layoutBox),i5(s,o)||(c=!0),n.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=s,e.relativeParent=n)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:o,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function an(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function ai(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aa(e){e.clearSnapshot()}function as(e){e.clearMeasurements()}function ao(e){e.isLayoutDirty=!1}function al(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function ac(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function au(e){e.resolveTargetDelta()}function ad(e){e.calcProjection()}function ah(e){e.resetSkewAndRotation()}function af(e){e.removeLeadSnapshot()}function ap(e,t,r){e.translate=eo(t.translate,0,r),e.scale=eo(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function am(e,t,r,n){e.min=eo(t.min,r.min,n),e.max=eo(t.max,r.max,n)}function ax(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let ay={duration:.45,ease:[.4,0,.1,1]},ag=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),ab=ag("applewebkit/")&&!ag("chrome/")?Math.round:eH;function aw(e){e.min=ab(e.min),e.max=ab(e.max)}function av(e,t,r){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(i3(t)-i3(r)))}function aA(e){return e!==e.root&&e.scroll?.wasRoot}let aE=ae({attachResizeListener:(e,t)=>n7(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aT={current:void 0},ak=ae({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!aT.current){let e=new aE({});e.mount(window),e.setOptions({layoutScroll:!0}),aT.current=e}return aT.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function aP(e,t){let r=function(e,t,r){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document,r=(void 0)??t.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e)}(e),n=new AbortController;return[r,{passive:!0,...t,signal:n.signal},()=>n.abort()]}function aN(e){return!("touch"===e.pointerType||n9.x||n9.y)}function aR(e,t,r){let{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover","Start"===r);let i=n["onHover"+r];i&&eQ.postRender(()=>i(t,it(t)))}function aC(e){return iB(e)&&"offsetHeight"in e}let aS=(e,t)=>!!t&&(e===t||aS(e,t.parentElement)),aI=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),aO=new WeakSet;function aB(e){return t=>{"Enter"===t.key&&e(t)}}function aD(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function aU(e){return ie(e)&&!(n9.x||n9.y)}function aM(e,t,r){let{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap","Start"===r);let i=n["onTap"+("End"===r?"":r)];i&&eQ.postRender(()=>i(t,it(t)))}let aF=new WeakMap,aL=new WeakMap,aV=e=>{let t=aF.get(e.target);t&&t(e)},aj=e=>{e.forEach(aV)},aG={some:0,all:1},aH=function(e,t){if("undefined"==typeof Proxy)return rB;let r=new Map,n=(r,n)=>rB(r,n,e,t);return new Proxy((e,t)=>n(e,t),{get:(i,a)=>"create"===a?n:(r.has(a)||r.set(a,rB(a,void 0,e,t)),r.get(a))})}({animation:{Feature:class extends n6{constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(({animation:t,options:r})=>(function(e,t,r={}){let n;if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>nX(e,t,r)));else if("string"==typeof t)n=nX(e,t,r);else{let i="function"==typeof t?rD(e,t,r.custom):t;n=Promise.all(nY(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})})(e,t,r))),r=n4(),n=!0,i=t=>(r,n)=>{let i=rD(e,n,"exit"===t?e.presenceContext?.custom:void 0);if(i){let{transition:e,transitionEnd:t,...n}=i;r={...r,...n,...t}}return r};function a(a){let{props:s}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let r=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(r.initial=t.props.initial),r}let r={};for(let e=0;e<n1;e++){let n=tQ[e],i=t.props[n];(tK(i)||!1===i)&&(r[n]=i)}return r}(e.parent)||{},l=[],c=new Set,u={},d=1/0;for(let t=0;t<n5;t++){var h,f;let p=n2[t],m=r[p],x=void 0!==s[p]?s[p]:o[p],y=tK(x),g=p===a?m.isActive:null;!1===g&&(d=t);let b=x===o[p]&&x!==s[p]&&y;if(b&&n&&e.manuallyAnimateOnMount&&(b=!1),m.protectedKeys={...u},!m.isActive&&null===g||!x&&!m.prevProp||tz(x)||"boolean"==typeof x)continue;let w=(h=m.prevProp,"string"==typeof(f=x)?f!==h:!!Array.isArray(f)&&!n0(f,h)),v=w||p===a&&m.isActive&&!b&&y||t>d&&y,A=!1,E=Array.isArray(x)?x:[x],T=E.reduce(i(p),{});!1===g&&(T={});let{prevResolvedValues:k={}}=m,P={...k,...T},N=t=>{v=!0,c.has(t)&&(A=!0,c.delete(t)),m.needsAnimating[t]=!0;let r=e.getValue(t);r&&(r.liveStyle=!1)};for(let e in P){let t=T[e],r=k[e];if(!u.hasOwnProperty(e))(rM(t)&&rM(r)?n0(t,r):t===r)?void 0!==t&&c.has(e)?N(e):m.protectedKeys[e]=!0:null!=t?N(e):c.add(e)}m.prevProp=x,m.prevResolvedValues=T,m.isActive&&(u={...u,...T}),n&&e.blockInitialAnimation&&(v=!1);let R=b&&w,C=!R||A;v&&C&&l.push(...E.map(t=>{let r={type:p};if("string"==typeof t&&n&&!R&&e.manuallyAnimateOnMount&&e.parent){let{parent:n}=e,i=rD(n,t);if(n.enteringChildren&&i){let{delayChildren:t}=i.transition||{};r.delay=nZ(n.enteringChildren,e,t)}}return{animation:t,options:r}}))}if(c.size){let t={};if("boolean"!=typeof s.initial){let r=rD(e,Array.isArray(s.initial)?s.initial[0]:s.initial);r&&r.transition&&(t.transition=r.transition)}c.forEach(r=>{let n=e.getBaseTarget(r),i=e.getValue(r);i&&(i.liveStyle=!0),t[r]=n??null}),l.push({animation:t})}let p=!!l.length;return n&&(!1===s.initial||s.initial===s.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(l):Promise.resolve()}return{animateChanges:a,setActive:function(t,n){if(r[t].isActive===n)return Promise.resolve();e.variantChildren?.forEach(e=>e.animationState?.setActive(t,n)),r[t].isActive=n;let i=a(t);for(let e in r)r[e].protectedKeys={};return i},setAnimateFunction:function(r){t=r(e)},getState:()=>r,reset:()=>{r=n4()}}}(e))}updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();tz(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}},exit:{Feature:class extends n6{constructor(){super(...arguments),this.id=n8++}update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;let n=this.node.animationState.setActive("exit",!e);t&&!e&&n.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}},inView:{Feature:class extends n6{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){var e;let t;this.unmount();let{viewport:r={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:s}=r,o={root:n?n.current:void 0,rootMargin:i,threshold:"number"==typeof a?a:aG[a]},l=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,s&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:r,onViewportLeave:n}=this.node.getProps(),i=t?r:n;i&&i(e)};return e=this.node.current,t=function({root:e,...t}){let r=e||document;aL.has(r)||aL.set(r,{});let n=aL.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(aj,{root:e,...t})),n[i]}(o),aF.set(e,l),t.observe(e),()=>{aF.delete(e),t.unobserve(e)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends n6{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[n,i,a]=aP(e,r),s=e=>{let n=e.currentTarget;if(!aU(e))return;aO.add(n);let a=t(n,e),s=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),aO.has(n)&&aO.delete(n),aU(e)&&"function"==typeof a&&a(e,{success:t})},o=e=>{s(e,n===window||n===document||r.useGlobalTarget||aS(n,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",o,i),window.addEventListener("pointercancel",l,i)};return n.forEach(e=>{((r.useGlobalTarget?window:e).addEventListener("pointerdown",s,i),aC(e))&&(e.addEventListener("focus",e=>((e,t)=>{let r=e.currentTarget;if(!r)return;let n=aB(()=>{if(aO.has(r))return;aD(r,"down");let e=aB(()=>{aD(r,"up")});r.addEventListener("keyup",e,t),r.addEventListener("blur",()=>aD(r,"cancel"),t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)})(e,i)),aI.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),a}(e,(e,t)=>(aM(this.node,t,"Start"),(e,{success:t})=>aM(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends n6{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rj(n7(this.node.current,"focus",()=>this.onFocus()),n7(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends n6{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t,r={}){let[n,i,a]=aP(e,r),s=e=>{if(!aN(e))return;let{target:r}=e,n=t(r,e);if("function"!=typeof n||!r)return;let a=e=>{aN(e)&&(n(e),r.removeEventListener("pointerleave",a))};r.addEventListener("pointerleave",a,i)};return n.forEach(e=>{e.addEventListener("pointerenter",s,i)}),a}(e,(e,t)=>(aR(this.node,t,"Start"),e=>aR(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends n6{constructor(){super(...arguments),this.removePointerDownListener=eH}onPointerDown(e){this.session=new ip(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:id(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:iP(e),onStart:iP(t),onMove:r,onEnd:(e,t)=>{delete this.session,n&&eQ.postRender(()=>n(e,t))}}}mount(){this.removePointerDownListener=ir(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends n6{constructor(e){super(e),this.removeGroupControls=eH,this.removeListeners=eH,this.controls=new iT(e)}mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||eH}update(){let{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:ak,MeasureLayout:iO},layout:{ProjectionNode:ak,MeasureLayout:iO}},(e,t)=>t.isSVG??ru(e)?new rl(t):new re(t,{allowProjection:e!==O.Fragment})),az=F("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),aK=F("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),a_=({onPlay:e,loading:t,isWaiting:r})=>(0,I.jsxs)("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,I.jsxs)(aH.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative mb-12",children:[(0,I.jsx)("div",{className:"absolute -inset-8 bg-gradient-to-r from-amber-500/20 via-rose-500/20 to-violet-500/20 blur-3xl rounded-full opacity-60"}),(0,I.jsx)("div",{className:"relative flex gap-3 mb-6 justify-center",children:["","",""].map((e,t)=>(0,I.jsx)(aH.span,{initial:{rotate:0},animate:{rotate:[0,10,-10,0]},transition:{delay:.1*t,duration:.5,repeat:1/0,repeatDelay:2},className:"text-5xl",children:""},t))}),(0,I.jsx)("h1",{className:"relative text-4xl font-black tracking-tight",children:(0,I.jsx)("span",{className:"bg-gradient-to-r from-amber-400 via-rose-400 to-violet-400 bg-clip-text text-transparent",children:"TI XU"})}),(0,I.jsx)("p",{className:"mt-3 text-sm font-medium text-slate-500",children:"Chn Ti hoc Xu  Lc 3 x ngu"})]}),(0,I.jsxs)(aH.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,disabled:t||r,className:`
          flex items-center justify-center gap-3 px-12 py-5 rounded-2xl font-black text-lg uppercase tracking-wide transition-all
          ${t||r?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-[0_0_30px_rgba(251,146,60,0.4)] hover:shadow-amber-500/60"}
        `,children:[t||r?(0,I.jsx)(aH.div,{animate:{rotate:360},transition:{repeat:1/0,duration:1,ease:"linear"},className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full"}):(0,I.jsx)(az,{fill:"currentColor",size:20}),t?"ang ti...":r?"ang xc thc...":"BT U CHI"]}),(0,I.jsxs)("div",{className:"flex items-center gap-2 mt-8 text-xs font-medium text-slate-600",children:[(0,I.jsx)(aK,{size:14,className:"text-amber-500/50"}),(0,I.jsx)("span",{children:"Gasless  ERC-4337 Session Key"})]})]});var aQ=O;function aJ(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class aW extends aQ.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=aC(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function aq({children:e,isPresent:t,anchorX:r,root:n}){let i=(0,aQ.useId)(),a=(0,aQ.useRef)(null),s=(0,aQ.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,aQ.useContext)(rf),l=function(...e){return O.useCallback(function(...e){return t=>{let r=!1,n=e.map(e=>{let n=aJ(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():aJ(e[t],null)}}}}(...e),e)}(a,e?.ref);return(0,aQ.useInsertionEffect)(()=>{let{width:e,height:l,top:c,left:u,right:d}=s.current;if(t||!a.current||!e||!l)return;let h="left"===r?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=i;let f=document.createElement("style");o&&(f.nonce=o);let p=n??document.head;return p.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{p.contains(f)&&p.removeChild(f)}},[t]),(0,I.jsx)(aW,{isPresent:t,childRef:a,sizeRef:s,children:aQ.cloneElement(e,{ref:l})})}let a$=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{let c=rE(aY),u=(0,O.useId)(),d=!0,h=(0,O.useMemo)(()=>(d=!1,{id:u,initial:t,isPresent:r,custom:i,onExitComplete:e=>{for(let t of(c.set(e,!0),c.values()))if(!t)return;n&&n()},register:e=>(c.set(e,!1),()=>c.delete(e))}),[r,c,n]);return a&&d&&(h={...h}),(0,O.useMemo)(()=>{c.forEach((e,t)=>c.set(t,!1))},[r]),O.useEffect(()=>{r||c.size||!n||n()},[r]),"popLayout"===s&&(e=(0,I.jsx)(aq,{isPresent:r,anchorX:o,root:l,children:e})),(0,I.jsx)(rA.Provider,{value:h,children:e})};function aY(){return new Map}let aZ=e=>e.key||"";function aX(e){let t=[];return O.Children.forEach(e,e=>{(0,O.isValidElement)(e)&&t.push(e)}),t}let a0=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{let[c,u]=iR(s),d=(0,O.useMemo)(()=>aX(e),[e]),h=s&&!c?[]:d.map(aZ),f=(0,O.useRef)(!0),p=(0,O.useRef)(d),m=rE(()=>new Map),[x,y]=(0,O.useState)(d),[g,b]=(0,O.useState)(d);rO(()=>{f.current=!1,p.current=d;for(let e=0;e<g.length;e++){let t=aZ(g[e]);h.includes(t)?m.delete(t):!0!==m.get(t)&&m.set(t,!1)}},[g,h.length,h.join("-")]);let w=[];if(d!==x){let e=[...d];for(let t=0;t<g.length;t++){let r=g[t],n=aZ(r);h.includes(n)||(e.splice(t,0,r),w.push(r))}return"wait"===a&&w.length&&(e=w),b(aX(e)),y(d),null}let{forceRender:v}=(0,O.useContext)(rd);return(0,I.jsx)(I.Fragment,{children:g.map(e=>{let x=aZ(e),y=(!s||!!c)&&(d===g||h.includes(x));return(0,I.jsx)(a$,{isPresent:y,initial:(!f.current||!!r)&&void 0,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:y?void 0:()=>{if(!m.has(x))return;m.set(x,!0);let e=!0;m.forEach(t=>{t||(e=!1)}),e&&(v?.(),b(p.current),s&&u?.(),n&&n())},anchorX:o,children:e},x)})})},a1=F("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),a2=F("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),a5=F("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]),a3=F("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),a4=F("frown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),a6={1:[{top:"50%",left:"50%"}],2:[{top:"25%",left:"25%"},{top:"75%",left:"75%"}],3:[{top:"25%",left:"25%"},{top:"50%",left:"50%"},{top:"75%",left:"75%"}],4:[{top:"25%",left:"25%"},{top:"25%",left:"75%"},{top:"75%",left:"25%"},{top:"75%",left:"75%"}],5:[{top:"25%",left:"25%"},{top:"25%",left:"75%"},{top:"50%",left:"50%"},{top:"75%",left:"25%"},{top:"75%",left:"75%"}],6:[{top:"25%",left:"25%"},{top:"25%",left:"75%"},{top:"50%",left:"25%"},{top:"50%",left:"75%"},{top:"75%",left:"25%"},{top:"75%",left:"75%"}]},a8=({value:e,rolling:t,delay:r=0})=>{let n=a6[e]||a6[1];return(0,I.jsx)(aH.div,{animate:t?{rotateX:[0,360,720,1080],rotateY:[0,180,360,540],scale:[1,1.1,.9,1]}:{rotateX:0,rotateY:0,scale:1},transition:{duration:1.2,delay:r,ease:"easeOut"},className:"relative w-16 h-16 bg-white rounded-xl shadow-[0_8px_20px_rgba(0,0,0,0.3),inset_0_-4px_0_rgba(0,0,0,0.1)] border-2 border-slate-100",style:{transformStyle:"preserve-3d"},children:n.map((e,t)=>(0,I.jsx)("div",{className:"absolute w-3 h-3 bg-slate-800 rounded-full -translate-x-1/2 -translate-y-1/2",style:{top:e.top,left:e.left}},t))})},a9=({onRoll:e,rolling:t,diceValues:r,balanceToken:n,tokenSymbol:i,result:a})=>{let[s,o]=(0,O.useState)("10"),[l,c]=(0,O.useState)(null);return r[0],r[1],r[2],(0,I.jsxs)("div",{className:"flex flex-col items-center py-6 space-y-6",children:[(0,I.jsxs)("div",{className:"relative flex items-center justify-center gap-4 min-h-[120px]",children:[(0,I.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-amber-500/10 via-rose-500/10 to-violet-500/10 blur-3xl rounded-full"}),r.map((e,r)=>(0,I.jsx)(a8,{value:e,rolling:t,delay:.1*r},r))]}),(0,I.jsx)(a0,{children:a&&!t&&(0,I.jsxs)(aH.div,{initial:{opacity:0,scale:.8,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8},className:`flex flex-col items-center gap-2 px-8 py-4 rounded-2xl border ${a.isWin?"bg-emerald-500/10 border-emerald-500/30 text-emerald-400":"bg-rose-500/10 border-rose-500/30 text-rose-400"}`,children:[(0,I.jsxs)("div",{className:"flex items-center gap-2",children:[a.isWin?(0,I.jsx)(a3,{size:24}):(0,I.jsx)(a4,{size:24}),(0,I.jsx)("span",{className:"text-2xl font-black",children:a.isWin?"THNG!":"THUA!"})]}),(0,I.jsxs)("div",{className:"text-sm font-bold text-slate-400",children:["Tng: ",(0,I.jsx)("span",{className:`text-lg ${a.total>=11?"text-amber-400":"text-violet-400"}`,children:a.total}),(0,I.jsxs)("span",{className:"ml-2",children:["(",a.total>=11?"TI":"XU",")"]})]})]})}),(0,I.jsxs)("div",{className:"w-full max-w-xs space-y-4",children:[(0,I.jsx)("p",{className:"text-center text-[10px] font-black uppercase tracking-[0.2em] text-slate-500",children:"Chn ca"}),(0,I.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,I.jsxs)("button",{onClick:()=>c("xiu"),disabled:t,className:`py-4 rounded-2xl font-black text-lg uppercase transition-all border-2 ${"xiu"===l?"bg-violet-500 border-violet-400 text-white shadow-[0_0_20px_rgba(139,92,246,0.5)]":"bg-violet-500/10 border-violet-500/20 text-violet-400 hover:bg-violet-500/20"}`,children:[(0,I.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,I.jsx)(a5,{size:20}),(0,I.jsx)("span",{children:"Xu"})]}),(0,I.jsx)("p",{className:"text-[10px] font-medium opacity-70 mt-1",children:"4 - 10"})]}),(0,I.jsxs)("button",{onClick:()=>c("tai"),disabled:t,className:`py-4 rounded-2xl font-black text-lg uppercase transition-all border-2 ${"tai"===l?"bg-amber-500 border-amber-400 text-white shadow-[0_0_20px_rgba(245,158,11,0.5)]":"bg-amber-500/10 border-amber-500/20 text-amber-400 hover:bg-amber-500/20"}`,children:[(0,I.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,I.jsx)(a2,{size:20}),(0,I.jsx)("span",{children:"Ti"})]}),(0,I.jsx)("p",{className:"text-[10px] font-medium opacity-70 mt-1",children:"11 - 17"})]})]})]}),(0,I.jsxs)("div",{className:"w-full max-w-xs space-y-3",children:[(0,I.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,I.jsx)("span",{className:"text-[10px] font-black uppercase tracking-[0.15em] text-slate-500",children:"t cc"}),(0,I.jsxs)("span",{className:"text-[10px] font-bold text-slate-600",children:["C: ",n.toFixed(0)," ",i]})]}),(0,I.jsxs)("div",{className:"relative",children:[(0,I.jsx)(a1,{size:16,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500"}),(0,I.jsx)("input",{type:"number",value:s,onChange:e=>o(e.target.value),disabled:t,className:"w-full bg-black/30 border border-white/10 focus:border-amber-500/50 outline-none rounded-xl py-3 pl-10 pr-4 font-bold text-white text-center",placeholder:"0"})]}),(0,I.jsxs)("div",{className:"flex gap-2",children:[[10,50,100].map(e=>(0,I.jsx)("button",{onClick:()=>o(e.toString()),disabled:t,className:"flex-1 py-2 rounded-lg bg-white/5 border border-white/5 hover:bg-white/10 text-xs font-bold text-slate-400 transition-all",children:e},e)),(0,I.jsx)("button",{onClick:()=>o(n.toString()),disabled:t,className:"flex-1 py-2 rounded-lg bg-rose-500/10 border border-rose-500/20 hover:bg-rose-500/20 text-xs font-bold text-rose-400 transition-all",children:"MAX"})]})]}),(0,I.jsx)("button",{onClick:()=>{let t=parseFloat(s);isNaN(t)||t<=0||t>n||!l||e(t,l)},disabled:t||!l||0>=parseFloat(s)||parseFloat(s)>n,className:`
          w-full max-w-xs py-5 rounded-2xl font-black text-lg uppercase tracking-wide flex items-center justify-center gap-3 transition-all
          ${t||!l||0>=parseFloat(s)||parseFloat(s)>n?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-gradient-to-r from-amber-500 to-rose-500 text-white shadow-[0_0_25px_rgba(251,146,60,0.4)] hover:shadow-amber-500/60"}
        `,children:t?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(aH.div,{animate:{rotate:360},transition:{repeat:1/0,duration:.8,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),"ANG LC..."]}):(0,I.jsx)(I.Fragment,{children:" LC X NGU"})})]})};e.s([],59665),e.i(59665);let a7="6.16.0";async function se(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,n)=>(e[t[n]]=r,e),{})}function st(e,t,r){for(let n in t){let i=t[n],a=r?r[n]:null;a&&function(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let i=Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}(i,a,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function sr(e,t){if(null==e)return"null";if(null==t&&(t=new Set),"object"==typeof e){if(t.has(e))return"[Circular]";t.add(e)}if(Array.isArray(e))return"[ "+e.map(e=>sr(e,t)).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return sr(e.toJSON(),t);switch(typeof e){case"boolean":case"number":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let r=Object.keys(e);return r.sort(),"{ "+r.map(r=>`${sr(r,t)}: ${sr(e[r],t)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function sn(e,t){return e&&e.code===t}function si(e){return sn(e,"CALL_EXCEPTION")}function sa(e,t,r){let n,i=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${sr(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+sr(t))}}n.push(`code=${t}`),n.push(`version=${a7}`),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return st(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&st(n,{shortMessage:i}),n}function ss(e,t,r,n){if(!e)throw sa(t,r,n)}function so(e,t,r,n){ss(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function sl(e,t,r){null==r&&(r=""),r&&(r=": "+r),ss(e>=t,"missing argument"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),ss(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}let sc=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function su(e){ss(sc.indexOf(e)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:e}})}function sd(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),ss(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function sh(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.length%2==0&&e.match(/^0x[0-9a-f]*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}so(!1,"invalid BytesLike value",t||"value",e)}function sf(e,t){return sh(e,t,!1)}function sp(e,t){return sh(e,t,!0)}function sm(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function sx(e){return sm(e,!0)||e instanceof Uint8Array}let sy="0123456789abcdef";function sg(e){let t=sf(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=sy[(240&n)>>4]+sy[15&n]}return r}function sb(e){return"0x"+e.map(e=>sg(e).substring(2)).join("")}function sw(e){return sm(e,!0)?(e.length-2)/2:sf(e).length}function sv(e,t,r){let n=sf(e);return null!=r&&r>n.length&&ss(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),sg(n.slice(null==t?0:t,null==r?n.length:r))}function sA(e){let t=sg(e).substring(2);for(;t.startsWith("00");)t=t.substring(2);return"0x"+t}function sE(e,t,r){let n=sf(e);ss(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});let i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),sg(i)}function sT(e,t){return sE(e,t,!0)}function sk(e,t){return sE(e,t,!1)}function sP(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}let sN=Object.freeze({error:function(e,t,r,n,i){so(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:sP,replace:function(e,t,r,n,i){return"OVERLONG"===e?(so("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),sP(e,t,r,n,i))}});function sR(e,t){null==t&&(t=sN.error);let r=sf(e,"bytes"),n=[],i=0;for(;i<r.length;){let e=r[i++];if(e>>7==0){n.push(e);continue}let a=null,s=null;if((224&e)==192)a=1,s=127;else if((240&e)==224)a=2,s=2047;else if((248&e)==240)a=3,s=65535;else{(192&e)==128?i+=t("UNEXPECTED_CONTINUE",i-1,r,n):i+=t("BAD_PREFIX",i-1,r,n);continue}if(i-1+a>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let o=e&(1<<8-a-1)-1;for(let e=0;e<a;e++){let e=r[i];if((192&e)!=128){i+=t("MISSING_CONTINUE",i,r,n),o=null;break}o=o<<6|63&e,i++}if(null!==o){if(o>1114111){i+=t("OUT_OF_RANGE",i-1-a,r,n,o);continue}if(o>=55296&&o<=57343){i+=t("UTF16_SURROGATE",i-1-a,r,n,o);continue}if(o<=s){i+=t("OVERLONG",i-1-a,r,n,o);continue}n.push(o)}}return n}function sC(e,t){so("string"==typeof e,"invalid string value","str",e),null!=t&&(su(t),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);so(t<e.length&&(64512&i)==56320,"invalid surrogate pair","str",e);let a=65536+((1023&n)<<10)+(1023&i);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(63&a|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function sS(e,t){return sR(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}function sI(e,t){return sR(sC(e,t))}function sO(e){let t=sC(e);if(t.length>31)throw Error("bytes32 string must be less than 32 bytes");return sk(t,32)}function sB(e){let t=sf(e,"bytes");if(32!==t.length)throw Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return sS(t.slice(0,r))}let sD=BigInt(0),sU=BigInt(1);function sM(e,t){let r=sj(e,"value"),n=BigInt(sz(t,"width"));return(ss(r>>n===sD,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-sU)?-((~r&(sU<<n)-sU)+sU):r}function sF(e,t){let r=sV(e,"value"),n=BigInt(sz(t,"width")),i=sU<<n-sU;return r<sD?(ss((r=-r)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(sU<<n)-sU)+sU):(ss(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function sL(e,t){return sj(e,"value")&(sU<<BigInt(sz(t,"bits")))-sU}function sV(e,t){switch(typeof e){case"bigint":return e;case"number":return so(Number.isInteger(e),"underflow",t||"value",e),so(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){so(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}so(!1,"invalid BigNumberish value",t||"value",e)}function sj(e,t){let r=sV(e,t);return ss(r>=sD,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let sG="0123456789abcdef";function sH(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=sG[r>>4],t+=sG[15&r];return BigInt(t)}return sV(e)}function sz(e,t){switch(typeof e){case"bigint":return so(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),Number(e);case"number":return so(Number.isInteger(e),"underflow",t||"value",e),so(e>=-0x1fffffffffffff&&e<=0x1fffffffffffff,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return sz(BigInt(e),t)}catch(r){so(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}so(!1,"invalid numeric value",t||"value",e)}function sK(e){return sz(sH(e))}function s_(e,t){let r=sj(e,"value"),n=r.toString(16);if(null==t)n.length%2&&(n="0"+n);else{let i=sz(t,"width");if(0===i&&r===sD)return"0x";for(ss(2*i>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<2*i;)n="0"+n}return"0x"+n}function sQ(e,t){let r=sj(e,"value");if(r===sD)return new Uint8Array(null!=t?sz(t,"width"):0);let n=r.toString(16);if(n.length%2&&(n="0"+n),null!=t){let r=sz(t,"width");for(;n.length<2*r;)n="00"+n;ss(2*r===n.length,`value exceeds width (${r} bytes)`,"NUMERIC_FAULT",{operation:"toBeArray",fault:"overflow",value:e})}let i=new Uint8Array(n.length/2);for(let e=0;e<i.length;e++){let t=2*e;i[e]=parseInt(n.substring(t,t+2),16)}return i}function sJ(e){let t=sg(sx(e)?e:sQ(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}let sW=new Uint8Array(32),sq=["then"],s$={},sY=new WeakMap;function sZ(e){return sY.get(e)}function sX(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class s0 extends Array{#e;constructor(...e){var t,r;const n=e[0];let i=e[1],a=(e[2]||[]).slice(),s=!0;n!==s$&&(i=e,a=[],s=!1),super(i.length),i.forEach((e,t)=>{this[t]=e});const o=a.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(t=Object.freeze(i.map((e,t)=>{let r=a[t];return null!=r&&1===o.get(r)?r:null})),sY.set(this,t),this.#e=[],null==this.#e&&this.#e,!s)return;Object.freeze(this);const l=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=sz(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let n=e[r];return n instanceof Error&&sX(`index ${r}`,n),n}if(sq.indexOf(t)>=0)return Reflect.get(e,t,r);let n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return r=sZ(this),sY.set(l,r),l}toArray(e){let t=[];return this.forEach((r,n)=>{r instanceof Error&&sX(`index ${n}`,r),e&&r instanceof s0&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=sZ(this);return t.reduce((r,n,i)=>(ss(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,n){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof s0?e(sZ(t),t,n):t):t.reduce((t,i,a)=>{let s=r.getValue(i);return i in t||(n&&s instanceof s0&&(s=e(sZ(s),s,n)),t[i]=s),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=sZ(this),n=[],i=[];for(let a=e;a<t;a++)n.push(this[a]),i.push(r[a]);return new s0(s$,n,i)}filter(e,t){let r=sZ(this),n=[],i=[];for(let a=0;a<this.length;a++){let s=this[a];s instanceof Error&&sX(`index ${a}`,s),e.call(t,s,a,this)&&(n.push(s),i.push(r[a]))}return new s0(s$,n,i)}map(e,t){let r=[];for(let n=0;n<this.length;n++){let i=this[n];i instanceof Error&&sX(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){let t=sZ(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&sX(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new s0(s$,e,t)}}function s1(e){let t=[],r=function(e,n){if(Array.isArray(n))for(let i in n){let a=e.slice();a.push(i);try{r(a,n[i])}catch(e){t.push({path:a,error:e})}}};return r([],e),t}function s2(e){let t=sQ(e);return ss(t.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:32,offset:t.length}),32!==t.length&&(t=sp(sb([sW.slice(t.length%32),t]))),t}class s5{name;type;localName;dynamic;constructor(e,t,r,n){st(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){so(!1,e,this.localName,t)}}class s3{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return sb(this.#t)}get length(){return this.#r}#n(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#n(sp(e.data))}writeBytes(e){let t=sp(e),r=t.length%32;return r&&(t=sp(sb([t,sW.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(s2(e))}writeUpdatableValue(){let e=this.#t.length;return this.#t.push(sW),this.#r+=32,t=>{this.#t[e]=s2(t)}}}class s4{allowLoose;#t;#i;#a;#s;#o;constructor(e,t,r){st(this,{allowLoose:!!t}),this.#t=sp(e),this.#a=0,this.#s=null,this.#o=null!=r?r:1024,this.#i=0}get data(){return sg(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#l(e){if(this.#s)return this.#s.#l(e);this.#a+=e,ss(this.#o<1||this.#a<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:sp(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#a,dataLength:this.dataLength}})}#c(e,t,r){let n=32*Math.ceil(t/32);return this.#i+n>this.#t.length&&(this.allowLoose&&r&&this.#i+t<=this.#t.length?n=t:ss(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:sp(this.#t),length:this.#t.length,offset:this.#i+n})),this.#t.slice(this.#i,this.#i+n)}subReader(e){let t=new s4(this.#t.slice(this.#i+e),this.allowLoose,this.#o);return t.#s=this,t}readBytes(e,t){let r=this.#c(0,e,!!t);return this.#l(e),this.#i+=r.length,r.slice(0,e)}readValue(){return sH(this.readBytes(32))}readIndex(){return sK(this.readBytes(32))}}function s6(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function s8(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function s9(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");s6(e.outputLen),s6(e.blockLen)}function s7(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function oe(e,t){s8(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let ot=BigInt(0x100000000-1),or=BigInt(32);function on(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:a,l:s}=function(e,t=!1){return t?{h:Number(e&ot),l:Number(e>>or&ot)}:{h:0|Number(e>>or&ot),l:0|Number(e&ot)}}(e[i],t);[r[i],n[i]]=[a,s]}return[r,n]}let oi=(e,t,r)=>e>>>r,oa=(e,t,r)=>e<<32-r|t>>>r,os=(e,t,r)=>e>>>r|t<<32-r,oo=(e,t,r)=>e<<32-r|t>>>r,ol=(e,t,r)=>e<<64-r|t>>>r-32,oc=(e,t,r)=>e>>>r-32|t<<64-r,ou=function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/0x100000000|0)|0,l:0|i}},od=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),oh=(e,t,r,n)=>t+r+n+(e/0x100000000|0)|0,of=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),op=(e,t,r,n,i)=>t+r+n+i+(e/0x100000000|0)|0,om=(e,t,r,n,i,a)=>t+r+n+i+a+(e/0x100000000|0)|0,ox=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),oy="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,og=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ob=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ow=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([0x11223344]).buffer)[0])throw Error("Non little-endian hardware is not supported");let ov=async()=>{};async function oA(e,t,r){let n=Date.now();for(let i=0;i<e;i++){r(i);let e=Date.now()-n;e>=0&&e<t||(await ov(),n+=e)}}function oE(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!(e instanceof Uint8Array))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class oT{clone(){return this._cloneInto()}}let ok={}.toString;function oP(e,t){if(void 0!==t&&"[object Object]"!==ok.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function oN(e){let t=t=>e().update(oE(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function oR(e=32){if(oy&&"function"==typeof oy.getRandomValues)return oy.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let[oC,oS,oI]=[[],[],[]],oO=BigInt(0),oB=BigInt(1),oD=BigInt(2),oU=BigInt(7),oM=BigInt(256),oF=BigInt(113);for(let e=0,t=oB,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],oC.push(2*(5*n+r)),oS.push((e+1)*(e+2)/2%64);let i=oO;for(let e=0;e<7;e++)(t=(t<<oB^(t>>oU)*oF)%oM)&oD&&(i^=oB<<(oB<<BigInt(e))-oB);oI.push(i)}let[oL,oV]=on(oI,!0),oj=(e,t,r)=>{let n,i,a,s,o;return r>32?(n=e,t<<(i=r)-32|n>>>64-i):(a=e,s=t,a<<(o=r)|s>>>32-o)},oG=(e,t,r)=>{let n,i,a,s,o;return r>32?(n=e,i=t,n<<(a=r)-32|i>>>64-a):(s=e,t<<(o=r)|s>>>32-o)};class oH extends oT{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s6(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=og(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,a=r[i],s=r[i+1],o=oj(a,s,1)^r[n],l=oG(a,s,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=oS[r],a=oj(t,i,n),s=oG(t,i,n),o=oC[r];t=e[o],i=e[o+1],e[o]=a,e[o+1]=s}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=oL[n],e[1]^=oV[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){s7(this);let{blockLen:t,state:r}=this,n=(e=oE(e)).length;for(let i=0;i<n;){let a=Math.min(t-this.pos,n-i);for(let t=0;t<a;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){s7(this,!1),s8(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let a=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+a),n),this.posOut+=a,n+=a}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return s6(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(oe(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:a}=this;return e||(e=new oH(t,r,n,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=a,e.destroyed=this.destroyed,e}}let oz=oN(()=>new oH(136,1,32)),oK=!1,o_=function(e){return oz(e)},oQ=o_;function oJ(e){let t=sf(e,"data");return sg(oQ(t))}oJ._=o_,oJ.lock=function(){oK=!0},oJ.register=function(e){if(oK)throw TypeError("keccak256 is locked");oQ=e},Object.freeze(oJ);let oW=BigInt(0),oq=BigInt(36);function o$(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=sf(oJ(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let oY={};for(let e=0;e<10;e++)oY[String(e)]=String(e);for(let e=0;e<26;e++)oY[String.fromCharCode(65+e)]=String(10+e);function oZ(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>oY[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}let oX=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function o0(e){if(so("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=o$(e);return so(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){so(e.substring(2,4)===oZ(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=oW;for(let r=0;r<e.length;r++)t=t*oq+oX[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return o$("0x"+t)}so(!1,"invalid address","address",e)}function o1(e){let t=BigInt(o0(e)).toString(36).toUpperCase();for(;t.length<30;)t="0"+t;return"XE"+oZ("XE00"+t)+t}let o2={};function o5(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new o6(o2,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function o3(e,t){return new o6(o2,`bytes${t||""}`,e,{size:t})}let o4=Symbol.for("_ethers_typed");class o6{type;value;#u;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),sd(o2,e,"Typed"),st(this,{_typedSymbol:o4,type:t,value:r}),this.#u=n,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#u}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#u?-1:!1===this.#u?this.value.length:null}static from(e,t){return new o6(o2,e,t)}static uint8(e){return o5(e,8)}static uint16(e){return o5(e,16)}static uint24(e){return o5(e,24)}static uint32(e){return o5(e,32)}static uint40(e){return o5(e,40)}static uint48(e){return o5(e,48)}static uint56(e){return o5(e,56)}static uint64(e){return o5(e,64)}static uint72(e){return o5(e,72)}static uint80(e){return o5(e,80)}static uint88(e){return o5(e,88)}static uint96(e){return o5(e,96)}static uint104(e){return o5(e,104)}static uint112(e){return o5(e,112)}static uint120(e){return o5(e,120)}static uint128(e){return o5(e,128)}static uint136(e){return o5(e,136)}static uint144(e){return o5(e,144)}static uint152(e){return o5(e,152)}static uint160(e){return o5(e,160)}static uint168(e){return o5(e,168)}static uint176(e){return o5(e,176)}static uint184(e){return o5(e,184)}static uint192(e){return o5(e,192)}static uint200(e){return o5(e,200)}static uint208(e){return o5(e,208)}static uint216(e){return o5(e,216)}static uint224(e){return o5(e,224)}static uint232(e){return o5(e,232)}static uint240(e){return o5(e,240)}static uint248(e){return o5(e,248)}static uint256(e){return o5(e,256)}static uint(e){return o5(e,256)}static int8(e){return o5(e,-8)}static int16(e){return o5(e,-16)}static int24(e){return o5(e,-24)}static int32(e){return o5(e,-32)}static int40(e){return o5(e,-40)}static int48(e){return o5(e,-48)}static int56(e){return o5(e,-56)}static int64(e){return o5(e,-64)}static int72(e){return o5(e,-72)}static int80(e){return o5(e,-80)}static int88(e){return o5(e,-88)}static int96(e){return o5(e,-96)}static int104(e){return o5(e,-104)}static int112(e){return o5(e,-112)}static int120(e){return o5(e,-120)}static int128(e){return o5(e,-128)}static int136(e){return o5(e,-136)}static int144(e){return o5(e,-144)}static int152(e){return o5(e,-152)}static int160(e){return o5(e,-160)}static int168(e){return o5(e,-168)}static int176(e){return o5(e,-176)}static int184(e){return o5(e,-184)}static int192(e){return o5(e,-192)}static int200(e){return o5(e,-200)}static int208(e){return o5(e,-208)}static int216(e){return o5(e,-216)}static int224(e){return o5(e,-224)}static int232(e){return o5(e,-232)}static int240(e){return o5(e,-240)}static int248(e){return o5(e,-248)}static int256(e){return o5(e,-256)}static int(e){return o5(e,-256)}static bytes1(e){return o3(e,1)}static bytes2(e){return o3(e,2)}static bytes3(e){return o3(e,3)}static bytes4(e){return o3(e,4)}static bytes5(e){return o3(e,5)}static bytes6(e){return o3(e,6)}static bytes7(e){return o3(e,7)}static bytes8(e){return o3(e,8)}static bytes9(e){return o3(e,9)}static bytes10(e){return o3(e,10)}static bytes11(e){return o3(e,11)}static bytes12(e){return o3(e,12)}static bytes13(e){return o3(e,13)}static bytes14(e){return o3(e,14)}static bytes15(e){return o3(e,15)}static bytes16(e){return o3(e,16)}static bytes17(e){return o3(e,17)}static bytes18(e){return o3(e,18)}static bytes19(e){return o3(e,19)}static bytes20(e){return o3(e,20)}static bytes21(e){return o3(e,21)}static bytes22(e){return o3(e,22)}static bytes23(e){return o3(e,23)}static bytes24(e){return o3(e,24)}static bytes25(e){return o3(e,25)}static bytes26(e){return o3(e,26)}static bytes27(e){return o3(e,27)}static bytes28(e){return o3(e,28)}static bytes29(e){return o3(e,29)}static bytes30(e){return o3(e,30)}static bytes31(e){return o3(e,31)}static bytes32(e){return o3(e,32)}static address(e){return new o6(o2,"address",e)}static bool(e){return new o6(o2,"bool",!!e)}static bytes(e){return new o6(o2,"bytes",e)}static string(e){return new o6(o2,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new o6(o2,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===o4}static dereference(e,t){if(o6.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class o8 extends s5{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=o6.dereference(t,"string");try{r=o0(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return o0(s_(e.readValue(),20))}}class o9 extends s5{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function o7(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return ss(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),ss(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]})}else so(!1,"invalid tuple value","tuple",r);so(t.length===n.length,"types/value length mismatch","tuple",r);let i=new s3,a=new s3,s=[];t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=a.length;e.encode(a,r);let n=i.writeUpdatableValue();s.push(e=>{n(e+t)})}else e.encode(i,r)}),s.forEach(e=>{e(i.length)});let o=e.appendWriter(i);return o+e.appendWriter(a)}function le(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach(t=>{let a=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{a=t.decode(n)}catch(e){if(sn(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}}else try{a=t.decode(e)}catch(e){if(sn(e,"BUFFER_OVERRUN"))throw e;(a=e).baseType=t.name,a.name=t.localName,a.type=t.type}if(void 0==a)throw Error("investigate");r.push(a),n.push(t.localName||null)}),s0.fromItems(r,n)}class lt extends s5{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),st(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=o6.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),sl(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return o7(e,i,r)}decode(e){let t=this.length;-1===t&&ss(32*(t=e.readIndex())<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:32*t,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new o9(this.coder));return le(e,r)}}class lr extends s5{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=o6.dereference(t,"bool");return e.writeValue(+!!r)}decode(e){return!!e.readValue()}}class ln extends s5{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=sp(t);let r=e.writeValue(t.length);return r+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class li extends ln{constructor(e){super("bytes",e)}decode(e){return sg(super.decode(e))}}class la extends s5{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),st(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=sp(o6.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return sg(e.readBytes(this.size))}}let ls=new Uint8Array([]);class lo extends s5{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(ls)}decode(e){return e.readBytes(0),null}}let ll=BigInt(0),lc=BigInt(1),lu=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class ld extends s5{size;signed;constructor(e,t,r){const n=(t?"int":"uint")+8*e;super(n,n,r,!1),st(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=sV(o6.dereference(t,this.type)),n=sL(lu,256);if(this.signed){let e=sL(n,8*this.size-1);(r>e||r<-(e+lc))&&this._throwError("value out-of-bounds",t),r=sF(r,256)}else(r<ll||r>sL(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=sL(e.readValue(),8*this.size);return this.signed&&(t=sM(t,8*this.size)),t}}class lh extends ln{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,sC(o6.dereference(t,"string")))}decode(e){return sS(super.decode(e))}}class lf extends s5{coders;constructor(e,t){let r=!1;const n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),st(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){let r=o6.dereference(t,"tuple");return o7(e,this.coders,r)}decode(e){return le(e,this.coders)}}function lp(e){return oJ(sC(e))}function lm(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}let lx=lm("external public payable override".split(" ")),ly="constant external internal payable private public pure view override",lg=lm(ly.split(" ")),lb="constructor error event fallback function receive struct",lw=lm(lb.split(" ")),lv="calldata memory storage payable indexed",lA=lm(lv.split(" ")),lE=lm([lb,lv,"tuple returns",ly].join(" ").split(" ")),lT={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},lk=RegExp("^(\\s*)"),lP=RegExp("^([0-9]+)"),lN=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),lR=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),lC=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class lS{#i;#d;get offset(){return this.#i}get length(){return this.#d.length-this.#i}constructor(e){this.#i=0,this.#d=e.slice()}clone(){return new lS(this.#d)}reset(){this.#i=0}#h(e=0,t=0){return new lS(this.#d.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#h(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#i<e.match-1;){let e=this.peek().linkNext;t.push(this.#h(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#d.length)throw Error("out-of-bounds");return this.#d[this.#i]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#i++,e}toString(){let e=[];for(let t=this.#i;t<this.#d.length;t++){let r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function lI(e){let t=[],r=t=>{let r=a<e.length?JSON.stringify(e[a]):"$EOI";throw Error(`invalid token ${r} at ${a}: ${t}`)},n=[],i=[],a=0;for(;a<e.length;){let s=e.substring(a),o=s.match(lk);o&&(a+=o[1].length,s=e.substring(a));let l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:a,value:-1};t.push(l);let c=lT[s[0]]||"";if(c){if(l.type=c,l.text=s[0],a++,"OPEN_PAREN"===c)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==c)0===n.length&&r("no matching open bracket"),l.match=n.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===c)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===c)l.type="BRACKET";else if("CLOSE_BRACKET"===c){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=sz(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(o=s.match(lN)){if(l.text=o[1],a+=l.text.length,lE.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(lC)){l.type="TYPE";continue}l.type="ID";continue}if(o=s.match(lP)){l.text=o[1],l.type="NUMBER",a+=l.text.length;continue}throw Error(`unexpected token ${JSON.stringify(s[0])} at position ${a}`)}return new lS(t.map(e=>Object.freeze(e)))}function lO(e,t){let r=[];for(let n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function lB(e,t){if(t.peekKeyword(lw)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function lD(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function lU(e){let t=lD(e,lg);return(lO(t,lm("constant payable nonpayable".split(" "))),lO(t,lm("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function lM(e,t){return e.popParams().map(e=>l$.from(e,t))}function lF(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return sV(e.pop().text);throw Error("invalid gas")}return null}function lL(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let lV=new RegExp(/^(.*)\[([0-9]*)\]$/);function lj(e){let t=e.match(lC);if(so(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);so(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);so(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let lG={},lH=Symbol.for("_ethers_internal"),lz="_ParamTypeInternal",lK="_ErrorInternal",l_="_EventInternal",lQ="_ConstructorInternal",lJ="_FallbackInternal",lW="_FunctionInternal",lq="_StructInternal";class l${name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,a,s,o){if(sd(e,lG,"ParamType"),Object.defineProperty(this,lH,{value:lz}),a&&(a=Object.freeze(a.slice())),"array"===n){if(null==s||null==o)throw Error("")}else if(null!=s||null!=o)throw Error("");if("tuple"===n){if(null==a)throw Error("")}else if(null!=a)throw Error("");st(this,{name:t,type:r,baseType:n,indexed:i,components:a,arrayLength:s,arrayChildren:o})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,n)=>r.components[n].walk(e,t))}return t(this.type,e)}#f(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let i=this.arrayChildren,a=t.slice();a.forEach((t,n)=>{i.#f(e,t,r,e=>{a[n]=e})}),n(a);return}if(this.isTuple()){let i,a=this.components;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");i=a.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(i.length!==this.components.length)throw Error("array is wrong length");i.forEach((t,n)=>{a[n].#f(e,t,r,e=>{i[n]=e})}),n(i);return}let i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){let r=[],n=[e];return this.#f(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(l$.isParamType(e))return e;if("string"==typeof e)try{return l$.from(lI(e),t)}catch(t){so(!1,"invalid param type","obj",e)}else if(e instanceof lS){let r="",n="",i=null;lD(e,lm(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map(e=>l$.from(e)),r=`tuple(${i.map(e=>e.format()).join(",")})`):n=r=lj(e.popType("TYPE"));let a=null,s=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();a=new l$(lG,"",r,n,null,i,s,a),s=t.value,r+=t.text,n="array",i=null}let o=null;if(lD(e,lA).has("indexed")){if(!t)throw Error("");o=!0}let l=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new l$(lG,l,r,n,o,i,s,a)}let r=e.name;so(!r||"string"==typeof r&&r.match(lR),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(so(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,a=i.match(lV);if(a){let t=parseInt(a[2]||"-1"),s=l$.from({type:a[1],components:e.components});return new l$(lG,r||"",i,"array",n,null,t,s)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>l$.from(e)):null;return new l$(lG,r||"",i,"tuple",n,t,null,null)}return new l$(lG,r||"",i=lj(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[lH]===lz}}class lY{type;inputs;constructor(e,t,r){sd(e,lG,"Fragment"),st(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{lY.from(JSON.parse(e))}catch(e){}return lY.from(lI(e))}if(e instanceof lS)switch(e.peekKeyword(lw)){case"constructor":return l2.from(e);case"error":return l0.from(e);case"event":return l1.from(e);case"fallback":case"receive":return l5.from(e);case"function":return l3.from(e);case"struct":return l4.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return l2.from(e);case"error":return l0.from(e);case"event":return l1.from(e);case"fallback":case"receive":return l5.from(e);case"function":return l3.from(e);case"struct":return l4.from(e)}ss(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}so(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return l2.isFragment(e)}static isError(e){return l0.isFragment(e)}static isEvent(e){return l1.isFragment(e)}static isFunction(e){return l3.isFragment(e)}static isStruct(e){return l4.isFragment(e)}}class lZ extends lY{name;constructor(e,t,r,n){super(e,t,n),so("string"==typeof r&&r.match(lR),"invalid identifier","name",r),n=Object.freeze(n.slice()),st(this,{name:r})}}function lX(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class l0 extends lZ{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,lH,{value:lK})}get selector(){return lp(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+lX(e,this.inputs)),t.join(" ")}static from(e){if(l0.isFragment(e))return e;if("string"==typeof e)return l0.from(lI(e));if(e instanceof lS){let t=lB("error",e),r=lM(e);return lL(e),new l0(lG,t,r)}return new l0(lG,e.name,e.inputs?e.inputs.map(l$.from):[])}static isFragment(e){return e&&e[lH]===lK}}class l1 extends lZ{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,lH,{value:l_}),st(this,{anonymous:n})}get topicHash(){return lp(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+lX(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new l1(lG,e,t=(t||[]).map(e=>l$.from(e)),!1).topicHash}static from(e){if(l1.isFragment(e))return e;if("string"==typeof e)try{return l1.from(lI(e))}catch(t){so(!1,"invalid event fragment","obj",e)}else if(e instanceof lS){let t=lB("event",e),r=lM(e,!0),n=!!lD(e,lm(["anonymous"])).has("anonymous");return lL(e),new l1(lG,t,r,n)}return new l1(lG,e.name,e.inputs?e.inputs.map(e=>l$.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[lH]===l_}}class l2 extends lY{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,lH,{value:lQ}),st(this,{payable:n,gas:i})}format(e){if(ss(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${lX(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(l2.isFragment(e))return e;if("string"==typeof e)try{return l2.from(lI(e))}catch(t){so(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof lS){lD(e,lm(["constructor"]));let t=lM(e),r=!!lD(e,lx).has("payable"),n=lF(e);return lL(e),new l2(lG,"constructor",t,r,n)}return new l2(lG,"constructor",e.inputs?e.inputs.map(l$.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[lH]===lQ}}class l5 extends lY{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,lH,{value:lJ}),st(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(l5.isFragment(e))return e;if("string"==typeof e)try{return l5.from(lI(e))}catch(t){so(!1,"invalid fallback fragment","obj",e)}else if(e instanceof lS){let t=e.toString();if(so(e.peekKeyword(lm(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(lm(["fallback","receive"]))){let t=lM(e);return so(0===t.length,"receive cannot have arguments","obj.inputs",t),lD(e,lm(["payable"])),lL(e),new l5(lG,[],!0)}let r=lM(e);r.length?so(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[l$.from("bytes")];let n=lU(e);if(so("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),lD(e,lm(["returns"])).has("returns")){let t=lM(e);so(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return lL(e),new l5(lG,r,"payable"===n)}return"receive"===e.type?new l5(lG,[],!0):"fallback"===e.type?new l5(lG,[l$.from("bytes")],"payable"===e.stateMutability):void so(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[lH]===lJ}}class l3 extends lZ{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,a){super(e,"function",t,n),Object.defineProperty(this,lH,{value:lW}),st(this,{constant:"view"===r||"pure"===r,gas:a,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return lp(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+lX(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(lX(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new l3(lG,e,"view",t=(t||[]).map(e=>l$.from(e)),[],null).selector}static from(e){if(l3.isFragment(e))return e;if("string"==typeof e)try{return l3.from(lI(e))}catch(t){so(!1,"invalid function fragment","obj",e)}else if(e instanceof lS){let t=lB("function",e),r=lM(e),n=lU(e),i=[];lD(e,lm(["returns"])).has("returns")&&(i=lM(e));let a=lF(e);return lL(e),new l3(lG,t,n,r,i,a)}let t=e.stateMutability;return null==t&&(t="payable","boolean"==typeof e.constant?(t="view",!e.constant&&(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new l3(lG,e.name,t,e.inputs?e.inputs.map(l$.from):[],e.outputs?e.outputs.map(l$.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[lH]===lW}}class l4 extends lZ{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,lH,{value:lq})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return l4.from(lI(e))}catch(t){so(!1,"invalid struct fragment","obj",e)}else if(e instanceof lS){let t=lB("struct",e),r=lM(e);return lL(e),new l4(lG,t,r)}return new l4(lG,e.name,e.inputs?e.inputs.map(l$.from):[])}static isFragment(e){return e&&e[lH]===lq}}let l6=new Map;l6.set(0,"GENERIC_PANIC"),l6.set(1,"ASSERT_FALSE"),l6.set(17,"OVERFLOW"),l6.set(18,"DIVIDE_BY_ZERO"),l6.set(33,"ENUM_RANGE_ERROR"),l6.set(34,"BAD_STORAGE_DATA"),l6.set(49,"STACK_UNDERFLOW"),l6.set(50,"ARRAY_RANGE_ERROR"),l6.set(65,"OUT_OF_MEMORY"),l6.set(81,"UNINITIALIZED_FUNCTION_CALL");let l8=new RegExp(/^bytes([0-9]*)$/),l9=new RegExp(/^(u?int)([0-9]*)$/),l7=null,ce=1024;class ct{#p(e){if(e.isArray())return new lt(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new lf(e.components.map(e=>this.#p(e)),e.name);switch(e.baseType){case"address":return new o8(e.name);case"bool":return new lr(e.name);case"string":return new lh(e.name);case"bytes":return new li(e.name);case"":return new lo(e.name)}let t=e.type.match(l9);if(t){let r=parseInt(t[2]||"256");return so(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new ld(r/8,"int"===t[1],e.name)}if(t=e.type.match(l8)){let r=parseInt(t[1]);return so(0!==r&&r<=32,"invalid bytes length","param",e),new la(r,e.name)}so(!1,"invalid type","type",e.type)}getDefaultValue(e){return new lf(e.map(e=>this.#p(l$.from(e))),"_").defaultValue()}encode(e,t){sl(t.length,e.length,"types/values length mismatch");let r=new lf(e.map(e=>this.#p(l$.from(e))),"_"),n=new s3;return r.encode(n,t),n.data}decode(e,t,r){return new lf(e.map(e=>this.#p(l$.from(e))),"_").decode(new s4(t,r,ce))}static _setDefaultMaxInflation(e){so("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),ce=e}static defaultAbiCoder(){return null==l7&&(l7=new ct),l7}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",a=null,s=null;if(r){i="execution reverted";let e=sf(r);if(r=sg(r),0===e.length)i+=" (no data present; likely require(false) occurred",a="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===sg(e.slice(0,4)))try{a=n.decode(["string"],e.slice(4))[0],s={signature:"Error(string)",name:"Error",args:[a]},i+=`: ${JSON.stringify(a)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===sg(e.slice(0,4)))try{let t=Number(n.decode(["uint256"],e.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[t]},a=`Panic due to ${l6.get(t)||"UNKNOWN"}(${t})`,i+=`: ${a}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let o={to:t.to?o0(t.to):null,data:t.data||"0x"};return t.from&&(o.from=o0(t.from)),sa(i,"CALL_EXCEPTION",{action:e,data:r,reason:a,transaction:o,invocation:null,revert:s})}(e,t,r,ct.defaultAbiCoder())}}class cr{fragment;name;signature;topic;args;constructor(e,t,r){const n=e.name,i=e.format();st(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class cn{fragment;name;args;signature;selector;value;constructor(e,t,r,n){const i=e.name,a=e.format();st(this,{fragment:e,name:i,args:r,signature:a,selector:t,value:n})}}class ci{fragment;name;args;signature;selector;constructor(e,t,r){const n=e.name,i=e.format();st(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class ca{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){st(this,{hash:e,_isIndexed:!0})}}let cs={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},co={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&cs[e.toString()]&&(t=cs[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class cl{fragments;deploy;fallback;receive;#m;#x;#y;#g;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#y=new Map,this.#m=new Map,this.#x=new Map;const r=[];for(const e of t)try{r.push(lY.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}st(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#g=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy)return void console.log("duplicate definition - constructor");st(this,{deploy:e});return;case"fallback":0===e.inputs.length?i=!0:(so(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),i=(n=e).payable);return;case"function":r=this.#y;break;case"event":r=this.#x;break;case"error":r=this.#m;break;default:return}let a=e.format();r.has(a)||r.set(a,e)}),this.deploy||st(this,{deploy:l2.from("constructor()")}),st(this,{fallback:n,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return ct.defaultAbiCoder()}#b(e,t,r){if(sm(e)){let t=e.toLowerCase();for(let e of this.#y.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#y)t.split("(")[0]===e&&n.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,i=!0;o6.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){let t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(o6.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");so(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}let n=this.#y.get(l3.from(e).format());return n||null}getFunctionName(e){let t=this.#b(e,null,!1);return so(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#b(e,null,!1)}getFunction(e,t){return this.#b(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#y.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#y.get(n),r)}}#w(e,t,r){if(sm(e)){let t=e.toLowerCase();for(let e of this.#x.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#x)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(o6.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");so(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}let n=this.#x.get(l1.from(e).format());return n||null}getEventName(e){let t=this.#w(e,null,!1);return so(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#w(e,null,!1)}getEvent(e,t){return this.#w(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#x.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#x.get(n),r)}}getError(e,t){if(sm(e)){let t=e.toLowerCase();if(co[t])return l0.from(co[t].signature);for(let e of this.#m.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,n]of this.#m)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?l0.from("error Error(string)"):"Panic"===e?l0.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");so(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}if("Error(string)"===(e=l0.from(e).format()))return l0.from("error Error(string)");if("Panic(uint256)"===e)return l0.from("error Panic(uint256)");let r=this.#m.get(e);return r||null}forEachError(e){let t=Array.from(this.#m.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#m.get(n),r)}}_decodeParams(e,t){return this.#g.decode(e,t)}_encodeParams(e,t){return this.#g.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);so(t,"unknown error","fragment",e),e=t}return so(sv(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,sv(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);so(t,"unknown error","fragment",e),e=t}return sb([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);so(t,"unknown function","fragment",e),e=t}return so(sv(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,sv(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);so(t,"unknown function","fragment",e),e=t}return sb([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);so(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",n=sp(t);if(n.length%32==0)try{return this.#g.decode(e.outputs,n)}catch(e){r="could not decode result data"}ss(!1,r,"BAD_DATA",{value:sg(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=sf(e,"data"),n=ct.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){let e=sg(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#g.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}let i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);so(t,"unknown function","fragment",e),e=t}return sg(this.#g.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);so(t,"unknown event","eventFragment",e),e=t}ss(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let n=(e,t)=>"string"===e.type?lp(t):"bytes"===e.type?oJ(sg(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=s_(t):e.type.match(/^bytes/)?t=sk(t,32):"address"===e.type&&this.#g.encode(["address"],[t]),sT(sg(t),32));for(t.forEach((t,i)=>{let a=e.inputs[i];a.indexed?null==t?r.push(null):"array"===a.baseType||"tuple"===a.baseType?so(!1,"filtering with tuples or arrays not supported","contract."+a.name,t):Array.isArray(t)?r.push(t.map(e=>n(a,e))):r.push(n(a,t)):so(null==t,"cannot filter non-indexed parameters; must be null","contract."+a.name,t)});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);so(t,"unknown event","eventFragment",e),e=t}let r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),so(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,a)=>{let s=t[a];if(e.indexed)if("string"===e.type)r.push(lp(s));else if("bytes"===e.type)r.push(oJ(s));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#g.encode([e.type],[s]));else n.push(e),i.push(s)}),{data:this.#g.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);so(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;so(sm(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let n=[],i=[],a=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(l$.from({type:"bytes32",name:e.name})),a.push(!0)):(n.push(e),a.push(!1)):(i.push(e),a.push(!1))});let s=null!=r?this.#g.decode(n,sb(r)):null,o=this.#g.decode(i,t,!0),l=[],c=[],u=0,d=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed)if(null==s)r=new ca(null);else if(a[t])r=new ca(s[d++]);else try{r=s[d++]}catch(e){r=e}else try{r=o[u++]}catch(e){r=e}l.push(r),c.push(e.name||null)}),s0.fromItems(l,c)}parseTransaction(e){let t=sf(e.data,"tx.data"),r=sV(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(sg(t.slice(0,4)));if(!n)return null;let i=this.#g.decode(n.inputs,t.slice(4));return new cn(n,n.selector,i,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new cr(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=sg(e),r=this.getError(sv(t,0,4));if(!r)return null;let n=this.#g.decode(r.inputs,sv(t,4));return new ci(r,r.selector,n)}static from(e){return e instanceof cl?e:new cl("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}function cc(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}let cu="0123456789abcdef";function cd(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=cc(r.length);return n.unshift(247+n.length),n.concat(r)}let r=Array.prototype.slice.call(sf(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=cc(r.length);return n.unshift(183+n.length),n.concat(r)}(e))t+=cu[r>>4],t+=cu[15&r];return t}function ch(e){let t=o0(e.from),r=sV(e.nonce,"tx.nonce").toString(16);return o0(sv(oJ(cd([t,r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r])),12))}function cf(e,t,r){let n=o0(e),i=sf(t,"salt"),a=sf(r,"initCodeHash");return so(32===i.length,"salt must be 32 bytes","salt",t),so(32===a.length,"initCodeHash must be 32 bytes","initCodeHash",r),o0(sv(oJ(sb(["0xff",n,i,a])),12))}function cp(e){return e&&"function"==typeof e.getAddress}function cm(e){try{return o0(e),!0}catch(e){}return!1}async function cx(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(ss("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),so(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),o0(r)}function cy(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?o0(e):(ss(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),cx(e,t.resolveName(e))):cp(e)?cx(e,e.getAddress()):e&&"function"==typeof e.then?cx(e,e):void so(!1,"unsupported addressable value","target",e)}let cg="0x0000000000000000000000000000000000000000",cb=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),cw=BigInt("1000000000000000000"),cv=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),cA=BigInt("0x8000000000000000000000000000000000000000000000000000000000000000")*BigInt(-1),cE=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),cT="0x0000000000000000000000000000000000000000000000000000000000000000",ck="\x19Ethereum Signed Message:\n";function cP(e,t){return{address:o0(e),storageKeys:t.map((e,t)=>(so(sm(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function cN(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(so(2===t.length,"invalid slot set",`value[${r}]`,t),cP(t[0],t[1])):(so(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),cP(t.address,t.storageKeys)));so(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return cP(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}let cR=BigInt(0);function cC(e){return null==e?null:e}function cS(e){return null==e?null:e.toString()}class cI{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){st(this,{gasPrice:cC(e),maxFeePerGas:cC(t),maxPriorityFeePerGas:cC(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:cS(e),maxFeePerGas:cS(t),maxPriorityFeePerGas:cS(r)}}}function cO(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=sg(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=sV(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=sz(e[r],`request.${r}`));return e.accessList&&(t.accessList=cN(e.accessList)),e.authorizationList&&(t.authorizationList=e.authorizationList.slice()),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobWrapperVersion"in e&&(t.blobWrapperVersion=e.blobWrapperVersion),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>sx(e)?sg(e):Object.assign({},e))),t}class cB{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#v;constructor(e,t){this.#v=e.transactions.map(e=>"string"!=typeof e?new cM(e,t):e),st(this,{provider:t,hash:cC(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:cC(e.prevRandao),extraData:e.extraData,baseFeePerGas:cC(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#v.map(e=>"string"==typeof e?e:e.hash)}get prefetchedTransactions(){let e=this.#v.slice();return 0===e.length?[]:(ss("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:a,miner:s,prevRandao:o,nonce:l,number:c,parentHash:u,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,timestamp:p,transactions:m}=this;return{_type:"Block",baseFeePerGas:cS(e),difficulty:cS(t),extraData:r,gasLimit:cS(n),gasUsed:cS(i),blobGasUsed:cS(this.blobGasUsed),excessBlobGas:cS(this.excessBlobGas),hash:a,miner:s,prevRandao:o,nonce:l,number:c,parentHash:u,timestamp:p,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,transactions:m}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#v.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#v[e];else{let r=e.toLowerCase();for(let e of this.#v)if("string"==typeof e){if(e!==r)continue;t=e;break}else{if(e.hash!==r)continue;t=e;break}}if(null==t)throw Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if("number"==typeof e)return t[e];for(let r of(e=e.toLowerCase(),t))if(r.hash===e)return r;so(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){var e;if(!this.isMined())throw Error("");return e=this,{orphan:"drop-block",hash:e.hash,number:e.number}}}class cD{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;const r=Object.freeze(e.topics.slice());st(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:s,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:a,topics:s,transactionHash:o,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return ss(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return ss(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return ss(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){var e;return e=this,{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}}class cU{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#A;constructor(e,t){this.#A=Object.freeze(e.logs.map(e=>new cD(e,t)));let r=cR;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),st(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#A}toJSON(){let{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:a,blockNumber:s,logsBloom:o,logs:l,status:c,root:u}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:s,contractAddress:r,cumulativeGasUsed:cS(this.cumulativeGasUsed),from:t,gasPrice:cS(this.gasPrice),blobGasUsed:cS(this.blobGasUsed),blobGasPrice:cS(this.blobGasPrice),gasUsed:cS(this.gasUsed),hash:n,index:i,logs:l,logsBloom:o,root:u,status:c,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return cL(this)}reorderedEvent(e){return ss(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),cF(this,e)}}class cM{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;authorizationList;#E;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.authorizationList=null!=e.authorizationList?e.authorizationList:null,this.#E=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:a,from:s,nonce:o,data:l,signature:c,accessList:u,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:u,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:cS(this.chainId),data:l,from:s,gasLimit:cS(this.gasLimit),gasPrice:cS(this.gasPrice),hash:n,maxFeePerGas:cS(this.maxFeePerGas),maxPriorityFeePerGas:cS(this.maxPriorityFeePerGas),maxFeePerBlobGas:cS(this.maxFeePerBlobGas),nonce:o,signature:c,to:a,index:r,type:i,value:cS(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await se({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,n=null==t?0:t,i=this.#E,a=-1,s=-1===i,o=async()=>{if(s)return null;let{blockNumber:e,nonce:t}=await se({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){i=e;return}if(s)return null;let n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===a&&(a=i-3)<this.#E&&(a=this.#E);a<=e;){if(s)return null;let t=await this.provider.getBlock(a,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){let a=await t.getTransaction(n);if(a.from===this.from&&a.nonce===this.nonce){if(s)return null;let t=await this.provider.getTransactionReceipt(a.hash);if(null==t||e-t.blockNumber+1<r)return;let n="replaced";a.data===this.data&&a.to===this.to&&a.value===this.value?n="repriced":"0x"===a.data&&a.from===a.to&&a.value===cR&&(n="cancelled"),ss(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:a.replaceableTransaction(i),hash:a.hash,receipt:t})}}a++}},l=e=>{if(null==e||0!==e.status)return e;ss(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},c=await this.provider.getTransactionReceipt(this.hash);if(0===r)return l(c);if(c){if(1===r||await c.confirmations()>=r)return l(c)}else if(await o(),0===r)return null;let u=new Promise((e,t)=>{let a=[],c=()=>{a.forEach(e=>e())};if(a.push(()=>{s=!0}),n>0){let e=setTimeout(()=>{c(),t(sa("wait for transaction timeout","TIMEOUT"))},n);a.push(()=>{clearTimeout(e)})}let u=async n=>{if(await n.confirmations()>=r){c();try{e(l(n))}catch(e){t(e)}}};if(a.push(()=>{this.provider.off(this.hash,u)}),this.provider.on(this.hash,u),i>=0){let e=async()=>{try{await o()}catch(e){if(sn(e,"TRANSACTION_REPLACED")){c(),t(e);return}}s||this.provider.once("block",e)};a.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await u}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return ss(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),cL(this)}reorderedEvent(e){return ss(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ss(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),cF(this,e)}replaceableTransaction(e){so(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new cM(this,this.provider);return t.#E=e,t}}function cF(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function cL(e){return{orphan:"drop-transaction",tx:e}}class cV{filter;emitter;#T;constructor(e,t,r){this.#T=t,st(this,{emitter:e,filter:r})}async removeListener(){null!=this.#T&&await this.emitter.off(this.filter,this.#T)}}class cj extends cD{interface;fragment;args;constructor(e,t,r){super(e,e.provider),st(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class cG extends cD{error;constructor(e,t){super(e,e.provider),st(this,{error:t})}}class cH extends cU{#k;constructor(e,t,r){super(r,t),this.#k=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#k.getEvent(e.topics[0]):null;if(t)try{return new cj(e,this.#k,t)}catch(t){return new cG(e,t)}return e})}}class cz extends cM{#k;constructor(e,t,r){super(r,t),this.#k=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new cH(this.#k,this.provider,r)}}class cK extends cV{log;constructor(e,t,r,n){super(e,t,r),st(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class c_ extends cK{constructor(e,t,r,n,i){super(e,t,r,new cj(i,e.interface,n)),st(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}let cQ=BigInt(0);function cJ(e){return e&&"function"==typeof e.call}function cW(e){return e&&"function"==typeof e.estimateGas}function cq(e){return e&&"function"==typeof e.resolveName}function c$(e){return e&&"function"==typeof e.sendTransaction}function cY(e){if(null!=e){if(cq(e))return e;if(e.provider)return e.provider}}class cZ{#P;fragment;constructor(e,t,r){if(st(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");const n=cX(e.runner,"resolveName"),i=cq(n)?n:null;this.#P=async function(){let n=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>cy(e,i))):cy(t,i):t)));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#P}}function cX(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function c0(e){return null==e?null:e.provider||null}async function c1(e,t){let r=o6.dereference(e,"overrides");so("object"==typeof r,"invalid overrides parameter","overrides",e);let n=cO(r);return so(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),so(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function c2(e,t,r){let n=cX(e,"resolveName"),i=cq(n)?n:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=o6.dereference(t,e),"address"===e)?cy(t,i):t)))}let c5=Symbol.for("_ethersInternal_contract"),c3=new WeakMap;function c4(e){return c3.get(e[c5])}async function c6(e,t){let r,n=null;if(Array.isArray(t)){let n=function(t){if(sm(t,32))return t;let r=e.interface.getEvent(t);return so(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(n):n(e))}else if("*"===t)r=[null];else if("string"==typeof t)sm(t,32)?r=[t]:(so(n=e.interface.getEvent(t),"unknown fragment","event",t),r=[n.topicHash]);else t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment?r=await t.getTopicFilter():"fragment"in t?r=[(n=t.fragment).topicHash]:so(!1,"unknown event name","event",t);return{fragment:n,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function c8(e,t){let{subs:r}=c4(e);return r.get((await c6(e,t)).tag)||null}async function c9(e,t,r){let n=c0(e.runner);ss(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:i,tag:a,topics:s}=await c6(e,r),{addr:o,subs:l}=c4(e),c=l.get(a);if(!c){let t={address:o||e,topics:s},u=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){let a=n,s=i?e.interface.decodeEventLog(i,t.data,t.topics):[];ut(e,r,s,n=>new c_(e,n,r,a,t))}else ut(e,r,[],n=>new cK(e,n,r,t))},d=[];c={tag:a,listeners:[],start:()=>{d.length||d.push(n.on(t,u))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),n.off(t,u)}},l.set(a,c)}return c}let c7=Promise.resolve();async function ue(e,t,r,n){await c7;let i=await c8(e,t);if(!i)return!1;let a=i.listeners.length;return i.listeners=i.listeners.filter(({listener:t,once:i})=>{let a=Array.from(r);n&&a.push(n(i?null:t));try{t.call(e,...a)}catch(e){}return!i}),0===i.listeners.length&&(i.stop(),c4(e).subs.delete(i.tag)),a>0}async function ut(e,t,r,n){try{await c7}catch(e){}let i=ue(e,t,r,n);return c7=i,await i}let ur=["then"];class un{target;interface;runner;filters;[c5];fallback;constructor(e,t,r,n){var i;let a;so("string"==typeof e||cp(e),"invalid value for Contract target","target",e),null==r&&(r=null);const s=cl.from(t);st(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,c5,{value:{}});let o=null,l=null;if(n){const e=c0(r);l=new cz(this.interface,e,n)}let c=new Map;if("string"==typeof e)if(sm(e))o=e,a=Promise.resolve(e);else{const t=cX(r,"resolveName");if(!cq(t))throw sa("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=t.resolveName(e).then(t=>{if(null==t)throw sa("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return c4(this).addr=t,t})}else a=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return c4(this).addr=e,e});return i={addrPromise:a,addr:o,deployTx:l,subs:c},c3.set(this[c5],i),st(this,{filters:new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||ur.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!sn(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>ur.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))})}),st(this,{fallback:s.receive||s.fallback?function(e){let t=async function(t){let r=await c1(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await cy(r.from,cY(e.runner)));let n=e.interface,i=sV(r.value||cQ,"overrides.value")===cQ,a="0x"===(r.data||"0x");return!n.fallback||n.fallback.payable||!n.receive||a||i||so(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),so(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),so(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),so(n.fallback||a,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let n=cX(e.runner,"call");ss(cJ(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let i=await t(r);try{return await n.call(i)}catch(t){if(si(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}},n=async function(r){let n=e.runner;ss(c$(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await n.sendTransaction(await t(r)),a=c0(e.runner);return new cz(e.interface,a,i)},i=async function(r){let n=cX(e.runner,"estimateGas");return ss(cW(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},a=async e=>await n(e);return st(a,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:r}),a}(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||ur.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!sn(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||ur.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new un(this.target,this.interface,e)}attach(e){return new un(e,this.interface,this.runner)}async getAddress(){return await c4(this).addrPromise}async getDeployedCode(){let e=c0(this.runner);ss(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=c0(this.runner);return ss(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let n=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",n)}catch(e){r(e)}};n()})}deploymentTransaction(){return c4(this).deployTx}getFunction(e){var t,r;let n,i,a,s,o,l,c;return"string"!=typeof e&&(e=e.format()),t=this,r=e,n=function(...e){let n=t.interface.getFunction(r,e);return ss(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),n},i=async function(...e){let r=n(...e),i={};if(r.inputs.length+1===e.length&&(i=await c1(e.pop())).from&&(i.from=await cy(i.from,cY(t.runner))),r.inputs.length!==e.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let a=await c2(t.runner,r.inputs,e);return Object.assign({},i,await se({to:t.getAddress(),data:t.interface.encodeFunctionData(r,a)}))},a=async function(...e){let t=await l(...e);return 1===t.length?t[0]:t},s=async function(...e){let r=t.runner;ss(c$(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let n=await r.sendTransaction(await i(...e)),a=c0(t.runner);return new cz(t.interface,a,n)},o=async function(...e){let r=cX(t.runner,"estimateGas");return ss(cW(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await i(...e))},l=async function(...e){let r=cX(t.runner,"call");ss(cJ(r),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let a=await i(...e),s="0x";try{s=await r.call(a)}catch(e){if(si(e)&&e.data)throw t.interface.makeError(e.data,a);throw e}let o=n(...e);return t.interface.decodeFunctionResult(o,s)},st(c=async(...e)=>n(...e).constant?await a(...e):await s(...e),{name:t.interface.getFunctionName(r),_contract:t,_key:r,getFragment:n,estimateGas:o,populateTransaction:i,send:s,staticCall:a,staticCallResult:l}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getFunction(r);return ss(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),c}getEvent(e){var t,r;let n,i;return"string"!=typeof e&&(e=e.format()),t=this,r=e,n=function(...e){let n=t.interface.getEvent(r,e);return ss(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r,args:e}}),n},st(i=function(...e){return new cZ(t,n(...e),e)},{name:t.interface.getEventName(r),_contract:t,_key:r,getFragment:n}),Object.defineProperty(i,"fragment",{configurable:!1,enumerable:!0,get:()=>{let e=t.interface.getEvent(r);return ss(e,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:r}}),e}}),i}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:n,addrPromise:i}=c4(this),a=n||await i,{fragment:s,topics:o}=await c6(this,e),l={address:a,topics:o,fromBlock:t,toBlock:r},c=c0(this.runner);return ss(c,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await c.getLogs(l)).map(e=>{let t=s;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new cj(e,this.interface,t)}catch(t){return new cG(e,t)}return new cD(e,c)})}async on(e,t){let r=await c9(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await c9(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await ut(this,e,t,null)}async listenerCount(e){if(e){let t=await c8(this,e);return t?t.listeners.length:0}let{subs:t}=c4(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await c8(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=c4(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await c8(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),c4(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await c8(this,e);if(!t)return this;t.stop(),c4(this).subs.delete(t.tag)}else{let{subs:e}=c4(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){return class extends un{constructor(t,r=null){super(t,e,r)}}}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function ui(){return un}class ua extends ui(){}class us{interface;bytecode;runner;constructor(e,t,r){const n=cl.from(e);t instanceof Uint8Array||("object"==typeof t&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),st(this,{bytecode:t=sg(sf(t)),interface:n,runner:r||null})}attach(e){return new un(e,this.interface,this.runner)}async getDeployTransaction(...e){let t={},r=this.interface.deploy;if(r.inputs.length+1===e.length&&(t=await c1(e.pop())),r.inputs.length!==e.length)throw Error("incorrect number of arguments to constructor");let n=await c2(this.runner,r.inputs,e);return Object.assign({},t,{data:sb([this.bytecode,this.interface.encodeDeploy(n)])})}async deploy(...e){let t=await this.getDeployTransaction(...e);ss(this.runner&&"function"==typeof this.runner.sendTransaction,"factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let r=await this.runner.sendTransaction(t);return new un(ch(r),this.interface,this.runner,r)}connect(e){return new us(this.interface,this.bytecode,e)}static fromSolidity(e,t){so(null!=e,"bad compiler output","output",e),"string"==typeof e&&(e=JSON.parse(e));let r=e.abi,n="";return e.bytecode?n=e.bytecode:e.evm&&e.evm.bytecode&&(n=e.evm.bytecode),new this(r,n,t)}}class uo extends oT{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,s9(e);const r=oE(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return s7(this),this.iHash.update(e),this}digestInto(e){s7(this),s8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:a,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=a,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ul=(e,t,r)=>new uo(e,t).update(r).digest();function uc(e,t,r,n){var i;let a,{c:s,dkLen:o,DK:l,PRF:c,PRFSalt:u}=function(e,t,r,n){s9(e);let{c:i,dkLen:a,asyncTick:s}=oP({dkLen:32,asyncTick:10},n);if(s6(i),s6(a),s6(s),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let o=oE(t),l=oE(r),c=new Uint8Array(a),u=ul.create(e,o),d=u._cloneInto().update(l);return{c:i,dkLen:a,asyncTick:s,DK:c,PRF:u,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),h=ob(d),f=new Uint8Array(c.outputLen);for(let e=1,t=0;t<o;e++,t+=c.outputLen){let r=l.subarray(t,t+c.outputLen);h.setInt32(0,e,!1),(a=u._cloneInto(a)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<s;e++){c._cloneInto(a).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return i=a,c.destroy(),u.destroy(),i&&i.destroy(),f.fill(0),l}ul.create=(e,t)=>new uo(e,t);class uu extends oT{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ob(this.buffer)}update(e){s7(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=oE(e)).length;for(let a=0;a<i;){let s=Math.min(n-this.pos,i-a);if(s===n){let t=ob(e);for(;n<=i-a;a+=n)this.process(t,a);continue}r.set(e.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){s7(this),oe(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>n-a&&(this.process(r,0),a=0);for(let e=a;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),a=BigInt(0xffffffff),s=Number(r>>i&a),o=Number(r&a),l=4*!!n,c=4*!n;e.setUint32(t+l,s,n),e.setUint32(t+c,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let s=ob(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)s.setUint32(4*e,c[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:a,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=a,n%t&&e.buffer.set(r),e}}let ud=(e,t,r)=>e&t^~e&r,uh=(e,t,r)=>e&t^e&r^t&r,uf=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),up=new Uint32Array([0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19]),um=new Uint32Array(64);class ux extends uu{constructor(){super(64,32,8,!1),this.A=0|up[0],this.B=0|up[1],this.C=0|up[2],this.D=0|up[3],this.E=0|up[4],this.F=0|up[5],this.G=0|up[6],this.H=0|up[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:a,G:s,H:o}=this;return[e,t,r,n,i,a,s,o]}set(e,t,r,n,i,a,s,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|a,this.G=0|s,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)um[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=um[e-15],r=um[e-2],n=ow(t,7)^ow(t,18)^t>>>3,i=ow(r,17)^ow(r,19)^r>>>10;um[e]=i+um[e-7]+n+um[e-16]|0}let{A:r,B:n,C:i,D:a,E:s,F:o,G:l,H:c}=this;for(let e=0;e<64;e++){let t=c+(ow(s,6)^ow(s,11)^ow(s,25))+ud(s,o,l)+uf[e]+um[e]|0,u=(ow(r,2)^ow(r,13)^ow(r,22))+uh(r,n,i)|0;c=l,l=o,o=s,s=a+t|0,a=i,i=n,n=r,r=t+u|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,a=a+this.D|0,s=s+this.E|0,o=o+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,a,s,o,l,c)}roundClean(){um.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let uy=oN(()=>new ux),[ug,ub]=on(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),uw=new Uint32Array(80),uv=new Uint32Array(80);class uA extends uu{constructor(){super(128,64,16,!1),this.Ah=0x6a09e667,this.Al=-0xc4336f8,this.Bh=-0x4498517b,this.Bl=-0x7b3558c5,this.Ch=0x3c6ef372,this.Cl=-0x16b07d5,this.Dh=-0x5ab00ac6,this.Dl=0x5f1d36f1,this.Eh=0x510e527f,this.El=-0x52197d2f,this.Fh=-0x64fa9774,this.Fl=0x2b3e6c1f,this.Gh=0x1f83d9ab,this.Gl=-0x4be4295,this.Hh=0x5be0cd19,this.Hl=0x137e2179}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:a,Dh:s,Dl:o,Eh:l,El:c,Fh:u,Fl:d,Gh:h,Gl:f,Hh:p,Hl:m}=this;return[e,t,r,n,i,a,s,o,l,c,u,d,h,f,p,m]}set(e,t,r,n,i,a,s,o,l,c,u,d,h,f,p,m){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|a,this.Dh=0|s,this.Dl=0|o,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|m}process(e,t){for(let r=0;r<16;r++,t+=4)uw[r]=e.getUint32(t),uv[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|uw[e-15],r=0|uv[e-15],n=os(t,r,1)^os(t,r,8)^oi(t,r,7),i=oo(t,r,1)^oo(t,r,8)^oa(t,r,7),a=0|uw[e-2],s=0|uv[e-2],o=os(a,s,19)^ol(a,s,61)^oi(a,s,6),l=of(i,oo(a,s,19)^oc(a,s,61)^oa(a,s,6),uv[e-7],uv[e-16]),c=op(l,n,o,uw[e-7],uw[e-16]);uw[e]=0|c,uv[e]=0|l}let{Ah:r,Al:n,Bh:i,Bl:a,Ch:s,Cl:o,Dh:l,Dl:c,Eh:u,El:d,Fh:h,Fl:f,Gh:p,Gl:m,Hh:x,Hl:y}=this;for(let e=0;e<80;e++){let t=os(u,d,14)^os(u,d,18)^ol(u,d,41),g=oo(u,d,14)^oo(u,d,18)^oc(u,d,41),b=u&h^~u&p,w=ox(y,g,d&f^~d&m,ub[e],uv[e]),v=om(w,x,t,b,ug[e],uw[e]),A=0|w,E=os(r,n,28)^ol(r,n,34)^ol(r,n,39),T=oo(r,n,28)^oc(r,n,34)^oc(r,n,39),k=r&i^r&s^i&s,P=n&a^n&o^a&o;x=0|p,y=0|m,p=0|h,m=0|f,h=0|u,f=0|d,({h:u,l:d}=ou(0|l,0|c,0|v,0|A)),l=0|s,c=0|o,s=0|i,o=0|a,i=0|r,a=0|n;let N=od(A,T,P);r=oh(N,v,E,k),n=0|N}({h:r,l:n}=ou(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:a}=ou(0|this.Bh,0|this.Bl,0|i,0|a)),({h:s,l:o}=ou(0|this.Ch,0|this.Cl,0|s,0|o)),({h:l,l:c}=ou(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:d}=ou(0|this.Eh,0|this.El,0|u,0|d)),({h:h,l:f}=ou(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:m}=ou(0|this.Gh,0|this.Gl,0|p,0|m)),({h:x,l:y}=ou(0|this.Hh,0|this.Hl,0|x,0|y)),this.set(r,n,i,a,s,o,l,c,u,d,h,f,p,m,x,y)}roundClean(){uw.fill(0),uv.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let uE=oN(()=>new uA),uT="undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,uk=uT.crypto||uT.msCrypto;function uP(e){switch(e){case"sha256":return uy.create();case"sha512":return uE.create()}so(!1,"invalid hashing algorithm name","algorithm",e)}let uN=!1,uR=function(e,t,r){let n;return(so(null!=(n=({sha256:uy,sha512:uE})[e]),"invalid hmac algorithm","algorithm",e),ul.create(n,t)).update(r).digest()},uC=uR;function uS(e,t,r){let n=sf(t,"key"),i=sf(r,"data");return sg(uC(e,n,i))}uS._=uR,uS.lock=function(){uN=!0},uS.register=function(e){if(uN)throw Error("computeHmac is locked");uC=e},Object.freeze(uS);let uI=!1,uO=function(e){let t;return new Uint8Array((ss(null!=uk,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),so(Number.isInteger(e)&&e>0&&e<=1024,"invalid length","length",e),t=new Uint8Array(e),uk.getRandomValues(t),t))},uB=uO;function uD(e){return uB(e)}uD._=uO,uD.lock=function(){uI=!0},uD.register=function(e){if(uI)throw Error("randomBytes is locked");uB=e},Object.freeze(uD);let uU=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),uM=Uint8Array.from({length:16},(e,t)=>t),uF=uM.map(e=>(9*e+5)%16),uL=[uM],uV=[uF];for(let e=0;e<4;e++)for(let t of[uL,uV])t.push(t[e].map(e=>uU[e]));let uj=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),uG=uL.map((e,t)=>e.map(e=>uj[t][e])),uH=uV.map((e,t)=>e.map(e=>uj[t][e])),uz=new Uint32Array([0,0x5a827999,0x6ed9eba1,0x8f1bbcdc,0xa953fd4e]),uK=new Uint32Array([0x50a28be6,0x5c4dd124,0x6d703ef3,0x7a6d76e9,0]),u_=(e,t)=>e<<t|e>>>32-t;function uQ(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}let uJ=new Uint32Array(16);class uW extends uu{constructor(){super(64,20,8,!0),this.h0=0x67452301,this.h1=-0x10325477,this.h2=-0x67452302,this.h3=0x10325476,this.h4=-0x3c2d1e10}get(){let{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let r=0;r<16;r++,t+=4)uJ[r]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,a=i,s=0|this.h2,o=s,l=0|this.h3,c=l,u=0|this.h4,d=u;for(let e=0;e<5;e++){let t=4-e,h=uz[e],f=uK[e],p=uL[e],m=uV[e],x=uG[e],y=uH[e];for(let t=0;t<16;t++){let n=u_(r+uQ(e,i,s,l)+uJ[p[t]]+h,x[t])+u|0;r=u,u=l,l=0|u_(s,10),s=i,i=n}for(let e=0;e<16;e++){let r=u_(n+uQ(t,a,o,c)+uJ[m[e]]+f,y[e])+d|0;n=d,d=c,c=0|u_(o,10),o=a,a=r}}this.set(this.h1+s+c|0,this.h2+l+d|0,this.h3+u+n|0,this.h4+r+a|0,this.h0+i+o|0)}roundClean(){uJ.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}let uq=oN(()=>new uW),u$=!1,uY=function(e){return uq(e)},uZ=uY;function uX(e){let t=sf(e,"data");return sg(uZ(t))}uX._=uY,uX.lock=function(){u$=!0},uX.register=function(e){if(u$)throw TypeError("ripemd160 is locked");uZ=e},Object.freeze(uX);let u0=function(e){return uP("sha256").update(e).digest()},u1=function(e){return uP("sha512").update(e).digest()},u2=u0,u5=u1,u3=!1,u4=!1;function u6(e){let t=sf(e,"data");return sg(u2(t))}function u8(e){let t=sf(e,"data");return sg(u5(t))}u6._=u0,u6.lock=function(){u3=!0},u6.register=function(e){if(u3)throw Error("sha256 is locked");u2=e},Object.freeze(u6),u8._=u1,u8.lock=function(){u4=!0},u8.register=function(e){if(u4)throw Error("sha512 is locked");u5=e},Object.freeze(u6);let u9=!1,u7=function(e,t,r,n,i){let a;return so(null!=(a=({sha256:uy,sha512:uE})[i]),"invalid pbkdf2 algorithm","algorithm",i),uc(a,e,t,{c:r,dkLen:n})},de=u7;function dt(e,t,r,n,i){let a=sf(e,"password"),s=sf(t,"salt");return sg(de(a,s,r,n,i))}dt._=u7,dt.lock=function(){u9=!0},dt.register=function(e){if(u9)throw Error("pbkdf2 is locked");de=e},Object.freeze(dt);let dr=(e,t)=>e<<t|e>>>32-t;function dn(e,t,r,n,i,a){let s=e[t++]^r[n++],o=e[t++]^r[n++],l=e[t++]^r[n++],c=e[t++]^r[n++],u=e[t++]^r[n++],d=e[t++]^r[n++],h=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],m=e[t++]^r[n++],x=e[t++]^r[n++],y=e[t++]^r[n++],g=e[t++]^r[n++],b=e[t++]^r[n++],w=e[t++]^r[n++],v=e[t++]^r[n++],A=s,E=o,T=l,k=c,P=u,N=d,R=h,C=f,S=p,I=m,O=x,B=y,D=g,U=b,M=w,F=v;for(let e=0;e<8;e+=2)P^=dr(A+D|0,7),S^=dr(P+A|0,9),D^=dr(S+P|0,13),A^=dr(D+S|0,18),I^=dr(N+E|0,7),U^=dr(I+N|0,9),E^=dr(U+I|0,13),N^=dr(E+U|0,18),M^=dr(O+R|0,7),T^=dr(M+O|0,9),R^=dr(T+M|0,13),O^=dr(R+T|0,18),k^=dr(F+B|0,7),C^=dr(k+F|0,9),B^=dr(C+k|0,13),F^=dr(B+C|0,18),E^=dr(A+k|0,7),T^=dr(E+A|0,9),k^=dr(T+E|0,13),A^=dr(k+T|0,18),R^=dr(N+P|0,7),C^=dr(R+N|0,9),P^=dr(C+R|0,13),N^=dr(P+C|0,18),B^=dr(O+I|0,7),S^=dr(B+O|0,9),I^=dr(S+B|0,13),O^=dr(I+S|0,18),D^=dr(F+M|0,7),U^=dr(D+F|0,9),M^=dr(U+D|0,13),F^=dr(M+U|0,18);i[a++]=s+A|0,i[a++]=o+E|0,i[a++]=l+T|0,i[a++]=c+k|0,i[a++]=u+P|0,i[a++]=d+N|0,i[a++]=h+R|0,i[a++]=f+C|0,i[a++]=p+S|0,i[a++]=m+I|0,i[a++]=x+O|0,i[a++]=y+B|0,i[a++]=g+D|0,i[a++]=b+U|0,i[a++]=w+M|0,i[a++]=v+F|0}function di(e,t,r,n,i){let a=n+0,s=n+16*i;for(let n=0;n<16;n++)r[s+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,a+=16,t+=16)dn(r,s,e,t,r,a),n>0&&(s+=16),dn(r,a,e,t+=16,r,s)}function da(e,t,r){let{N:n,r:i,p:a,dkLen:s,asyncTick:o,maxmem:l,onProgress:c}=oP({dkLen:32,asyncTick:10,maxmem:0x40000400},r);if(s6(n),s6(i),s6(a),s6(s),s6(o),s6(l),void 0!==c&&"function"!=typeof c)throw Error("progressCb should be function");let u=128*i,d=u/4;if(n<=1||(n&n-1)!=0||n>=2**(u/8)||n>0x100000000)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(0x100000000-1)*32/u)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(s<0||s>(0x100000000-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let h=u*(n+a);if(h>l)throw Error(`Scrypt: parameters too large, ${h} (128 * r * (N + p)) > ${l} (maxmem)`);let f=uc(uy,e,t,{c:1,dkLen:u*a}),p=og(f),m=og(new Uint8Array(u*n)),x=og(new Uint8Array(u)),y=()=>{};if(c){let e=2*n*a,t=Math.max(Math.floor(e/1e4),1),r=0;y=()=>{r++,c&&(!(r%t)||r===e)&&c(r/e)}}return{N:n,r:i,p:a,dkLen:s,blockSize32:d,V:m,B32:p,B:f,tmp:x,blockMixCb:y,asyncTick:o}}function ds(e,t,r,n,i){let a=uc(uy,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),a}async function dl(e,t,r){let{N:n,r:i,p:a,dkLen:s,blockSize32:o,V:l,B32:c,B:u,tmp:d,blockMixCb:h,asyncTick:f}=da(e,t,r);for(let e=0;e<a;e++){let t=o*e;for(let e=0;e<o;e++)l[e]=c[t+e];let r=0;await oA(n-1,f,()=>{di(l,r,l,r+=o,i),h()}),di(l,(n-1)*o,c,t,i),h(),await oA(n,f,()=>{let e=c[t+o-16]%n;for(let r=0;r<o;r++)d[r]=c[t+r]^l[e*o+r];di(d,0,c,t,i),h()})}return ds(e,s,u,l,d)}let dc=!1,du=!1,dd=async function(e,t,r,n,i,a,s){return await dl(e,t,{N:r,r:n,p:i,dkLen:a,onProgress:s})},dh=function(e,t,r,n,i,a){return function(e,t,r){let{N:n,r:i,p:a,dkLen:s,blockSize32:o,V:l,B32:c,B:u,tmp:d,blockMixCb:h}=da(e,t,r);for(let e=0;e<a;e++){let t=o*e;for(let e=0;e<o;e++)l[e]=c[t+e];for(let e=0,t=0;e<n-1;e++)di(l,t,l,t+=o,i),h();di(l,(n-1)*o,c,t,i),h();for(let e=0;e<n;e++){let e=c[t+o-16]%n;for(let r=0;r<o;r++)d[r]=c[t+r]^l[e*o+r];di(d,0,c,t,i),h()}}return ds(e,s,u,l,d)}(e,t,{N:r,r:n,p:i,dkLen:a})},df=dd,dp=dh;async function dm(e,t,r,n,i,a,s){let o=sf(e,"passwd"),l=sf(t,"salt");return sg(await df(o,l,r,n,i,a,s))}function dx(e,t,r,n,i,a){let s=sf(e,"passwd"),o=sf(t,"salt");return sg(dp(s,o,r,n,i,a))}function dy(){uS.lock(),oJ.lock(),dt.lock(),uD.lock(),uX.lock(),dm.lock(),dx.lock(),u6.lock(),u8.lock(),uD.lock()}dm._=dd,dm.lock=function(){du=!0},dm.register=function(e){if(du)throw Error("scrypt is locked");df=e},Object.freeze(dm),dx._=dh,dx.lock=function(){dc=!0},dx.register=function(e){if(dc)throw Error("scryptSync is locked");dp=e},Object.freeze(dx);let dg=BigInt(0),db=BigInt(1),dw=BigInt(2),dv=BigInt(27),dA=BigInt(28),dE=BigInt(35),dT=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),dk=dT/dw,dP=Symbol.for("nodejs.util.inspect.custom"),dN={};function dR(e){return sT(sQ(e),32)}class dC{#N;#R;#C;#S;get r(){return this.#N}set r(e){so(32===sw(e),"invalid r","value",e),this.#N=sg(e)}get s(){return so(8>parseInt(this.#R.substring(0,3)),"non-canonical s; use ._s","s",this.#R),this.#R}set s(e){so(32===sw(e),"invalid s","value",e),this.#R=sg(e)}get _s(){return this.#R}isValid(){return BigInt(this.#R)<=dk}get v(){return this.#C}set v(e){let t=sz(e,"value");so(27===t||28===t,"invalid v","v",e),this.#C=t}get networkV(){return this.#S}get legacyChainId(){let e=this.networkV;return null==e?null:dC.getChainId(e)}get yParity(){return+(27!==this.v)}get yParityAndS(){let e=sf(this.s);return this.yParity&&(e[0]|=128),sg(e)}get compactSerialized(){return sb([this.r,this.yParityAndS])}get serialized(){return sb([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){sd(e,dN,"Signature"),this.#N=t,this.#R=r,this.#C=n,this.#S=null}getCanonical(){if(this.isValid())return this;let e=dT-BigInt(this._s),t=55-this.v,r=new dC(dN,this.r,dR(e),t);return this.networkV&&(r.#S=this.networkV),r}clone(){let e=new dC(dN,this.r,this._s,this.v);return this.networkV&&(e.#S=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this._s,v:this.v}}[dP](){return this.toString()}toString(){return this.isValid()?`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v} }`:`Signature { r: ${this.r}, s: ${this._s}, v: ${this.v}, valid: false }`}static getChainId(e){let t=sV(e,"v");return t==dv||t==dA?dg:(so(t>=dE,"invalid EIP-155 v","v",e),(t-dE)/dw)}static getChainIdV(e,t){return sV(e)*dw+BigInt(35+t-27)}static getNormalizedV(e){let t=sV(e);return t===dg||t===dv?27:t===db||t===dA?28:(so(t>=dE,"invalid v","v",e),t&db?27:28)}static from(e){function t(t,r){so(t,r,"signature",e)}if(null==e)return new dC(dN,cT,cT,27);if("string"==typeof e){let r=sf(e,"signature");if(64===r.length){let e=sg(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new dC(dN,e,sg(t),n)}if(65===r.length){let e=sg(r.slice(0,32)),t=sg(r.slice(32,64)),n=dC.getNormalizedV(r[64]);return new dC(dN,e,t,n)}t(!1,"invalid raw signature length")}if(e instanceof dC)return e.clone();let r=e.r;t(null!=r,"missing r");let n=dR(r),i=function(e,r){if(null!=e)return dR(e);if(null!=r){t(sm(r,32),"invalid yParityAndS");let e=sf(r);return e[0]&=127,sg(e)}t(!1,"missing s")}(e.s,e.yParityAndS),{networkV:a,v:s}=function(e,r,n){if(null!=e){let t=sV(e);return{networkV:t>=dE?t:void 0,v:dC.getNormalizedV(t)}}if(null!=r)return t(sm(r,32),"invalid yParityAndS"),{v:128&sf(r)[0]?28:27};if(null!=n){switch(sz(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new dC(dN,n,i,s);return a&&(o.#S=a),t(null==e.yParity||sz(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}let dS=BigInt(0),dI=BigInt(1),dO=BigInt(2),dB=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function dD(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=dB[e[r]];return t}function dU(e){let t=e.toString(16);return 1&t.length?`0${t}`:t}function dM(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function dF(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function dL(e){return dM(dD(e))}function dV(e){if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");return dM(dD(Uint8Array.from(e).reverse()))}function dj(e,t){return dF(e.toString(16).padStart(2*t,"0"))}function dG(e,t){return dj(e,t).reverse()}function dH(e){return dF(dU(e))}function dz(e,t,r){let n;if("string"==typeof t)try{n=dF(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(t instanceof Uint8Array)n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function dK(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}function d_(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function dQ(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function dJ(e){let t;for(t=0;e>dS;e>>=dI,t+=1);return t}function dW(e,t){return e>>BigInt(t)&dI}let dq=e=>(dO<<BigInt(e-1))-dI,d$=e=>new Uint8Array(e);function dY(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=d$(e),i=d$(e),a=0,s=()=>{n.fill(1),i.fill(0),a=0},o=(...e)=>r(i,n,...e),l=(e=d$())=>{let t;if(i=o((t=[0],Uint8Array.from(t)),e),n=o(),0!==e.length){let t;i=o((t=[1],Uint8Array.from(t)),e),n=o()}},c=()=>{if(a++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return dK(...r)};return(e,t)=>{let r;for(s(),l(e);!(r=t(c()));)l();return s(),r}}let dZ={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function dX(e,t,r={}){let n=(t,r,n)=>{let i=dZ[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let a=e[t];if((!n||void 0!==a)&&!i(a,e))throw Error(`Invalid param ${String(t)}=${a} (${typeof a}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}e.s(["bitGet",()=>dW,"bitLen",()=>dJ,"bitMask",0,dq,"bitSet",0,(e,t,r)=>e|(r?dI:dS)<<BigInt(t),"bytesToHex",()=>dD,"bytesToNumberBE",()=>dL,"bytesToNumberLE",()=>dV,"concatBytes",()=>dK,"createHmacDrbg",()=>dY,"ensureBytes",()=>dz,"equalBytes",()=>d_,"hexToBytes",()=>dF,"hexToNumber",()=>dM,"numberToBytesBE",()=>dj,"numberToBytesLE",()=>dG,"numberToHexUnpadded",()=>dU,"numberToVarBytesBE",()=>dH,"utf8ToBytes",()=>dQ,"validateObject",()=>dX],5450);let d0=BigInt(0),d1=BigInt(1),d2=BigInt(2),d5=BigInt(3),d3=BigInt(4),d4=BigInt(5),d6=BigInt(8);function d8(e,t){let r=e%t;return r>=d0?r:t+r}function d9(e,t,r){let n=e;for(;t-- >d0;)n*=n,n%=r;return n}function d7(e,t){if(e===d0||t<=d0)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=d8(e,t),n=t,i=d0,a=d1,s=d1,o=d0;for(;r!==d0;){let e=n/r,t=n%r,l=i-s*e,c=a-o*e;n=r,r=t,i=s,a=o,s=l,o=c}if(n!==d1)throw Error("invert: does not exist");return d8(i,t)}BigInt(9),BigInt(16);let he=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ht(e){return dX(e,he.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"}))}function hr(e,t){let r=void 0!==t?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function hn(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function hi(e){let t=hn(e);return t+Math.ceil(t/2)}var ha=e.i(5450);let hs=BigInt(0),ho=BigInt(1);function hl(e){return ht(e.Fp),dX(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...hr(e.n,e.nBitLength),...e,...{p:e.Fp.ORDER}})}let{bytesToNumberBE:hc,hexToBytes:hu}=ha,hd={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=hd;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:hc(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=hd,r="string"==typeof e?hu(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:a}=hd._parseInt(r.subarray(2)),{d:s,l:o}=hd._parseInt(a);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),a=n.length/2,s=i.length/2,o=r(a),l=r(s);return`30${r(s+a+4)}02${l}${i}02${o}${n}`}},hh=BigInt(0),hf=BigInt(1),hp=BigInt(2),hm=BigInt(3),hx=BigInt(4),hy=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hg=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hb=BigInt(1),hw=BigInt(2),hv=(e,t)=>(e+t/hw)/t,hA=function(e,t,r=!1,n={}){if(e<=d0)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:a}=hr(e,t);if(a>2048)throw Error("Field lengths over 2048 bytes are not supported");let s=function(e){if(e%d3===d5){let t=(e+d1)/d3;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%d6===d4){let t=(e-d4)/d6;return function(e,r){let n=e.mul(r,d2),i=e.pow(n,t),a=e.mul(r,i),s=e.mul(e.mul(a,d2),i),o=e.mul(a,e.sub(s,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n,i=(e-d1)/d2;for(t=e-d1,r=0;t%d2===d0;t/=d2,r++);for(n=d2;n<e&&function(e,t,r){if(r<=d0||t<d0)throw Error("Expected power/modulo > 0");if(r===d1)return d0;let n=d1;for(;t>d0;)t&d1&&(n=n*e%r),e=e*e%r,t>>=d1;return n}(n,i,e)!==e-d1;n++);if(1===r){let t=(e+d1)/d3;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let a=(t+d1)/d2;return function(e,s){if(e.pow(s,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),c=e.pow(s,a),u=e.pow(s,t);for(;!e.eql(u,e.ONE);){if(e.eql(u,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(u);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,d1<<BigInt(o-t-1));l=e.sqr(r),c=e.mul(c,r),u=e.mul(u,l),o=t}return c}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:a,MASK:dq(i),ZERO:d0,ONE:d1,create:t=>d8(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return d0<=t&&t<e},is0:e=>e===d0,isOdd:e=>(e&d1)===d1,neg:t=>d8(-t,e),eql:(e,t)=>e===t,sqr:t=>d8(t*t,e),add:(t,r)=>d8(t+r,e),sub:(t,r)=>d8(t-r,e),mul:(t,r)=>d8(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<d0)throw Error("Expected power > 0");if(r===d0)return e.ONE;if(r===d1)return t;let n=e.ONE,i=t;for(;r>d0;)r&d1&&(n=e.mul(n,i)),i=e.sqr(i),r>>=d1;return n})(o,e,t),div:(t,r)=>d8(t*d7(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>d7(t,e),sqrt:n.sqrt||(e=>s(o,e)),invertBatch:e=>{let t,r,n;return t=Array(e.length),r=e.reduce((e,r,n)=>o.is0(r)?e:(t[n]=e,o.mul(e,r)),o.ONE),n=o.inv(r),e.reduceRight((e,r,n)=>o.is0(r)?e:(t[n]=o.mul(e,t[n]),o.mul(e,r)),n),t},cmov:(e,t,r)=>r?t:e,toBytes:e=>r?dG(e,a):dj(e,a),fromBytes:e=>{if(e.length!==a)throw Error(`Fp.fromBytes: expected ${a}, got ${e.length}`);return r?dV(e):dL(e)}});return Object.freeze(o)}(hy,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),a=BigInt(23),s=BigInt(44),o=BigInt(88),l=e*e*e%hy,c=l*l*e%hy,u=d9(c,t,hy)*c%hy,d=d9(u,t,hy)*c%hy,h=d9(d,hw,hy)*l%hy,f=d9(h,n,hy)*h%hy,p=d9(f,i,hy)*f%hy,m=d9(p,s,hy)*p%hy,x=d9(m,o,hy)*m%hy,y=d9(x,s,hy)*p%hy,g=d9(y,t,hy)*c%hy,b=d9(g,a,hy)*f%hy,w=d9(b,r,hy)*l%hy,v=d9(w,hw,hy);if(!hA.eql(hA.sqr(v),e))throw Error("Cannot find square root");return v}}),hE=(A={a:BigInt(0),b:BigInt(7),Fp:hA,n:hg,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-hb*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),a=hv(t*e,hg),s=hv(-r*e,hg),o=d8(e-a*t-s*n,hg),l=d8(-a*r-s*t,hg),c=o>i,u=l>i;if(c&&(o=hg-o),u&&(l=hg-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:c,k1:o,k2neg:u,k2:l}}}},Object.freeze({...(g=e=>(function(e){let t,r=(t=hl(e),ha.validateObject(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})),{Fp:n,n:i}=r,a=n.BYTES+1,s=2*n.BYTES+1;function o(e){return d8(e,i)}let{ProjectivePoint:l,normPrivateKeyToScalar:c,weierstrassEquation:u,isWithinCurveOrder:d}=function(e){var t;let r,n,i=function(e){let t=hl(e);ha.validateObject(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:a}=i,s=i.toBytes||((e,t,r)=>{let n=t.toAffine();return ha.concatBytes(Uint8Array.from([4]),a.toBytes(n.x),a.toBytes(n.y))}),o=i.fromBytes||(e=>{let t=e.subarray(1);return{x:a.fromBytes(t.subarray(0,a.BYTES)),y:a.fromBytes(t.subarray(a.BYTES,2*a.BYTES))}});function l(e){let{a:t,b:r}=i,n=a.sqr(e),s=a.mul(n,e);return a.add(a.add(s,a.mul(e,t)),r)}if(!a.eql(a.sqr(i.Gy),l(i.Gx)))throw Error("bad generator point: equation left != right");function c(e){return"bigint"==typeof e&&hh<e&&e<i.n}function u(e){if(!c(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function d(e){let t,{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:a,n:s}=i;if(r&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=ha.bytesToHex(e)),"string"!=typeof e||!r.includes(e.length))throw Error("Invalid key");e=e.padStart(2*n,"0")}try{t="bigint"==typeof e?e:ha.bytesToNumberBE(dz("private key",e,n))}catch(t){throw Error(`private key must be ${n} bytes, hex or bigint, not ${typeof e}`)}return a&&(t=d8(t,s)),u(t),t}let h=new Map;function f(e){if(!(e instanceof p))throw Error("ProjectivePoint expected")}class p{constructor(e,t,r){if(this.px=e,this.py=t,this.pz=r,null==e||!a.isValid(e))throw Error("x required");if(null==t||!a.isValid(t))throw Error("y required");if(null==r||!a.isValid(r))throw Error("z required")}static fromAffine(e){let{x:t,y:r}=e||{};if(!e||!a.isValid(t)||!a.isValid(r))throw Error("invalid affine point");if(e instanceof p)throw Error("projective point not allowed");let n=e=>a.eql(e,a.ZERO);return n(t)&&n(r)?p.ZERO:new p(t,r,a.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(p.fromAffine)}static fromHex(e){let t=p.fromAffine(o(dz("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return p.BASE.multiply(d(e))}_setWindowSize(e){this._WINDOW_SIZE=e,h.delete(this)}assertValidity(){if(this.is0()){if(i.allowInfinityPoint&&!a.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:t}=this.toAffine();if(!a.isValid(e)||!a.isValid(t))throw Error("bad point: x or y not FE");let r=a.sqr(t),n=l(e);if(!a.eql(r,n))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(a.isOdd)return!a.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){f(e);let{px:t,py:r,pz:n}=this,{px:i,py:s,pz:o}=e,l=a.eql(a.mul(t,o),a.mul(i,n)),c=a.eql(a.mul(r,o),a.mul(s,n));return l&&c}negate(){return new p(this.px,a.neg(this.py),this.pz)}double(){let{a:e,b:t}=i,r=a.mul(t,hm),{px:n,py:s,pz:o}=this,l=a.ZERO,c=a.ZERO,u=a.ZERO,d=a.mul(n,n),h=a.mul(s,s),f=a.mul(o,o),m=a.mul(n,s);return m=a.add(m,m),u=a.mul(n,o),u=a.add(u,u),l=a.mul(e,u),c=a.mul(r,f),c=a.add(l,c),l=a.sub(h,c),c=a.add(h,c),c=a.mul(l,c),l=a.mul(m,l),u=a.mul(r,u),f=a.mul(e,f),m=a.sub(d,f),m=a.mul(e,m),m=a.add(m,u),u=a.add(d,d),d=a.add(u,d),d=a.add(d,f),d=a.mul(d,m),c=a.add(c,d),f=a.mul(s,o),f=a.add(f,f),d=a.mul(f,m),l=a.sub(l,d),u=a.mul(f,h),u=a.add(u,u),new p(l,c,u=a.add(u,u))}add(e){f(e);let{px:t,py:r,pz:n}=this,{px:s,py:o,pz:l}=e,c=a.ZERO,u=a.ZERO,d=a.ZERO,h=i.a,m=a.mul(i.b,hm),x=a.mul(t,s),y=a.mul(r,o),g=a.mul(n,l),b=a.add(t,r),w=a.add(s,o);b=a.mul(b,w),w=a.add(x,y),b=a.sub(b,w),w=a.add(t,n);let v=a.add(s,l);return w=a.mul(w,v),v=a.add(x,g),w=a.sub(w,v),v=a.add(r,n),c=a.add(o,l),v=a.mul(v,c),c=a.add(y,g),v=a.sub(v,c),d=a.mul(h,w),c=a.mul(m,g),d=a.add(c,d),c=a.sub(y,d),d=a.add(y,d),u=a.mul(c,d),y=a.add(x,x),y=a.add(y,x),g=a.mul(h,g),w=a.mul(m,w),y=a.add(y,g),g=a.sub(x,g),g=a.mul(h,g),w=a.add(w,g),x=a.mul(y,w),u=a.add(u,x),x=a.mul(v,w),c=a.mul(b,c),c=a.sub(c,x),x=a.mul(b,y),d=a.mul(v,d),new p(c,u,d=a.add(d,x))}subtract(e){return this.add(e.negate())}is0(){return this.equals(p.ZERO)}wNAF(e){return x.wNAFCached(this,h,e,e=>{let t=a.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(p.fromAffine)})}multiplyUnsafe(e){let t=p.ZERO;if(e===hh)return t;if(u(e),e===hf)return this;let{endo:r}=i;if(!r)return x.unsafeLadder(this,e);let{k1neg:n,k1:s,k2neg:o,k2:l}=r.splitScalar(e),c=t,d=t,h=this;for(;s>hh||l>hh;)s&hf&&(c=c.add(h)),l&hf&&(d=d.add(h)),h=h.double(),s>>=hf,l>>=hf;return n&&(c=c.negate()),o&&(d=d.negate()),d=new p(a.mul(d.px,r.beta),d.py,d.pz),c.add(d)}multiply(e){let t,r;u(e);let{endo:n}=i;if(n){let{k1neg:i,k1:s,k2neg:o,k2:l}=n.splitScalar(e),{p:c,f:u}=this.wNAF(s),{p:d,f:h}=this.wNAF(l);c=x.constTimeNegate(i,c),d=x.constTimeNegate(o,d),d=new p(a.mul(d.px,n.beta),d.py,d.pz),t=c.add(d),r=u.add(h)}else{let{p:n,f:i}=this.wNAF(e);t=n,r=i}return p.normalizeZ([t,r])[0]}multiplyAndAddUnsafe(e,t,r){let n=p.BASE,i=(e,t)=>t!==hh&&t!==hf&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),a=i(this,t).add(i(e,r));return a.is0()?void 0:a}toAffine(e){let{px:t,py:r,pz:n}=this,i=this.is0();null==e&&(e=i?a.ONE:a.inv(n));let s=a.mul(t,e),o=a.mul(r,e),l=a.mul(n,e);if(i)return{x:a.ZERO,y:a.ZERO};if(!a.eql(l,a.ONE))throw Error("invZ was invalid");return{x:s,y:o}}isTorsionFree(){let{h:e,isTorsionFree:t}=i;if(e===hf)return!0;if(t)return t(p,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:t}=i;return e===hf?this:t?t(p,this):this.multiplyUnsafe(i.h)}toRawBytes(e=!0){return this.assertValidity(),s(p,this,e)}toHex(e=!0){return ha.bytesToHex(this.toRawBytes(e))}}p.BASE=new p(i.Gx,i.Gy,a.ONE),p.ZERO=new p(a.ZERO,a.ONE,a.ZERO);let m=i.nBitLength,x=(t=i.endo?Math.ceil(m/2):m,r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}),{constTimeNegate:r,unsafeLadder(e,t){let r=p.ZERO,n=e;for(;t>hs;)t&ho&&(r=r.add(n)),n=n.double(),t>>=ho;return r},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),a=[],s=e,o=s;for(let e=0;e<r;e++){o=s,a.push(o);for(let e=1;e<i;e++)o=o.add(s),a.push(o);s=o.double()}return a},wNAF(e,t,i){let{windows:a,windowSize:s}=n(e),o=p.ZERO,l=p.BASE,c=BigInt(2**e-1),u=2**e,d=BigInt(e);for(let e=0;e<a;e++){let n=e*s,a=Number(i&c);i>>=d,a>s&&(a-=u,i+=ho);let h=n+Math.abs(a)-1,f=e%2!=0,p=a<0;0===a?l=l.add(r(f,t[n])):o=o.add(r(p,t[h]))}return{p:o,f:l}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,a=t.get(e);return a||(a=this.precomputeWindow(e,i),1!==i&&t.set(e,n(a))),this.wNAF(i,a,r)}});return{CURVE:i,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:c}}({...r,toBytes(e,t,r){let i=t.toAffine(),a=n.toBytes(i.x),s=ha.concatBytes;return r?s(Uint8Array.from([t.hasEvenY()?2:3]),a):s(Uint8Array.from([4]),a,n.toBytes(i.y))},fromBytes(e){let t=e.length,r=e[0],i=e.subarray(1);if(t===a&&(2===r||3===r)){let e=ha.bytesToNumberBE(i);if(!(hh<e&&e<n.ORDER))throw Error("Point is not on curve");let t=u(e),a=n.sqrt(t);return(1&r)==1!=((a&hf)===hf)&&(a=n.neg(a)),{x:e,y:a}}if(t===s&&4===r)return{x:n.fromBytes(i.subarray(0,n.BYTES)),y:n.fromBytes(i.subarray(n.BYTES,2*n.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${a} compressed bytes or ${s} uncompressed bytes`)}}),h=e=>ha.bytesToHex(ha.numberToBytesBE(e,r.nByteLength)),f=(e,t,r)=>ha.bytesToNumberBE(e.slice(t,r));class p{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let t=r.nByteLength;return new p(f(e=dz("compactSignature",e,2*t),0,t),f(e,t,2*t))}static fromDER(e){let{r:t,s:r}=hd.toSig(dz("DER",e));return new p(t,r)}assertValidity(){if(!d(this.r))throw Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new p(this.r,this.s,e)}recoverPublicKey(e){let{r:t,s:a,recovery:s}=this,c=y(dz("msgHash",e));if(null==s||![0,1,2,3].includes(s))throw Error("recovery id invalid");let u=2===s||3===s?t+r.n:t;if(u>=n.ORDER)throw Error("recovery id 2 or 3 invalid");let d=(1&s)==0?"02":"03",f=l.fromHex(d+h(u)),p=d7(u,i),m=o(-c*p),x=o(a*p),g=l.BASE.multiplyAndAddUnsafe(f,m,x);if(!g)throw Error("point at infinify");return g.assertValidity(),g}hasHighS(){return this.s>i>>hf}normalizeS(){return this.hasHighS()?new p(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return ha.hexToBytes(this.toDERHex())}toDERHex(){return hd.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ha.hexToBytes(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function m(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===a||n===s:r?n===2*a||n===2*s:e instanceof l}let x=r.bits2int||function(e){let t=ha.bytesToNumberBE(e),n=8*e.length-r.nBitLength;return n>0?t>>BigInt(n):t},y=r.bits2int_modN||function(e){return o(x(e))},g=ha.bitMask(r.nBitLength);function b(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(hh<=e&&e<g))throw Error(`bigint expected < 2^${r.nBitLength}`);return ha.numberToBytesBE(e,r.nByteLength)}let w={lowS:r.lowS,prehash:!1},v={lowS:r.lowS,prehash:!1};return l.BASE._setWindowSize(8),{CURVE:r,getPublicKey:function(e,t=!0){return l.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(m(e))throw Error("first arg must be private key");if(!m(t))throw Error("second arg must be public key");return l.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,t,a=w){let{seed:s,k2sig:u}=function(e,t,a=w){if(["recovered","canonical"].some(e=>e in a))throw Error("sign() legacy options not supported");let{hash:s,randomBytes:u}=r,{lowS:h,prehash:f,extraEntropy:m}=a;null==h&&(h=!0),e=dz("msgHash",e),f&&(e=dz("prehashed msgHash",s(e)));let g=y(e),v=c(t),A=[b(v),b(g)];if(null!=m){let e=!0===m?u(n.BYTES):m;A.push(dz("extraEntropy",e))}return{seed:ha.concatBytes(...A),k2sig:function(e){var t;let r=x(e);if(!d(r))return;let n=d7(r,i),a=l.BASE.multiply(r).toAffine(),s=o(a.x);if(s===hh)return;let c=o(n*o(g+s*v));if(c===hh)return;let u=2*(a.x!==s)|Number(a.y&hf),f=c;return h&&c>i>>hf&&(f=(t=c)>i>>hf?o(-t):t,u^=1),new p(s,f,u)}}}(e,t,a);return ha.createHmacDrbg(r.hash.outputLen,r.nByteLength,r.hmac)(s,u)},verify:function(e,t,n,a=v){let s,c;if(t=dz("msgHash",t),n=dz("publicKey",n),"strict"in a)throw Error("options.strict was renamed to lowS");let{lowS:u,prehash:d}=a;try{if("string"==typeof e||e instanceof Uint8Array)try{c=p.fromDER(e)}catch(t){if(!(t instanceof hd.Err))throw t;c=p.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;c=new p(t,r)}else throw Error("PARSE");s=l.fromHex(n)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&c.hasHighS())return!1;d&&(t=r.hash(t));let{r:h,s:f}=c,m=y(t),x=d7(f,i),g=o(m*x),b=o(h*x),w=l.BASE.multiplyAndAddUnsafe(s,g,b)?.toAffine();return!!w&&o(w.x)===h},ProjectivePoint:l,Signature:p,utils:{isValidPrivateKey(e){try{return c(e),!0}catch(e){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{let e=hi(r.n);return function(e,t,r=!1){let n=e.length,i=hn(t),a=hi(t);if(n<16||n<a||n>1024)throw Error(`expected ${a}-1024 bytes of input, got ${n}`);let s=d8(r?dL(e):dV(e),t-d1)+d1;return r?dG(s,i):dj(s,i)}(r.randomBytes(e),r.n)},precompute:(e=8,t=l.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...A,hash:e,hmac:(t,...r)=>ul(e,t,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!(e instanceof Uint8Array))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:oR}))(uy),create:g})),hT=BigInt(0);hE.ProjectivePoint;let hk=(b=[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(e=>BigInt(e))).map(e=>Array.from(e).reverse()),(e,t)=>{let[r,n,i,a]=b.map(t=>t.reduce((t,r)=>hA.add(hA.mul(t,e),r)));return e=hA.div(r,n),t=hA.mul(t,hA.div(i,a)),{x:e,y:t}}),hP=function(e,t){if(ht(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(e,t){let r=e.ORDER,n=hh;for(let e=r-hf;e%hp===hh;e/=hp)n+=hf;let i=n,a=hp<<i-hf-hf,s=a*hp,o=(r-hf)/s,l=(o-hf)/hp,c=s-hf,u=e.pow(t,o),d=e.pow(t,(o+hf)/hp),h=(t,r)=>{let n=u,s=e.pow(r,c),o=e.sqr(s);o=e.mul(o,r);let h=e.mul(t,o);h=e.pow(h,l),h=e.mul(h,s),s=e.mul(h,r),o=e.mul(h,t);let f=e.mul(o,s);h=e.pow(f,a);let p=e.eql(h,e.ONE);s=e.mul(o,d),h=e.mul(f,n),o=e.cmov(s,o,p),f=e.cmov(h,f,p);for(let t=i;t>hf;t--){let r=t-hp;r=hp<<r-hf;let i=e.pow(f,r),a=e.eql(i,e.ONE);s=e.mul(o,n),n=e.mul(n,n),i=e.mul(f,n),o=e.cmov(s,o,a),f=e.cmov(i,f,a)}return{isValid:p,value:o}};if(e.ORDER%hx===hm){let r=(e.ORDER-hm)/hx,n=e.sqrt(e.neg(t));h=(t,i)=>{let a=e.sqr(i),s=e.mul(t,i);a=e.mul(a,s);let o=e.pow(a,r);o=e.mul(o,s);let l=e.mul(o,n),c=e.mul(e.sqr(o),i),u=e.eql(c,t),d=e.cmov(l,o,u);return{isValid:u,value:d}}}return h}(e,t.Z);if(!e.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,a,s,o,l,c,u,d;i=e.sqr(n),i=e.mul(i,t.Z),a=e.sqr(i),a=e.add(a,i),s=e.add(a,e.ONE),s=e.mul(s,t.B),o=e.cmov(t.Z,e.neg(a),!e.eql(a,e.ZERO)),o=e.mul(o,t.A),a=e.sqr(s),c=e.sqr(o),l=e.mul(c,t.A),a=e.add(a,l),a=e.mul(a,s),c=e.mul(c,o),l=e.mul(c,t.B),a=e.add(a,l),u=e.mul(i,s);let{isValid:h,value:f}=r(a,c);d=e.mul(i,n),d=e.mul(d,f),u=e.cmov(u,s,h),d=e.cmov(d,f,h);let p=e.isOdd(n)===e.isOdd(d);return d=e.cmov(e.neg(d),d,p),{x:u=e.div(u,o),y:d}}}(hA,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:hA.create(BigInt("-11"))});!function(e,t,r){if("function"!=typeof t)throw Error("mapToCurve() must be defined")}(hE.ProjectivePoint,e=>{let{x:t,y:r}=hP(hA.create(e[0]));return hk(t,r)},hA.ORDER);class hN{#I;constructor(e){so(32===sw(e),"invalid private key","privateKey","[REDACTED]"),this.#I=sg(e)}get privateKey(){return this.#I}get publicKey(){return hN.computePublicKey(this.#I)}get compressedPublicKey(){return hN.computePublicKey(this.#I,!0)}sign(e){so(32===sw(e),"invalid digest length","digest",e);let t=hE.sign(sp(e),sp(this.#I),{lowS:!0});return dC.from({r:s_(t.r,32),s:s_(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=hN.computePublicKey(e);return sg(hE.getSharedSecret(sp(this.#I),sf(t),!1))}static computePublicKey(e,t){let r=sf(e,"key");if(32===r.length)return sg(hE.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return sg(hE.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){so(32===sw(e),"invalid digest length","digest",e);let r=dC.from(t),n=hE.Signature.fromCompact(sp(sb([r.r,r.s]))),i=(n=n.addRecoveryBit(r.yParity)).recoverPublicKey(sp(e));return so(null!=i,"invalid signature for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){let n=hE.ProjectivePoint.fromHex(hN.computePublicKey(e).substring(2)),i=hE.ProjectivePoint.fromHex(hN.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}let hR=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function hC(e){var t;let r;return t=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,a=[0,1];for(let e=1;e<n;e++)a.push(i+=r());let s=r(),o=t;t+=s;let l=0,c=0;function u(){return 0==l&&(c=c<<8|e[t++],l=8),c>>--l&1}let d=0x80000000-1,h=0;for(let e=0;e<31;e++)h=h<<1|u();let f=[],p=0,m=0x80000000;for(;;){let e=Math.floor(((h-p+1)*i-1)/m),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<a[n]?r=n:t=n}if(0==t)break;f.push(t);let s=p+Math.floor(m*a[t]/i),o=p+Math.floor(m*a[t+1]/i)-1;for(;((s^o)&0x40000000)==0;)h=h<<1&d|u(),s=s<<1&d,o=o<<1&d|1;for(;s&~o&0x20000000;)h=0x40000000&h|h<<1&d>>>1|u(),s=s<<1^0x40000000,o=(0x40000000^o)<<1|0x40000001;p=s,m=1+o-s}let x=n-4;return f.map(t=>{switch(t-x){case 3:return x+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return x+256+(e[o++]<<8|e[o++]);case 1:return x+e[o++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,a=0,s=0,o=0;i<r;i++)o=o<<6|t[e.charCodeAt(i)],(s+=6)>=8&&(n[a++]=o>>(s-=8));return n}(e)),r=0,()=>t[r++]}function hS(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function hI(e){return hB(()=>{let t=hS(e);if(t.length)return t})}function hO(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=hB(t);return hD(i.length,1+e,t).flatMap((e,t)=>{let[a,...s]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*n;return[a+t*r,s.map(e=>e+i)]})})}(r,e))}for(;;){var r,n;let i=e()-1;if(i<0)break;t.push((r=i,hD(1+(n=e)(),1+r,n).map(e=>[e[0],e.slice(1)])))}return t.flat()}function hB(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function hD(e,t,r){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,a=0;i<e;i++){var n;r[i]=a+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}function hU(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function hM(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function hF(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}let hL=55204;function hV(e){return e>>24&255}function hj(e){return 0xffffff&e}function hG(e){return e>=44032&&e<hL}function hH(e){r||function(){let e=hC("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");for(let[t,s]of(r=new Map(hI(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),n=new Set(hS(e)),i=new Map,a=new Map,hO(e))){if(!n.has(t)&&2==s.length){let[e,r]=s,n=a.get(e);n||(n=new Map,a.set(e,n)),n.set(r,t)}i.set(t,s.reverse())}}();let t=[],s=[],o=!1;function l(e){let n=r.get(e);n&&(o=!0,e|=n),t.push(e)}for(let r of e)for(;;){if(r<128)t.push(r);else if(hG(r)){let e=r-44032,t=e/588|0,n=e%588/28|0,i=e%28;l(4352+t),l(4449+n),i>0&&l(4519+i)}else{let e=i.get(r);e?s.push(...e):l(r)}if(!s.length)break;r=s.pop()}if(o&&t.length>1){let e=hV(t[0]);for(let r=1;r<t.length;r++){let n=hV(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i||(e=hV(t[--i]))<=n)break}e=hV(t[r])}}return t}function hz(e){return function(e){let t=[],r=[],n=-1,i=0;for(let s of e){let e=hV(s),o=hj(s);if(-1==n)0==e?n=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),i=e;else{let s=function(e,t){if(e>=4352&&e<4371&&t>=4449&&t<4470)return 44032+(e-4352)*588+(t-4449)*28;{if(hG(e)&&t>4519&&t<4547&&(e-44032)%28==0)return e+(t-4519);let r=a.get(e);return r&&(r=r.get(t))?r:-1}}(n,o);s>=0?n=s:0==i&&0==e?(t.push(n),n=o):(r.push(o),i=e)}}return n>=0&&t.push(n,...r),t}(hH(e))}let hK=e=>Array.from(e);function h_(e,t){return e.P.has(t)||e.Q.has(t)}class hQ extends Array{get is_emoji(){return!0}}function hJ(){let e,t;if(s)return;let r=hC("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"),n=()=>new Set(hS(r)),i=(e,t)=>t.forEach(t=>e.add(t));s=new Map(hO(r)),o=n(),l=hS(r),c=new Set(hS(r).map(e=>l[e])),l=new Set(l),u=n(),n();let a=hI(r),y=r(),g=()=>{let e=new Set;return hS(r).forEach(t=>i(e,a[t])),i(e,hS(r)),e};d=hB(e=>{let t=hB(r).map(e=>e+96);if(t.length){let n=e>=y;t[0]-=32,t=hM(t),n&&(t=`Restricted[${t}]`);let i=g();return{N:t,P:i,Q:g(),M:!r(),R:n}}}),h=n(),f=new Map;let b=hS(r).concat(hK(h)).sort((e,t)=>e-t);for(let{V:e,M:t}of(b.forEach((e,t)=>{let n=r(),i=b[t]=n?b[t-n]:{V:[],M:new Map};i.V.push(e),h.has(e)||f.set(e,i)}),new Set(f.values()))){let r=[];for(let t of e){let e=d.filter(e=>h_(e,t)),n=r.find(({G:t})=>e.some(e=>t.has(e)));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),i(n.G,e)}let n=r.flatMap(e=>hK(e.G));for(let{G:e,V:i}of r){let r=new Set(n.filter(t=>!e.has(t)));for(let e of i)t.set(e,r)}}p=new Set;let w=new Set,v=e=>p.has(e)?w.add(e):p.add(e);for(let e of d){for(let t of e.P)v(t);for(let t of e.Q)v(t)}for(let e of p)f.has(e)||w.has(e)||f.set(e,1);for(let n of(i(p,hH(p).map(hj)),m=(e=[],t=hS(r),function t({S:r,B:n},i,a){if(!(4&r)||a!==i[i.length-1])for(let s of(2&r&&(a=i[i.length-1]),1&r&&e.push(i),n))for(let e of s.Q)t(s,[...i,e],a)}(function e(n){return{S:r(),B:hB(()=>{let n=hS(r).map(e=>t[e]);if(n.length)return e(n)}),Q:n}}([]),[]),e).map(e=>hQ.from(e)).sort(hF),x=new Map,m)){let e=[x];for(let t of n){let r=e.map(e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r});65039===t?e.push(...r):e=r}for(let t of e)t.V=n}}function hW(e){return(hY(e)?"":`${hq(h$([e]))} `)+hU(e)}function hq(e){return`"${e}"\u200E`}function h$(e,t=1/0,r=hU){var n;let i=[];n=e[0],hJ(),l.has(n)&&i.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let a=0,s=e.length;for(let t=0;t<s;t++){let n=e[t];hY(n)&&(i.push(hM(e.slice(a,t))),i.push(r(n)),a=t+1)}return i.push(hM(e.slice(a,s))),i.join("")}function hY(e){return hJ(),u.has(e)}function hZ(e){return Error(`disallowed character: ${hW(e)}`)}function hX(e,t){let r=hW(t),n=d.find(e=>e.P.has(t));return n&&(r=`${n.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function h0(e){return Error(`illegal placement: ${e}`)}function h1(e){return e.filter(e=>65039!=e)}let h2=new Uint8Array(32);function h5(e){return so(0!==e.length,"invalid ENS name; empty component","comp",e),e}function h3(e){let t=sC(h4(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(h5(t.slice(n,e))),n=e+1);return so(n<t.length,"invalid ENS name; empty component","name",e),r.push(h5(t.slice(n))),r}function h4(e){try{var t;if(0===e.length)throw Error("empty label");return(t=function(e,t,r){if(!e)return[];hJ();let n=0;return e.split(".").map(e=>{let i=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),a={input:i,offset:n};n+=i.length+1;try{let e,n=a.tokens=function(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let a=function(e,t){let r,n=x,i=e.length;for(;i&&(n=n.get(e[--i]));){let{V:t}=n;t&&(r=t,e.length=i)}return r}(e);if(a)i.length&&(n.push(t(i)),i=[]),n.push(r(a));else{let t=e.pop();if(p.has(t))i.push(t);else{let e=s.get(t);if(e)i.push(...e);else if(!o.has(t))throw hZ(t)}}}return i.length&&n.push(t(i)),n}(i,t,r),u=n.length;if(!u)throw Error("empty label");let h=a.output=n.flat();for(let e=h.lastIndexOf(95);e>0;)if(95!==h[--e])throw Error("underscore allowed only at start");if(!(a.emoji=u>1||n[0].is_emoji)&&h.every(e=>e<128)){if(h.length>=4&&45==h[2]&&45==h[3])throw Error(`invalid label extension: "${hM(h.slice(0,4))}"`);e="ASCII"}else{let t=n.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(l.has(h[0]))throw h0("leading combining mark");for(let e=1;e<u;e++){let t=n[e];if(!t.is_emoji&&l.has(t[0]))throw h0(`emoji + combining mark: "${hM(n[e-1])} + ${h$([t[0]])}"`)}!function(e){let t=e[0],r=hR.get(t);if(r)throw h0(`leading ${r}`);let n=e.length,i=-1;for(let a=1;a<n;a++){t=e[a];let n=hR.get(t);if(n){if(i==a)throw h0(`${r} + ${n}`);i=a+1,r=n}}if(i==n)throw h0(`trailing ${r}`)}(h);let r=hK(new Set(t)),[i]=function(e){let t=d;for(let r of e){let e=t.filter(e=>h_(e,r));if(!e.length)if(d.some(e=>h_(e,r)))throw hX(t[0],r);else throw hZ(r);if(t=e,1==e.length)break}return t}(r);(function(e,t){for(let r of t)if(!h_(e,r))throw hX(e,r);if(e.M){let e=hH(t).map(hj);for(let t=1,r=e.length;t<r;t++)if(c.has(e[t])){let n=t+1;for(let i;n<r&&c.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw Error(`duplicate non-spacing marks: ${hW(i)}`);if(n-t>4)throw Error(`excessive non-spacing marks: ${hq(h$(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}})(i,t),function(e,t){let r,n=[];for(let e of t){let t=f.get(e);if(1===t)return;if(t){let n=t.M.get(e);if(!(r=r?r.filter(e=>n.has(e)):hK(n)).length)return}else n.push(e)}if(r){for(let t of r)if(n.every(e=>h_(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}(i,r),e=i.N}else e="Emoji"}a.type=e}catch(e){a.error=e}return a})}(e,hz,h1)).map(({input:e,error:r,output:n})=>{if(r){let n=r.message;throw Error(1==t.length?n:`Invalid label ${hq(h$(e,63))}: ${n}`)}return hM(n)}).join(".")}catch(t){so(!1,`invalid ENS name (${t.message})`,"name",e)}}function h6(e){try{return 0!==h3(e).length}catch(e){}return!1}function h8(e){so("string"==typeof e,"invalid ENS name; not a string","name",e),so(e.length,"invalid ENS name (empty label)","name",e);let t=h2,r=h3(e);for(;r.length;)t=oJ(sb([t,oJ(r.pop())]));return sg(t)}function h9(e,t){let r=null!=t?t:63;return so(r<=255,"DNS encoded label cannot exceed 255","length",r),sg(sb(h3(e).map(t=>{so(t.length<=r,`label ${JSON.stringify(e)} exceeds ${r} bytes`,"name",e);let n=new Uint8Array(t.length+1);return n.set(t,1),n[0]=n.length-1,n})))+"00"}function h7(e){return o0(oJ("0x"+("string"==typeof e?hN.computePublicKey(e,!1):e.publicKey).substring(4)).substring(26))}function fe(e,t){return h7(hN.recoverPublicKey(e,t))}function ft(e){return so("string"==typeof e.address,"invalid address for hashAuthorization","auth.address",e),oJ(sb(["0x05",cd([null!=e.chainId?sQ(e.chainId):"0x",o0(e.address),null!=e.nonce?sQ(e.nonce):"0x"])]))}function fr(e,t){return fe(ft(e),t)}function fn(e){return"string"==typeof e&&(e=sC(e)),oJ(sb([sC(ck),sC(String(e.length)),e]))}function fi(e,t){return fe(fn(e),t)}h2.fill(0);let fa=RegExp("^bytes([0-9]+)$"),fs=RegExp("^(u?int)([0-9]*)$"),fo=RegExp("^(.*)\\[([0-9]*)\\]$");function fl(e,t){so(e.length===t.length,"wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach(function(e,n){r.push(function e(t,r,n){switch(t){case"address":if(n)return sf(sT(r,32));return sf(o0(r));case"string":return sC(r);case"bytes":return sf(r);case"bool":if(r=r?"0x01":"0x00",n)return sf(sT(r,32));return sf(r)}let i=t.match(fs);if(i){let e="int"===i[1],a=parseInt(i[2]||"256");return so((!i[2]||i[2]===String(a))&&a%8==0&&0!==a&&a<=256,"invalid number type","type",t),n&&(a=256),e&&(r=sF(r,a)),sf(sT(sQ(r),a/8))}if(i=t.match(fa)){let e=parseInt(i[1]);return(so(String(e)===i[1]&&0!==e&&e<=32,"invalid bytes type","type",t),so(sw(r)===e,`invalid value for ${t}`,"value",r),n)?sf(sk(r,32)):r}if((i=t.match(fo))&&Array.isArray(r)){let n=i[1];so(parseInt(i[2]||String(r.length))===r.length,`invalid array length for ${t}`,"value",r);let a=[];return r.forEach(function(t){a.push(e(n,t,!0))}),sf(sb(a))}so(!1,"invalid type","type",t)}(e,t[n]))}),sg(sb(r))}function fc(e,t){return oJ(fl(e,t))}function fu(e,t){return u6(fl(e,t))}let fd=new Uint8Array(32);fd.fill(0);let fh=BigInt(-1),ff=BigInt(0),fp=BigInt(1),fm=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),fx=s_(fp,32),fy=s_(ff,32),fg={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},fb=["name","version","chainId","verifyingContract","salt"];function fw(e){return function(t){return so("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let fv={name:fw("name"),version:fw("version"),chainId:function(e){let t=sV(e,"domain.chainId");return(so(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):sJ(t)},verifyingContract:function(e){try{return o0(e).toLowerCase()}catch(e){}so(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=sf(e,"domain.salt");return so(32===t.length,'invalid domain value "salt"',"domain.salt",e),sg(t)}};function fA(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],n=parseInt(t[2]);so(n%8==0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);let i=sL(fm,r?n-1:n),a=r?(i+fp)*fh:ff;return function(t){let n=sV(t,"value");return so(n>=a&&n<=i,`value out-of-bounds for ${e}`,"value",n),s_(r?sF(n,256):n,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return so(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){let n,i;return so(sf(t).length===r,`invalid length for ${e}`,"value",t),(i=(n=sf(t)).length%32)?sb([n,fd.slice(i)]):sg(n)}}}switch(e){case"address":return function(e){return sT(o0(e),32)};case"bool":return function(e){return e?fx:fy};case"bytes":return function(e){return oJ(e)};case"string":return function(e){return lp(e)}}return null}function fE(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function fT(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class fk{primaryType;#O;get types(){return JSON.parse(this.#O)}#B;#D;constructor(e){this.#B=new Map,this.#D=new Map;const t=new Map,r=new Map,n=new Map,i={};for(const a in Object.keys(e).forEach(a=>{i[a]=e[a].map(({name:t,type:r})=>{let{base:n,index:i}=fT(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}}),t.set(a,new Set),r.set(a,[]),n.set(a,new Set)}),this.#O=JSON.stringify(i),i){const n=new Set;for(const s of i[a]){so(!n.has(s.name),`duplicate variable name ${JSON.stringify(s.name)} in ${JSON.stringify(a)}`,"types",e),n.add(s.name);const i=fT(s.type).base;so(i!==a,`circular type reference to ${JSON.stringify(i)}`,"types",e),fA(i)||(so(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),r.get(i).push(a),t.get(a).add(i))}}const a=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(const[s,o]of(so(0!==a.length,"missing primary type","types",e),so(1===a.length,`ambiguous primary types or unused types: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),st(this,{primaryType:a[0]}),!function i(a,s){for(let o of(so(!s.has(a),`circular type reference to ${JSON.stringify(a)}`,"types",e),s.add(a),t.get(a)))if(r.has(o))for(let e of(i(o,s),s))n.get(e).add(o);s.delete(a)}(this.primaryType,new Set),n)){const e=Array.from(o);e.sort(),this.#B.set(s,fE(s,i[s])+e.map(e=>fE(e,i[e])).join(""))}}getEncoder(e){let t=this.#D.get(e);return t||(t=this.#U(e),this.#D.set(e,t)),t}#U(e){{let t=fA(e);if(t)return t}let t=fT(e).array;if(t){let e=t.prefix,r=this.getEncoder(e);return n=>{so(-1===t.count||t.count===n.length,`array length mismatch; expected length ${t.count}`,"value",n);let i=n.map(r);return this.#B.has(e)&&(i=i.map(oJ)),oJ(sb(i))}}let r=this.types[e];if(r){let t=lp(this.#B.get(e));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this.#B.has(r)?oJ(n):n});return n.unshift(t),sb(n)}}so(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#B.get(e);return so(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return oJ(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(fA(e))return r(e,t);let n=fT(e).array;if(n)return so(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map(e=>this._visit(n.prefix,e,r));let i=this.types[e];if(i)return i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{});so(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new fk(e)}static getPrimaryType(e){return fk.from(e).primaryType}static hashStruct(e,t,r){return fk.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let n=fg[r];so(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>fb.indexOf(e.name)-fb.indexOf(t.name)),fk.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return sb(["0x1901",fk.hashDomain(e),fk.from(t).hash(r)])}static hash(e,t,r){return oJ(fk.encode(e,t,r))}static async resolveNames(e,t,r,n){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let i={};e.verifyingContract&&!sm(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let a=fk.from(t);for(let e in a.visit(r,(e,t)=>("address"!==e||sm(t,20)||(i[t]="0x"),t)),i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=a.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}}static getPayload(e,t,r){fk.hashDomain(e);let n={},i=[];fb.forEach(t=>{let r=e[t];null!=r&&(n[t]=fv[t](r),i.push({name:t,type:fg[t]}))});let a=fk.from(t),s=Object.assign({},t=a.types);return so(null==s.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),s.EIP712Domain=i,a.encode(r),{types:s,domain:n,primaryType:a.primaryType,message:a.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return sg(sf(t));if(e.match(/^u?int/))return sV(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return so("string"==typeof t,"invalid string","value",t),t}so(!1,"unsupported type","type",e)})}}}function fP(e,t,r,n){return fe(fk.hash(e,t,r),n)}function fN(e){let t=new Uint8Array((e=atob(e)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return sf(t)}function fR(e){let t=sf(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}function fC(e){return async function(t,r){let n;ss(null==r||!r.cancelled,"request cancelled before sending","CANCELLED");let i=t.url.split(":")[0].toLowerCase();ss("http"===i||"https"===i,`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),ss("https"===i||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let a=null,s=new AbortController,o=setTimeout(()=>{a=sa("request timeout","TIMEOUT"),s.abort()},t.timeout);r&&r.addListener(()=>{a=sa("request cancelled","CANCELLED"),s.abort()});let l=Object.assign({},e,{method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s.signal});try{n=await fetch(t.url,l)}catch(e){if(clearTimeout(o),a)throw a;throw e}clearTimeout(o);let c={};n.headers.forEach((e,t)=>{c[t.toLowerCase()]=e});let u=await n.arrayBuffer(),d=null==u?null:new Uint8Array(u);return{statusCode:n.status,statusMessage:n.statusText,headers:c,body:d}}}fC({});let fS=fC(),fI=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),fO=RegExp("^ipfs://(ipfs/)?(.*)$","i"),fB=!1;async function fD(e,t){try{var r;let t=e.match(fI);if(!t)throw Error("invalid data");return new fG(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?fN(t[3]):(r=t[3],sC(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new fG(599,"BAD REQUEST (invalid data: URI)",{},null,new fj(e))}}function fU(e){return async function(t,r){try{let r=t.match(fO);if(!r)throw Error("invalid link");return new fj(`${e}${r[2]}`)}catch(e){return new fG(599,"BAD REQUEST (invalid IPFS URI)",{},null,new fj(t))}}}let fM={data:fD,ipfs:fU("https://gateway.ipfs.io/ipfs/")},fF=new WeakMap;class fL{#M;#F;constructor(e){this.#M=[],this.#F=!1,fF.set(e,()=>{if(!this.#F){for(let e of(this.#F=!0,this.#M))setTimeout(()=>{e()},0);this.#M=[]}})}addListener(e){ss(!this.#F,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#M.push(e)}get cancelled(){return this.#F}checkSignal(){ss(!this.cancelled,"cancelled","CANCELLED",{})}}function fV(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}class fj{#L;#V;#j;#G;#H;#z;#K;#_;#Q;#J;#W;#q;#$;#Y;#Z;get url(){return this.#z}set url(e){this.#z=String(e)}get body(){return null==this.#K?null:new Uint8Array(this.#K)}set body(e){if(null==e)this.#K=void 0,this.#_=void 0;else if("string"==typeof e)this.#K=sC(e),this.#_="text/plain";else if(e instanceof Uint8Array)this.#K=e,this.#_="application/octet-stream";else if("object"==typeof e)this.#K=sC(JSON.stringify(e)),this.#_="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#K}get method(){return this.#G?this.#G:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#G=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#j);return this.#Q&&(e.authorization=`Basic ${fR(sC(this.#Q))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#_&&(e["content-type"]=this.#_),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#j[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#j={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#Q||null}setCredentials(e,t){so(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#Q=`${e}:${t}`}get allowGzip(){return this.#V}set allowGzip(e){this.#V=!!e}get allowInsecureAuthentication(){return!!this.#L}set allowInsecureAuthentication(e){this.#L=!!e}get timeout(){return this.#H}set timeout(e){so(e>=0,"timeout must be non-zero","timeout",e),this.#H=e}get preflightFunc(){return this.#J||null}set preflightFunc(e){this.#J=e}get processFunc(){return this.#W||null}set processFunc(e){this.#W=e}get retryFunc(){return this.#q||null}set retryFunc(e){this.#q=e}get getUrlFunc(){return this.#Z||fS}set getUrlFunc(e){this.#Z=e}constructor(e){this.#z=String(e),this.#L=!1,this.#V=!0,this.#j={},this.#G="",this.#H=3e5,this.#Y={slotInterval:250,maxAttempts:12},this.#Z=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#K?sg(this.#K):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#Y.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#Y.maxAttempts=e.maxAttempts)}async #X(e,t,r,n,i){var a;if(e>=this.#Y.maxAttempts)return i.makeServerError("exceeded maximum retry limit");ss(fH()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await (a=r,new Promise(e=>setTimeout(e,a)));let s=this.clone(),o=(s.url.split(":")[0]||"").toLowerCase();if(o in fM){let e=await fM[o](s.url,fV(n.#$));if(e instanceof fG){let t=e;if(this.processFunc){fV(n.#$);try{t=await this.processFunc(s,t)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&t.makeServerError("error in post-processing function",e).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));let l=await this.getUrlFunc(s,fV(n.#$)),c=new fG(l.statusCode,l.statusMessage,l.headers,l.body,n);if(301===c.statusCode||302===c.statusCode){try{let r=c.headers.location||"";return s.redirect(r).#X(e+1,t,0,n,c)}catch(e){}return c}if(429===c.statusCode&&(null==this.retryFunc||await this.retryFunc(s,c,e))){let r=c.headers["retry-after"],i=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),s.clone().#X(e+1,t,i,n,c)}if(this.processFunc){fV(n.#$);try{c=await this.processFunc(s,c)}catch(i){(null==i.throttle||"number"!=typeof i.stall)&&c.makeServerError("error in post-processing function",i).assertOk();let r=this.#Y.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return i.stall>=0&&(r=i.stall),s.clone().#X(e+1,t,r,n,c)}}return c}send(){return ss(null==this.#$,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#$=new fL(this),this.#X(0,fH()+this.timeout,0,this,new fG(0,"",{},null,this))}cancel(){ss(null!=this.#$,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=fF.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();ss("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let n=new fj(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#j=Object.assign({},this.#j),this.#K&&(n.#K=new Uint8Array(this.#K)),n.#_=this.#_,n}clone(){let e=new fj(this.url);return e.#G=this.#G,this.#K&&(e.#K=this.#K),e.#_=this.#_,e.#j=Object.assign({},this.#j),e.#Q=this.#Q,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#J=this.#J,e.#W=this.#W,e.#q=this.#q,e.#Y=Object.assign({},this.#Y),e.#Z=this.#Z,e}static lockConfig(){fB=!0}static getGateway(e){return fM[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(fB)throw Error("gateways locked");fM[e]=t}static registerGetUrl(e){if(fB)throw Error("gateways locked");fS=e}static createGetUrlFunc(e){return fC(e)}static createDataGateway(){return fD}static createIpfsGatewayFunc(e){return fU(e)}}class fG{#ee;#et;#j;#K;#er;#en;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#K?sg(this.#K):"null"}>`}get statusCode(){return this.#ee}get statusMessage(){return this.#et}get headers(){return Object.assign({},this.#j)}get body(){return null==this.#K?null:new Uint8Array(this.#K)}get bodyText(){try{return null==this.#K?"":sS(this.#K)}catch(e){ss(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){ss(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#ee=e,this.#et=t,this.#j=Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=String(r[t]),e),{}),this.#K=null==n?null:new Uint8Array(n),this.#er=i||null,this.#en={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let n=new fG(599,r,this.headers,this.body,this.#er||void 0);return n.#en={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:so(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=Error(e||"throttling requests");throw st(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#K}get request(){return this.#er}ok(){return""===this.#en.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#en;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#K&&(n=sS(this.#K))}catch(e){}ss(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function fH(){return new Date().getTime()}let fz=new Set;function fK(e){fz.has(e)||(fz.add(e),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${e} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}class f_{name;constructor(e){st(this,{name:e})}clone(){return new f_(this.name)}}class fQ extends f_{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);const r={effectiveBlock:e};function n(e,n){let i=(t||{})[e];null==i&&(i=n),so("number"==typeof i,`invalud value for ${e}`,"costs",t),r[e]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),st(this,r)}clone(){return new fQ(this.effectiveBlock,this)}}class fJ extends f_{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),st(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new fJ(this.address,this.targetNetwork)}}class fW extends f_{#ei;get feeDataFunc(){return this.#ei}constructor(e){super("org.ethers.plugins.network.FeeData"),this.#ei=e}async getFeeData(e){return await this.#ei(e)}clone(){return new fW(this.#ei)}}class fq extends f_{#z;#ea;get url(){return this.#z}get processFunc(){return this.#ea}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#z=e,this.#ea=t}clone(){return this}}let f$=new Map;class fY{#es;#eo;#el;constructor(e,t){this.#es=e,this.#eo=sV(t),this.#el=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#es}set name(e){this.#es=e}get chainId(){return this.#eo}set chainId(e){this.#eo=sV(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===sV(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===sV(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===sV(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#el.values())}attachPlugin(e){if(this.#el.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#el.set(e.name,e.clone()),this}getPlugin(e){return this.#el.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new fY(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new fQ,r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let n=cN(e.accessList);for(let e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){f0||(f0=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",0xaa36a7,{ensNetwork:0xaa36a7}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("filecoin",314,{}),e("filecoin-calibration",314159,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[fX("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[fX("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",0xaa37dc,{}),e("xdai",100,{ensNetwork:1}));function e(e,t,r){let n=function(){let n=new fY(e,t);return null!=r.ensNetwork&&n.attachPlugin(new fJ(null,r.ensNetwork)),n.attachPlugin(new fQ),(r.plugins||[]).forEach(e=>{n.attachPlugin(e)}),n};fY.register(e,n),fY.register(t,n),r.altNames&&r.altNames.forEach(e=>{fY.register(e,n)})}}(),null==e)return fY.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let t=f$.get(e);if(t)return t();if("bigint"==typeof e)return new fY("unknown",e);so(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){so("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let t=new fY(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new fJ(e.ensAddress,e.ensNetwork)),t}so(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));let r=f$.get(e);r&&so(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),f$.set(e,t)}}function fZ(e,t){let r=String(e);if(!r.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));!n[1].substring(9).match(/^0+$/)&&e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function fX(e){return new fq(e,async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{let[t,i]=await Promise.all([r.send(),e()]),a=(n=t).bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:fZ(a.maxFee,9),maxPriorityFeePerGas:fZ(a.maxPriorityFee,9)}}catch(e){ss(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}})}let f0=!1;function f1(e){return{address:o0(e.address),nonce:sV(null!=e.nonce?e.nonce:0),chainId:sV(null!=e.chainId?e.chainId:0),signature:dC.from(e.signature)}}function f2(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function f5(e,t,r,n){let i=[];for(;r<t+1+n;){let a=f3(e,r);i.push(a.result),ss((r+=a.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function f3(e,t){ss(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{ss(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let n=e[t]-247;r(t+1+n);let i=f2(e,t+1,n);return r(t+1+n+i),f5(e,t,t+1+n,n+i)}if(e[t]>=192){let n=e[t]-192;return r(t+1+n),f5(e,t,t+1,n)}if(e[t]>=184){let n=e[t]-183;r(t+1+n);let i=f2(e,t+1,n);r(t+1+n+i);let a=sg(e.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:a}}if(e[t]>=128){let n=e[t]-128;r(t+1+n);let i=sg(e.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function f4(e){let t=sf(e,"data"),r=f3(t,0);return so(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}let f6=BigInt(0),f8=BigInt(2),f9=BigInt(27),f7=BigInt(28),pe=BigInt(35),pt=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),pr=Symbol.for("nodejs.util.inspect.custom");function pn(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return"0x"+(r+=u6(t).substring(4))}function pi(e){return"0x"===e?null:o0(e)}function pa(e,t){try{return cN(e)}catch(r){so(!1,r.message,t,e)}}function ps(e,t){return"0x"===e?0:sz(e,t)}function po(e,t){if("0x"===e)return f6;let r=sV(e,t);return so(r<=pt,"value exceeds uint size",t,r),r}function pl(e,t){let r=sV(e,"value"),n=sQ(r);return so(n.length<=32,"value too large",`tx.${t}`,r),n}function pc(e){return cN(e).map(e=>[e.address,e.storageKeys])}function pu(e,t){let r;try{if(r=ps(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){so(!1,"invalid yParity","yParity",t[0])}let n=sT(t[1],32),i=sT(t[2],32);e.signature=dC.from({r:n,s:i,yParity:r})}class pd{#ec;#eu;#t;#ed;#eh;#ef;#ep;#em;#ex;#eo;#ey;#eg;#eb;#ew;#ev;#eA;#eE;#eT;get type(){return this.#ec}set type(e){switch(e){case null:this.#ec=null;break;case 0:case"legacy":this.#ec=0;break;case 1:case"berlin":case"eip-2930":this.#ec=1;break;case 2:case"london":case"eip-1559":this.#ec=2;break;case 3:case"cancun":case"eip-4844":this.#ec=3;break;case 4:case"pectra":case"eip-7702":this.#ec=4;break;default:so(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){let e=this.#eu;return null==e&&3===this.type?cg:e}set to(e){this.#eu=null==e?null:o0(e)}get nonce(){return this.#ed}set nonce(e){this.#ed=sz(e,"value")}get gasLimit(){return this.#eh}set gasLimit(e){this.#eh=sV(e)}get gasPrice(){let e=this.#ef;return null==e&&(0===this.type||1===this.type)?f6:e}set gasPrice(e){this.#ef=null==e?null:sV(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#ep;return null==e?2===this.type||3===this.type?f6:null:e}set maxPriorityFeePerGas(e){this.#ep=null==e?null:sV(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#em;return null==e?2===this.type||3===this.type?f6:null:e}set maxFeePerGas(e){this.#em=null==e?null:sV(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=sg(e)}get value(){return this.#ex}set value(e){this.#ex=sV(e,"value")}get chainId(){return this.#eo}set chainId(e){this.#eo=sV(e)}get signature(){return this.#ey||null}set signature(e){this.#ey=null==e?null:dC.from(e)}isValid(){let e=this.signature;if(e&&!e.isValid())return!1;let t=this.authorizationList;if(t){for(let e of t)if(!e.signature.isValid())return!1}return!0}get accessList(){let e=this.#eg||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#eg=null==e?null:cN(e)}get authorizationList(){let e=this.#eE||null;return null==e&&4===this.type?[]:e}set authorizationList(e){this.#eE=null==e?null:e.map(e=>f1(e))}get maxFeePerBlobGas(){let e=this.#eb;return null==e&&3===this.type?f6:e}set maxFeePerBlobGas(e){this.#eb=null==e?null:sV(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#ew;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){so(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)so(sm(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#ew=e}get blobs(){return null==this.#eA?null:this.#eA.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#eA=null;return}let t=[],r=[];for(let n=0;n<e.length;n++){let i=e[n];if(sx(i)){ss(this.#ev,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=sf(i);if(so(e.length<=131072,"blob is too large",`blobs[${n}]`,i),131072!==e.length){let t=new Uint8Array(131072);t.set(e),e=t}let a=this.#ev.blobToKzgCommitment(e),s=sg(this.#ev.computeBlobKzgProof(e,a));t.push({data:sg(e),commitment:sg(a),proof:s}),r.push(pn(1,a))}else{let e=sg(i.data),n=sg(i.commitment),a=sg(i.proof);t.push({data:e,commitment:n,proof:a}),r.push(pn(1,n))}}this.#eA=t,this.#ew=r}get kzg(){return this.#ev}set kzg(e){if(null==e)this.#ev=null;else this.#ev={blobToKzgCommitment:t=>{if("computeBlobProof"in e){if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return sf(e.blobToKzgCommitment(sg(t)))}else if("blobToKzgCommitment"in e&&"function"==typeof e.blobToKzgCommitment)return sf(e.blobToKzgCommitment(t));if("blobToKZGCommitment"in e&&"function"==typeof e.blobToKZGCommitment)return sf(e.blobToKZGCommitment(sg(t)));so(!1,"unsupported KZG library","kzg",e)},computeBlobKzgProof:(t,r)=>"computeBlobProof"in e&&"function"==typeof e.computeBlobProof?sf(e.computeBlobProof(sg(t),sg(r))):"computeBlobKzgProof"in e&&"function"==typeof e.computeBlobKzgProof?e.computeBlobKzgProof(t,r):"computeBlobKZGProof"in e&&"function"==typeof e.computeBlobKZGProof?sf(e.computeBlobKZGProof(sg(t),sg(r))):void so(!1,"unsupported KZG library","kzg",e)}}get blobWrapperVersion(){return this.#eT}set blobWrapperVersion(e){this.#eT=e}constructor(){this.#ec=null,this.#eu=null,this.#ed=0,this.#eh=f6,this.#ef=null,this.#ep=null,this.#em=null,this.#t="0x",this.#ex=f6,this.#eo=f6,this.#ey=null,this.#eg=null,this.#eb=null,this.#ew=null,this.#ev=null,this.#eA=null,this.#eE=null,this.#eT=null}get hash(){return null==this.signature?null:oJ(this.#ek(!0,!1))}get unsignedHash(){return oJ(this.unsignedSerialized)}get from(){return null==this.signature?null:fe(this.unsignedHash,this.signature.getCanonical())}get fromPublicKey(){return null==this.signature?null:hN.recoverPublicKey(this.unsignedHash,this.signature.getCanonical())}isSigned(){return null!=this.signature}#ek(e,t){ss(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){let r=[pl(e.nonce,"nonce"),pl(e.gasPrice||0,"gasPrice"),pl(e.gasLimit,"gasLimit"),e.to||"0x",pl(e.value,"value"),e.data],n=f6;if(e.chainId!=f6)n=sV(e.chainId,"tx.chainId"),so(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==f6&&(r.push(sQ(n)),r.push("0x"),r.push("0x")),cd(r);let i=BigInt(27+t.yParity);return n!==f6?i=dC.getChainIdV(n,t.v):BigInt(t.v)!==i&&so(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(sQ(i)),r.push(sQ(t.r)),r.push(sQ(t._s)),cd(r)}(this,r);case 1:let n;return n=[pl(this.chainId,"chainId"),pl(this.nonce,"nonce"),pl(this.gasPrice||0,"gasPrice"),pl(this.gasLimit,"gasLimit"),this.to||"0x",pl(this.value,"value"),this.data,pc(this.accessList||[])],r&&(n.push(pl(r.yParity,"recoveryParam")),n.push(sQ(r.r)),n.push(sQ(r.s))),sb(["0x01",cd(n)]);case 2:let i;return i=[pl(this.chainId,"chainId"),pl(this.nonce,"nonce"),pl(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pl(this.maxFeePerGas||0,"maxFeePerGas"),pl(this.gasLimit,"gasLimit"),this.to||"0x",pl(this.value,"value"),this.data,pc(this.accessList||[])],r&&(i.push(pl(r.yParity,"yParity")),i.push(sQ(r.r)),i.push(sQ(r.s))),sb(["0x02",cd(i)]);case 3:return function(e,t,r){let n=[pl(e.chainId,"chainId"),pl(e.nonce,"nonce"),pl(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pl(e.maxFeePerGas||0,"maxFeePerGas"),pl(e.gasLimit,"gasLimit"),e.to||cg,pl(e.value,"value"),e.data,pc(e.accessList||[]),pl(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){so(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)so(sm(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(e.blobVersionedHashes||[],"blobVersionedHashes")];if(t&&(n.push(pl(t.yParity,"yParity")),n.push(sQ(t.r)),n.push(sQ(t.s)),r)){if(null!=e.blobWrapperVersion){let t=sQ(e.blobWrapperVersion),i=[];for(let{proof:e}of r){let t=sf(e),r=t.length/128;for(let e=0;e<t.length;e+=r)i.push(t.subarray(e,e+r))}return sb(["0x03",cd([n,t,r.map(e=>e.data),r.map(e=>e.commitment),i])])}return sb(["0x03",cd([n,r.map(e=>e.data),r.map(e=>e.commitment),r.map(e=>e.proof)])])}return sb(["0x03",cd(n)])}(this,r,t?this.blobs:null);case 4:let a=[pl(this.chainId,"chainId"),pl(this.nonce,"nonce"),pl(this.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),pl(this.maxFeePerGas||0,"maxFeePerGas"),pl(this.gasLimit,"gasLimit"),this.to||"0x",pl(this.value,"value"),this.data,pc(this.accessList||[]),(this.authorizationList||[]).map(e=>[pl(e.chainId,"chainId"),e.address,pl(e.nonce,"nonce"),pl(e.signature.yParity,"yParity"),sQ(e.signature.r),sQ(e.signature._s)])];return r&&(a.push(pl(r.yParity,"yParity")),a.push(sQ(r.r)),a.push(sQ(r.s))),sb(["0x04",cd(a)])}ss(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#ek(!0,!0)}get unsignedSerialized(){return this.#ek(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#eb||this.#ew;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&ss(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ss(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ss(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return null!=this.type?i.push(this.type):this.authorizationList&&this.authorizationList.length?i.push(4):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return pd.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}[pr](){return this.toString()}toString(){let e=[],t=t=>{let r=this[t];"string"==typeof r&&(r=JSON.stringify(r)),e.push(`${t}: ${r}`)};this.type&&t("type"),t("to"),t("data"),t("nonce"),t("gasLimit"),t("value"),null!=this.chainId&&t("chainId"),this.signature&&(t("from"),e.push(`signature: ${this.signature.toString()}`));let r=this.authorizationList;if(r){let t=[];for(let e of r){let r=[];r.push(`address: ${JSON.stringify(e.address)}`),null!=e.nonce&&r.push(`nonce: ${e.nonce}`),null!=e.chainId&&r.push(`chainId: ${e.chainId}`),e.signature&&r.push(`signature: ${e.signature.toString()}`),t.push(`Authorization { ${r.join(", ")} }`)}e.push(`authorizations: [ ${t.join(", ")} ]`)}return`Transaction { ${e.join(", ")} }`}static from(e){if(null==e)return new pd;if("string"==typeof e){let t=sf(e);if(t[0]>=127)return pd.from(function(e){let t=f4(e);so(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:ps(t[0],"nonce"),gasPrice:po(t[1],"gasPrice"),gasLimit:po(t[2],"gasLimit"),to:pi(t[3]),value:po(t[4],"value"),data:sg(t[5]),chainId:f6};if(6===t.length)return r;let n=po(t[6],"v"),i=po(t[7],"r"),a=po(t[8],"s");if(i===f6&&a===f6)r.chainId=n;else{let e=(n-pe)/f8;e<f6&&(e=f6),r.chainId=e,so(e!==f6||n===f9||n===f7,"non-canonical legacy v","v",t[6]),r.signature=dC.from({r:sT(t[7],32),s:sT(t[8],32),v:n})}return r}(t));switch(t[0]){case 1:let r,n;return pd.from((so(Array.isArray(r=f4(sf(t).slice(1)))&&(8===r.length||11===r.length),"invalid field count for transaction type: 1","data",sg(t)),n={type:1,chainId:po(r[0],"chainId"),nonce:ps(r[1],"nonce"),gasPrice:po(r[2],"gasPrice"),gasLimit:po(r[3],"gasLimit"),to:pi(r[4]),value:po(r[5],"value"),data:sg(r[6]),accessList:pa(r[7],"accessList")},8===r.length||pu(n,r.slice(8)),n));case 2:let i,a;return pd.from((so(Array.isArray(i=f4(sf(t).slice(1)))&&(9===i.length||12===i.length),"invalid field count for transaction type: 2","data",sg(t)),a={type:2,chainId:po(i[0],"chainId"),nonce:ps(i[1],"nonce"),maxPriorityFeePerGas:po(i[2],"maxPriorityFeePerGas"),maxFeePerGas:po(i[3],"maxFeePerGas"),gasPrice:null,gasLimit:po(i[4],"gasLimit"),to:pi(i[5]),value:po(i[6],"value"),data:sg(i[7]),accessList:pa(i[8],"accessList")},9===i.length||pu(a,i.slice(9)),a));case 3:return pd.from(function(e){let t=f4(sf(e).slice(1)),r="3",n=null,i=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";let e=t[1],n=t[2],a=t[3];so(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),so(Array.isArray(n),"invalid network format: commitments not an array","fields[2]",n),so(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),so(e.length===n.length,"invalid network format: blobs/commitments length mismatch","fields",t),so(e.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let r=0;r<t[1].length;r++)i.push({data:e[r],commitment:n[r],proof:a[r]});t=t[0]}else if(5===t.length&&Array.isArray(t[0])){r="3 (EIP-7594 network format)",n=sz(t[1]);let e=t[2],a=t[3],s=t[4];so(1===n,`unsupported EIP-7594 network format version: ${n}`,"fields[1]",n),so(Array.isArray(e),"invalid EIP-7594 network format: blobs not an array","fields[2]",e),so(Array.isArray(a),"invalid EIP-7594 network format: commitments not an array","fields[3]",a),so(Array.isArray(s),"invalid EIP-7594 network format: proofs not an array","fields[4]",s),so(e.length===a.length,"invalid network format: blobs/commitments length mismatch","fields",t),so(128*e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),i=[];for(let t=0;t<e.length;t++){let r=[];for(let e=0;e<128;e++)r.push(s[128*t+e]);i.push({data:e[t],commitment:a[t],proof:sb(r)})}t=t[0]}so(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",sg(e));let a={type:3,chainId:po(t[0],"chainId"),nonce:ps(t[1],"nonce"),maxPriorityFeePerGas:po(t[2],"maxPriorityFeePerGas"),maxFeePerGas:po(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:po(t[4],"gasLimit"),to:pi(t[5]),value:po(t[6],"value"),data:sg(t[7]),accessList:pa(t[8],"accessList"),maxFeePerBlobGas:po(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10],blobWrapperVersion:n};i&&(a.blobs=i),so(null!=a.to,`invalid address for transaction type: ${r}`,"data",e),so(Array.isArray(a.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<a.blobVersionedHashes.length;t++)so(sm(a.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||pu(a,t.slice(11)),a}(t));case 4:let s,o;return pd.from((so(Array.isArray(s=f4(sf(t).slice(1)))&&(10===s.length||13===s.length),"invalid field count for transaction type: 4","data",sg(t)),o={type:4,chainId:po(s[0],"chainId"),nonce:ps(s[1],"nonce"),maxPriorityFeePerGas:po(s[2],"maxPriorityFeePerGas"),maxFeePerGas:po(s[3],"maxFeePerGas"),gasPrice:null,gasLimit:po(s[4],"gasLimit"),to:pi(s[5]),value:po(s[6],"value"),data:sg(s[7]),accessList:pa(s[8],"accessList"),authorizationList:function(e,t){try{if(!Array.isArray(e))throw Error("authorizationList: invalid array");let t=[];for(let r=0;r<e.length;r++){let n=e[r];if(!Array.isArray(n))throw Error(`authorization[${r}]: invalid array`);if(6!==n.length)throw Error(`authorization[${r}]: wrong length`);if(!n[1])throw Error(`authorization[${r}]: null address`);t.push({address:pi(n[1]),nonce:po(n[2],"nonce"),chainId:po(n[0],"chainId"),signature:dC.from({yParity:ps(n[3],"yParity"),r:sT(n[4],32),s:sT(n[5],32)})})}return t}catch(r){so(!1,r.message,t,e)}}(s[9],"authorizationList")},10===s.length||pu(o,s.slice(10)),o))}ss(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new pd;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=dC.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.authorizationList&&(t.authorizationList=e.authorizationList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobWrapperVersion&&(t.blobWrapperVersion=e.blobWrapperVersion),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(so(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),so(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(so(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),so(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}let ph="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pf=null,pp=BigInt(0),pm=BigInt(58);function px(e){let t=sf(e),r=sH(t),n="";for(;r;)n=ph[Number(r%pm)]+n,r/=pm;for(let e=0;e<t.length&&!t[e];e++)n=ph[0]+n;return n}function py(e){let t=pp;for(let r=0;r<e.length;r++)t*=pm,t+=function(e){if(null==pf){pf={};for(let e=0;e<ph.length;e++)pf[ph[e]]=BigInt(e)}let t=pf[e];return so(null!=t,"invalid base58 value","letter",e),t}(e[r]);return t}function pg(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):so(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class pb{name;constructor(e){st(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw Error("unsupported coin")}async decodeAddress(e,t){throw Error("unsupported coin")}}let pw=RegExp("^(ipfs)://(.*)$","i"),pv=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),pw,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class pA{provider;address;name;#eP;#eN;constructor(e,t,r){st(this,{provider:e,address:t,name:r}),this.#eP=null,this.#eN=new ua(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#eP&&(this.#eP=(async()=>{try{return await this.#eN.supportsInterface("0x9061b923")}catch(e){if(sn(e,"CALL_EXCEPTION"))return!1;throw this.#eP=null,e}})()),await this.#eP}async #eR(e,t){t=(t||[]).slice();let r=this.#eN.interface;t.unshift(h8(this.name));let n=null;await this.supportsWildcard()&&(ss(n=r.getFunction(e),"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[h9(this.name,255),r.encodeFunctionData(n,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let i=await this.#eN[e](...t);if(n)return r.decodeFunctionResult(n,i)[0];return i}catch(e){if(!sn(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#eR("addr(bytes32)");if(null==e||e===cg)return null;return e}catch(e){if(sn(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<0x80000000){let t=e+0x80000000,r=await this.#eR("addr(bytes32,uint)",[t]);if(sm(r,20))return o0(r)}let t=null;for(let r of this.provider.plugins)if(r instanceof pb&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;let r=await this.#eR("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;let n=await t.decodeAddress(e,r);if(null!=n)return n;ss(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#eR("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){let e=await this.#eR("contenthash(bytes32)");if(null==e||"0x"===e)return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${px("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;ss(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<pv.length;r++){let n=t.match(pv[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let r=pg(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{let r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let a=await this.getAddress();if(null==a)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let s=(n[2]||"").split("/");if(2!==s.length)return e.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:e};let o=s[1],l=new ua(s[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){let t=await l.ownerOf(o);if(a!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){let t=await l.balanceOf(a,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let c=await l[r](o);if(null==c||"0x"===c)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:c}),"erc1155"===i&&(c=c.replace("{id}",s_(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:c})),c.match(/^ipfs:/i)&&(c=pg(c)),e.push({type:"metadata-url",value:c});let u={},d=await new fj(c).send();d.assertOk();try{u=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(r){let t=d.body;t&&e.push({type:"!metadata",value:sg(t)})}return{url:null,linkage:e}}if(!u)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(u)});let h=u.image;if("string"!=typeof h)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(pw);if(null==t)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=pg(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return ss(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async #eC(e,t){let r=await pA.getEnsAddress(e);try{let n=new ua(r,["function resolver(bytes32) view returns (address)"],e),i=await n.resolver(h8(t),{enableCcipRead:!0});if(i===cg)return null;return i}catch(e){throw e}}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r||"eth"!==t&&"eth"===r)return null;let n=await pA.#eC(e,r);if(null!=n){let i=new pA(e,n,t);if(r!==t&&!await i.supportsWildcard())return null;return i}r=r.split(".").slice(1).join(".")}}}let pE=BigInt(0);function pT(e,t){return function(r){return null==r?t:e(r)}}function pk(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw Error("not an array");return r.map(t=>e(t))}}function pP(e,t){return r=>{let n={};for(let i in e){let a=i;if(t&&i in t&&!(a in r)){for(let e of t[i])if(e in r){a=e;break}}try{let t=e[i](r[a]);void 0!==t&&(n[i]=t)}catch(t){let e=t instanceof Error?t.message:"not-an-error";ss(!1,`invalid value for value.${i} (${e})`,"BAD_DATA",{value:r})}}return n}}function pN(e){return so(sm(e,!0),"invalid data","value",e),e}function pR(e){return so(sm(e,32),"invalid hash","value",e),e}let pC=pP({address:o0,blockHash:pR,blockNumber:sz,data:pN,index:sz,removed:pT(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}so(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:pk(pR),transactionHash:pR,transactionIndex:sz},{index:["logIndex"]}),pS=pP({hash:pT(pR),parentHash:pR,parentBeaconBlockRoot:pT(pR,null),number:sz,timestamp:sz,nonce:pT(pN),difficulty:sV,gasLimit:sV,gasUsed:sV,stateRoot:pT(pR,null),receiptsRoot:pT(pR,null),blobGasUsed:pT(sV,null),excessBlobGas:pT(sV,null),miner:pT(o0),prevRandao:pT(pR,null),extraData:pN,baseFeePerGas:pT(sV)},{prevRandao:["mixHash"]}),pI=pP({transactionIndex:sz,blockNumber:sz,transactionHash:pR,address:o0,topics:pk(pR),data:pN,index:sz,blockHash:pR},{index:["logIndex"]}),pO=pP({to:pT(o0,null),from:pT(o0,null),contractAddress:pT(o0,null),index:sz,root:pT(sg),gasUsed:sV,blobGasUsed:pT(sV,null),logsBloom:pT(pN),blockHash:pR,hash:pR,logs:pk(function(e){return pI(e)}),blockNumber:sz,cumulativeGasUsed:sV,effectiveGasPrice:pT(sV),blobGasPrice:pT(sV,null),status:pT(sz),type:pT(sz,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function pB(e){e.to&&sV(e.to)===pE&&(e.to="0x0000000000000000000000000000000000000000");let t=pP({hash:pR,index:pT(sz,void 0),type:e=>"0x"===e||null==e?0:sz(e),accessList:pT(cN,null),blobVersionedHashes:pT(pk(pR,!0),null),authorizationList:pT(pk(e=>{let t;if(e.signature)t=e.signature;else{let r=e.yParity;"0x1b"===r?r=0:"0x1c"===r&&(r=1),t=Object.assign({},e,{yParity:r})}return{address:o0(e.address),chainId:sV(e.chainId),nonce:sV(e.nonce),signature:dC.from(t)}},!1),null),blockHash:pT(pR,null),blockNumber:pT(sz,null),transactionIndex:pT(sz,null),from:o0,gasPrice:pT(sV),maxPriorityFeePerGas:pT(sV),maxFeePerGas:pT(sV),maxFeePerBlobGas:pT(sV,null),gasLimit:sV,to:pT(o0,null),value:sV,nonce:sz,data:pN,creates:pT(o0,null),chainId:pT(sV,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=ch(t)),(1===e.type||2===e.type)&&null==e.accessList&&(t.accessList=[]),e.signature?t.signature=dC.from(e.signature):t.signature=dC.from(e),null==t.chainId){let e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&sV(t.blockHash)===pE&&(t.blockHash=null),t}function pD(e){return JSON.parse(JSON.stringify(e))}class pU{#eS;#eI;#eO;#eB;constructor(e){this.#eS=e,this.#eI=null,this.#eO=4e3,this.#eB=-2}get pollingInterval(){return this.#eO}set pollingInterval(e){this.#eO=e}async #eD(){try{let e=await this.#eS.getBlockNumber();if(-2===this.#eB){this.#eB=e;return}if(e!==this.#eB){for(let t=this.#eB+1;t<=e;t++){if(null==this.#eI)return;await this.#eS.emit("block",t)}this.#eB=e}}catch(e){}null!=this.#eI&&(this.#eI=this.#eS._setTimeout(this.#eD.bind(this),this.#eO))}start(){this.#eI||(this.#eI=this.#eS._setTimeout(this.#eD.bind(this),this.#eO),this.#eD())}stop(){this.#eI&&(this.#eS._clearTimeout(this.#eI),this.#eI=null)}pause(e){this.stop(),e&&(this.#eB=-2)}resume(){this.start()}}class pM{#eS;#eD;#eU;constructor(e){this.#eS=e,this.#eU=!1,this.#eD=e=>{this._poll(e,this.#eS)}}async _poll(e,t){throw Error("sub-classes must override this")}start(){this.#eU||(this.#eU=!0,this.#eD(-2),this.#eS.on("block",this.#eD))}stop(){this.#eU&&(this.#eU=!1,this.#eS.off("block",this.#eD))}pause(e){this.stop()}resume(){this.start()}}class pF extends pM{#eM;#eF;constructor(e,t){super(e),this.#eM=t,this.#eF=-2}pause(e){e&&(this.#eF=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#eM);null!=r&&(-2===this.#eF?this.#eF=r.number:r.number>this.#eF&&(t.emit(this.#eM,r.number),this.#eF=r.number))}}class pL extends pM{#P;constructor(e,t){super(e),this.#P=pD(t)}async _poll(e,t){throw Error("@TODO")}}class pV extends pM{#eL;constructor(e,t){super(e),this.#eL=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#eL);r&&t.emit(this.#eL,r)}}class pj{#eS;#P;#eI;#eU;#eB;constructor(e,t){this.#eS=e,this.#P=pD(t),this.#eI=this.#eD.bind(this),this.#eU=!1,this.#eB=-2}async #eD(e){if(-2===this.#eB)return;let t=pD(this.#P);t.fromBlock=this.#eB+1,t.toBlock=e;let r=await this.#eS.getLogs(t);if(0===r.length){this.#eB<e-60&&(this.#eB=e-60);return}for(let e of r)this.#eS.emit(this.#P,e),this.#eB=e.blockNumber}start(){this.#eU||(this.#eU=!0,-2===this.#eB&&this.#eS.getBlockNumber().then(e=>{this.#eB=e}),this.#eS.on("block",this.#eI))}stop(){this.#eU&&(this.#eU=!1,this.#eS.off("block",this.#eI))}pause(e){this.stop(),e&&(this.#eB=-2)}resume(){this.start()}}let pG=BigInt(2);function pH(e){return e&&"function"==typeof e.then}function pz(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){let e=Object.keys(t);return e.sort(),e.reduce((e,r)=>(e[r]=t[r],e),{})}return t})}class pK{name;constructor(e){st(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function p_(e){return(e=Array.from(new Set(e).values())).sort(),e}async function pQ(e,t){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(sm(e,32)){let t=e.toLowerCase();return{type:"transaction",tag:pz("tx",{hash:t}),hash:t}}if(e.orphan){let t=e;return{type:"orphan",tag:pz("orphan",t),filter:JSON.parse(JSON.stringify(t))}}if(e.address||e.topics){let r=e,n={topics:(r.topics||[]).map(e=>null==e?null:Array.isArray(e)?p_(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(r.address){let e=[],i=[],a=r=>{sm(r)?e.push(r):i.push((async()=>{e.push(await cy(r,t))})())};Array.isArray(r.address)?r.address.forEach(a):a(r.address),i.length&&await Promise.all(i),n.address=p_(e.map(e=>e.toLowerCase()))}return{filter:n,tag:pz("event",n),type:"event"}}so(!1,"unknown ProviderEvent","event",e)}function pJ(){return new Date().getTime()}let pW={cacheTimeout:250,pollingInterval:4e3};class pq{#eV;#el;#ej;#eG;#eH;#ez;#eK;#e_;#eQ;#eJ;#eW;#u;constructor(e,t){if(this.#u=Object.assign({},pW,t||{}),"any"===e)this.#ez=!0,this.#eH=null;else if(e){const t=fY.from(e);this.#ez=!1,this.#eH=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#ez=!1,this.#eH=null;this.#e_=-1,this.#eK=new Map,this.#eV=new Map,this.#el=new Map,this.#ej=null,this.#eG=!1,this.#eQ=1,this.#eJ=new Map,this.#eW=!1}get pollingInterval(){return this.#u.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#el.values())}attachPlugin(e){if(this.#el.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#el.set(e.name,e.connect(this)),this}getPlugin(e){return this.#el.get(e)||null}get disableCcipRead(){return this.#eW}set disableCcipRead(e){this.#eW=!!e}async #eq(e){let t=this.#u.cacheTimeout;if(t<0)return await this._perform(e);let r=pz(e.method,e),n=this.#eK.get(r);return n||(n=this._perform(e),this.#eK.set(r,n),setTimeout(()=>{this.#eK.get(r)===n&&this.#eK.delete(r)},t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),a=[];for(let t=0;t<r.length;t++){let s,o=r[t],l=new fj(o.replace("{sender}",n).replace("{data}",i));-1===o.indexOf("{data}")&&(l.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let c="unknown error";try{s=await l.send()}catch(e){a.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:e}});continue}try{let e=s.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(c=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}ss(s.statusCode<400||s.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:c}}),a.push(c)}ss(!1,`error encountered during CCIP fetch: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:a}})}_wrapBlock(e,t){let r;return new cB(((r=pS(e)).transactions=e.transactions.map(e=>"string"==typeof e?e:pB(e)),r),this)}_wrapLog(e,t){return new cD(pC(e),this)}_wrapTransactionReceipt(e,t){return new cU(pO(e),this)}_wrapTransactionResponse(e,t){return new cM(pB(e),this)}_detectNetwork(){ss(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ss(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=sz(await this.#eq({method:"getBlockNumber"}),"%response");return this.#e_>=0&&(this.#e_=e),e}_getAddress(e){return cy(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return sm(e)?sm(e,32)?e:sJ(e):("bigint"==typeof e&&(e=sz(e,"blockTag")),"number"==typeof e)?e>=0?sJ(e):this.#e_>=0?sJ(this.#e_+e):this.getBlockNumber().then(t=>sJ(t+e)):void so(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t,r,n=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?p_(e.map(e=>e.toLowerCase())):e.toLowerCase()),i="blockHash"in e?e.blockHash:void 0,a=(e,t,r)=>{let a;switch(e.length){case 0:break;case 1:a=e[0];break;default:e.sort(),a=e}if(i&&(null!=t||null!=r))throw Error("invalid filter");let s={};return a&&(s.address=a),n.length&&(s.topics=n),t&&(s.fromBlock=t),r&&(s.toBlock=r),i&&(s.blockHash=i),s},s=[];if(e.address)if(Array.isArray(e.address))for(let t of e.address)s.push(this._getAddress(t));else s.push(this._getAddress(e.address));return"fromBlock"in e&&(t=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(r=this._getBlockTag(e.toBlock)),s.filter(e=>"string"!=typeof e).length||null!=t&&"string"!=typeof t||null!=r&&"string"!=typeof r)?Promise.all([Promise.all(s),t,r]).then(e=>a(e[0],e[1],e[2])):a(s,t,r)}_getTransactionRequest(e){let t=cO(e),r=[];if(["to","from"].forEach(e=>{if(null==t[e])return;let n=cy(t[e],this);pH(n)?r.push(async function(){t[e]=await n}()):t[e]=n}),null!=t.blockTag){let e=this._getBlockTag(t.blockTag);pH(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#eH){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#eH===e&&(this.#eH=null),t}})();return this.#eH=e,(await e).clone()}let e=this.#eH,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#ez?(this.emit("network",r,t),this.#eH===e&&(this.#eH=Promise.resolve(r))):ss(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:t,gasPrice:r,priorityFee:n}=await se({_block:this.#e$("latest",!1),gasPrice:(async()=>{try{let e=await this.#eq({method:"getGasPrice"});return sV(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#eq({method:"getPriorityFee"});return sV(e,"%response")}catch(e){}return null})()}),i=null,a=null,s=this._wrapBlock(t,e);return s&&s.baseFeePerGas&&(a=null!=n?n:BigInt("1000000000"),i=s.baseFeePerGas*pG+a),new cI(r,i,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let e=new fj(r.url),n=await r.processFunc(t,this,e);return new cI(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return pH(t)&&(t=await t),sV(await this.#eq({method:"estimateGas",transaction:t}),"%response")}async #eY(e,t,r){ss(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let n=cO(e);try{return sg(await this._perform({method:"call",transaction:n,blockTag:t}))}catch(e){if(!this.disableCcipRead&&si(e)&&e.data&&r>=0&&"latest"===t&&null!=n.to&&"0x556f1830"===sv(e.data,0,4)){let i,a=e.data,s=await cy(n.to,this);try{i=function(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ss(sw(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=sv(e,0,32);ss(sv(r,0,12)===sv(pX,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=sv(r,12);try{let r=[],n=sz(sv(e,32,64)),i=sz(sv(e,n,n+32)),a=sv(e,n+32);for(let e=0;e<i;e++){let t=function(e,t){try{let r=p$(e,t);if(r)return sS(r)}catch(e){}return null}(a,32*e);if(null==t)throw Error("abort");r.push(t)}t.urls=r}catch(e){ss(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=p$(e,64);if(null==r)throw Error("abort");t.calldata=r}catch(e){ss(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ss(sv(e,100,128)===sv(pX,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=sv(e,96,100);try{let r=p$(e,128);if(null==r)throw Error("abort");t.extraData=r}catch(e){ss(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(sv(e.data,4))}catch(e){ss(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:a}})}ss(i.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:a,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:i.errorArgs}});let o=await this.ccipReadFetch(n,i.calldata,i.urls);ss(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:e.data,errorArgs:i.errorArgs}});let l={to:s,data:sb([i.selector,function(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(pZ),r+=32;for(let n=0;n<e.length;n++){let i=sf(e[n]);t[n]=pY(r),t.push(pY(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return sb(t)}([o,i.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{let e=await this.#eY(l,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async #eZ(e){let{value:t}=await se({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await se({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#eZ(this.#eY(t,r,e.enableCcipRead?0:-1))}async #eX(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return("string"!=typeof n||"string"!=typeof i)&&([n,i]=await Promise.all([n,i])),await this.#eZ(this.#eq(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return sV(await this.#eX({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return sz(await this.#eX({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return sg(await this.#eX({method:"getCode"},e,t))}async getStorage(e,t,r){let n=sV(t,"position");return sg(await this.#eX({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:n}=await se({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),i=pd.from(e);if(i.hash!==r)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(t)}async #e$(e,t){if(sm(e,32))return await this.#eq({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#eq({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:n}=await se({network:this.getNetwork(),params:this.#e$(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){let{network:t,params:r}=await se({network:this.getNetwork(),params:this.#eq({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await se({network:this.getNetwork(),params:this.#eq({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){let t=await this.#eq({method:"getTransaction",hash:e});if(null==t)throw Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await se({network:this.getNetwork(),result:this.#eq({method:"getTransactionResult",hash:e})});return null==t?null:sg(t)}async getLogs(e){let t=this._getFilter(e);pH(t)&&(t=await t);let{network:r,params:n}=await se({network:this.getNetwork(),params:this.#eq({method:"getLogs",filter:t})});return n.map(e=>this._wrapLog(e,r))}_getProvider(e){ss(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await pA.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){let t=h8((e=o0(e)).substring(2).toLowerCase()+".addr.reverse");try{let r=await pA.getEnsAddress(this),n=new ua(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(t);if(null==i||i===cg)return null;let a=new ua(i,["function name(bytes32) view returns (string)"],this),s=await a.name(t);if(await this.resolveName(s)!==e)return null;return s}catch(e){if(sn(e,"BAD_DATA")&&"0x"===e.value||sn(e,"CALL_EXCEPTION"))return null;throw e}}async waitForTransaction(e,t,r){let n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise(async(t,i)=>{let a=null,s=async r=>{try{let i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n){t(i),a&&(clearTimeout(a),a=null);return}}catch(e){console.log("EEE",e)}this.once("block",s)};null!=r&&(a=setTimeout(()=>{null!=a&&(a=null,this.off("block",s),i(sa("timeout","TIMEOUT",{reason:"timeout"})))},r)),s(await this.getBlockNumber())})}async waitForBlock(e){ss(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#eJ.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#eJ.delete(e))}_setTimeout(e,t){null==t&&(t=0);let r=this.#eQ++,n=()=>{this.#eJ.delete(r),e()};if(this.paused)this.#eJ.set(r,{timer:null,func:n,time:t});else{let e=setTimeout(n,t);this.#eJ.set(r,{timer:e,func:n,time:pJ()})}return r}_forEachSubscriber(e){for(let t of this.#eV.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new pK(e.type);case"block":{let e=new pU(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new pF(this,e.type);case"event":return new pj(this,e.filter);case"transaction":return new pV(this,e.hash);case"orphan":return new pL(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#eV.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#ej&&t.pause(this.#ej);break}}async #e0(e,t){let r=await pQ(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await pQ({orphan:"drop-log",log:t[0]},this)),this.#eV.get(r.tag)||null}async #e1(e){let t=await pQ(e,this),r=t.tag,n=this.#eV.get(r);if(!n){let e=this._getSubscriber(t);n={subscriber:e,tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#eV.set(r,n)}return n}async on(e,t){let r=await this.#e1(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#ej&&r.subscriber.pause(this.#ej)),this}async once(e,t){let r=await this.#e1(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#ej&&r.subscriber.pause(this.#ej)),this}async emit(e,...t){let r=await this.#e0(e,t);if(!r||0===r.listeners.length)return!1;let n=r.listeners.length;return r.listeners=r.listeners.filter(({listener:r,once:n})=>{let i=new cV(this,n?null:r,e);try{r.call(this,...t,i)}catch(e){}return!n}),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#eV.delete(r.tag)),n>0}async listenerCount(e){if(e){let t=await this.#e0(e);return t?t.listeners.length:0}let t=0;for(let{listeners:e}of this.#eV.values())t+=e.length;return t}async listeners(e){if(e){let t=await this.#e0(e);return t?t.listeners.map(({listener:e})=>e):[]}let t=[];for(let{listeners:e}of this.#eV.values())t=t.concat(e.map(({listener:e})=>e));return t}async off(e,t){let r=await this.#e0(e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#eV.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:n}=await this.#e1(e);r&&n.stop(),this.#eV.delete(t)}else for(let[e,{started:t,subscriber:r}]of this.#eV)t&&r.stop(),this.#eV.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#eG}destroy(){for(let e of(this.removeAllListeners(),this.#eJ.keys()))this._clearTimeout(e);this.#eG=!0}get paused(){return null!=this.#ej}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#e_=-1,null!=this.#ej){if(!!e==this.#ej)return;ss(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let t of(this._forEachSubscriber(t=>t.pause(e)),this.#ej=!!e,this.#eJ.values()))t.timer&&clearTimeout(t.timer),t.time=pJ()-t.time}resume(){if(null!=this.#ej)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#ej=null,this.#eJ.values())){let t=e.time;t<0&&(t=0),e.time=pJ(),setTimeout(e.func,t)}}}function p$(e,t){if("0x"===e)return null;try{let r=sz(sv(e,t,t+32)),n=sz(sv(e,r,r+32));return sv(e,r+32,r+32+n)}catch(e){}return null}function pY(e){let t=sQ(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}let pZ=new Uint8Array([]),pX="0x0000000000000000000000000000000000000000000000000000000000000000";function p0(e,t){if(e.provider)return e.provider;ss(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function p1(e,t){let r=cO(t);if(null!=r.to&&(r.to=cy(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),cy(t,e)]).then(([e,t])=>(so(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await se(r)}class p2{provider;constructor(e){st(this,{provider:e||null})}async getNonce(e){return p0(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await p1(this,e)}async populateTransaction(e){let t=p0(this,"populateTransaction"),r=await p1(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let n=await this.provider.getNetwork();null!=r.chainId?so(sV(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=n.chainId;let i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||i)?so(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&i&&so(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();ss(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type)if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas)if(r.authorizationList&&r.authorizationList.length?r.type=4:r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas);else null!=e.gasPrice?(ss(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):ss(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(2===r.type||3===r.type||4===r.type)&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await se(r)}async populateAuthorization(e){let t=Object.assign({},e);return null==t.chainId&&(t.chainId=(await p0(this,"getNetwork").getNetwork()).chainId),null==t.nonce&&(t.nonce=await this.getNonce()),t}async estimateGas(e){return p0(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return p0(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=p0(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=p0(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let n=pd.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}authorize(e){ss(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}class p5 extends p2{address;constructor(e,t){super(t),st(this,{address:e})}async getAddress(){return this.address}connect(e){return new p5(this.address,e)}#e2(e,t){ss(!1,`VoidSigner cannot sign ${e}`,"UNSUPPORTED_OPERATION",{operation:t})}async signTransaction(e){this.#e2("transactions","signTransaction")}async signMessage(e){this.#e2("messages","signMessage")}async signTypedData(e,t,r){this.#e2("typed-data","signTypedData")}}class p3{#eS;#e5;#eI;#eU;#e3;#e4;constructor(e){this.#eS=e,this.#e5=null,this.#eI=this.#eD.bind(this),this.#eU=!1,this.#e3=null,this.#e4=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,t){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #eD(e){try{null==this.#e5&&(this.#e5=this._subscribe(this.#eS));let e=null;try{e=await this.#e5}catch(e){if(!sn(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#e5=null,this.#eS._recoverSubscriber(this,this._recover(this.#eS));return}let t=await this.#eS.getNetwork();if(this.#e3||(this.#e3=t),this.#e3.chainId!==t.chainId)throw Error("chaid changed");if(this.#e4)return;let r=await this.#eS.send("eth_getFilterChanges",[e]);await this._emitResults(this.#eS,r)}catch(e){console.log("@TODO",e)}this.#eS.once("block",this.#eI)}#e6(){let e=this.#e5;e&&(this.#e5=null,e.then(e=>{this.#eS.destroyed||this.#eS.send("eth_uninstallFilter",[e])}))}start(){this.#eU||(this.#eU=!0,this.#eD(-2))}stop(){this.#eU&&(this.#eU=!1,this.#e4=!0,this.#e6(),this.#eS.off("block",this.#eI))}pause(e){e&&this.#e6(),this.#eS.off("block",this.#eI)}resume(){this.start()}}class p4 extends p3{#e8;constructor(e,t){super(e),this.#e8=JSON.parse(JSON.stringify(t))}_recover(e){return new pj(e,this.#e8)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e8])}async _emitResults(e,t){for(let r of t)e.emit(this.#e8,e._wrapLog(r,e._network))}}class p6 extends p3{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}}let p8="bigint,boolean,function,number,string,symbol".split(/,/g);function p9(e){if(null==e||p8.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(p9);if("object"==typeof e)return Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{});throw Error(`should not happen: ${e} (${typeof e})`)}function p7(e){return e?e.toLowerCase():e}function me(e){return e&&"number"==typeof e.pollingInterval}let mt={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class mr extends p2{address;constructor(e,t){super(e),st(this,{address:t=o0(t)})}connect(e){ss(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=p9(e),r=[];if(t.from){let n=t.from;r.push((async()=>{let r=await cy(n,this.provider);so(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){let e=t.to;r.push((async()=>{t.to=await cy(e,this.provider)})())}r.length&&await Promise.all(r);let n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((e,n)=>{let i=[1e3,100],a=0,s=async()=>{try{let n=await this.provider.getTransaction(r);if(null!=n)return void e(n.replaceableTransaction(t))}catch(e){if(sn(e,"CANCELLED")||sn(e,"BAD_DATA")||sn(e,"NETWORK_ERROR")||sn(e,"UNSUPPORTED_OPERATION")){null==e.info&&(e.info={}),e.info.sendTransactionHash=r,n(e);return}if(sn(e,"INVALID_ARGUMENT")&&(a++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,a>10))return void n(e);this.provider.emit("error",sa("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{s()},i.pop()||4e3)};s()})}async signTransaction(e){let t=p9(e);if(t.from){let r=await cy(t.from,this.provider);so(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t="string"==typeof e?sC(e):e;return await this.provider.send("personal_sign",[sg(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let n=p9(r),i=await fk.resolveNames(e,t,n,async e=>{let t=await cy(e);return so(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(fk.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t="string"==typeof e?sC(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),sg(t)])}}class mn extends pq{#u;#e9;#e7;#te;#tt;#e3;#tr;#tn(){if(this.#te)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#te=setTimeout(()=>{this.#te=null;let e=this.#e7;for(this.#e7=[];e.length;){let t=[e.shift()];for(;e.length&&t.length!==this.#u.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map(e=>e.payload)).length>this.#u.batchMaxSize){e.unshift(t.pop());break}(async()=>{let e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let r=await this._send(e);for(let{resolve:e,reject:n,payload:i}of(this.emit("debug",{action:"receiveRpcResult",result:r}),t)){if(this.destroyed){n(sa("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}let t=r.filter(e=>e.id===i.id)[0];if(null==t){let e=sa("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),n(e);continue}if("error"in t){n(this.getRpcError(i,t));continue}e(t.result)}}catch(e){for(let{reject:r}of(this.emit("debug",{action:"receiveRpcError",error:e}),t))r(e)}})()}},e)}constructor(e,t){super(e,t),this.#e9=1,this.#u=Object.assign({},mt,t||{}),this.#e7=[],this.#te=null,this.#e3=null,this.#tr=null;{let e=null;const t=new Promise(t=>{e=t});this.#tt={promise:t,resolve:e}}const r=this._getOption("staticNetwork");"boolean"==typeof r?(so(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#e3=fY.from(e))):r&&(so(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#e3=r)}_getOption(e){return this.#u[e]}get _network(){return ss(this.#e3,"network is not available yet","NETWORK_ERROR"),this.#e3}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&sV(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){let r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}let t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;else if(this.#e3)return this.#e3}return this.#tr||(this.ready?this.#tr=(async()=>{try{let e=fY.from(sV(await this.send("eth_chainId",[])));return this.#tr=null,e}catch(e){throw this.#tr=null,e}})():this.#tr=(async()=>{let e,t={id:this.#e9++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#tr=null}catch(e){throw this.#tr=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return fY.from(sV(e.result));throw this.getRpcError(t,e)})()),await this.#tr}_start(){null!=this.#tt&&null!=this.#tt.resolve&&(this.#tt.resolve(),this.#tt=null,(async()=>{for(;null==this.#e3&&!this.destroyed;)try{this.#e3=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",sa("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#tn()})())}async _waitUntilReady(){if(null!=this.#tt)return await this.#tt.promise}_getSubscriber(e){return"pending"===e.type?new p6(this):"event"===e.type?this._getOption("polling")?new pj(this,e.filter):new p4(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new pK("orphan"):super._getSubscriber(e)}get ready(){return null==this.#tt}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=sJ(sV(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{null!=e[r]&&(t[r]=sg(e[r]))}),e.accessList&&(t.accessList=cN(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),e.authorizationList&&(t.authorizationList=e.authorizationList.map(e=>{let t=f1(e);return{address:t.address,nonce:sJ(t.nonce),chainId:sJ(t.chainId),yParity:sJ(t.signature.yParity),r:sJ(t.signature.r),s:sJ(t.signature.s)}})),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[p7(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[p7(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[p7(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[p7(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(p7):e.filter.address=p7(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let r,{method:n}=e,{error:i}=t;if("eth_estimateGas"===n&&i.message){let t=i.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return sa("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:i}});if(t.match(/nonce/i)&&t.match(/too low/i))return sa("nonce has already been used","NONCE_EXPIRED",{transaction:e.params[0],info:{payload:e,error:i}})}if("eth_call"===n||"eth_estimateGas"===n){let t=function e(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&sm(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(let r in t){let n=e(t[r]);if(n)return n}return null}if("string"==typeof t)try{return e(JSON.parse(t))}catch(e){}return null}(i),r=ct.getBuiltinCallException("eth_call"===n?"call":"estimateGas",e.params[0],t?t.data:null);return r.info={error:i,payload:e},r}let a=JSON.stringify((!function e(t,r){if(null!=t){if("string"==typeof t.message&&r.push(t.message),"object"==typeof t)for(let n in t)e(t[n],r);if("string"==typeof t)try{return e(JSON.parse(t),r)}catch(e){}}}(i,r=[]),r));if("string"==typeof i.message&&i.message.match(/user denied|ethers-user-denied/i))return sa("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:e,error:i}});if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){let t=e.params[0];if(a.match(/insufficient funds|base fee exceeds gas limit/i))return sa("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:i}});if(a.match(/nonce/i)&&a.match(/too low/i))return sa("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:i}});if(a.match(/replacement transaction/i)&&a.match(/underpriced/i))return sa("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:i}});if(a.match(/only replay-protected/i))return sa("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:t,info:{error:i}}})}let s=!!a.match(/the method .* does not exist/i);return(!s&&i&&i.details&&i.details.startsWith("Unauthorized method:")&&(s=!0),s)?sa("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:i,payload:e}}):sa("could not coalesce error","UNKNOWN_ERROR",{error:i,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(sa("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#e9++,n=new Promise((n,i)=>{this.#e7.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#tn(),n}async getSigner(e){null==e&&(e=0);let t=this.send("eth_accounts",[]);if("number"==typeof e){let r=await t;if(e>=r.length)throw Error("no such account");return new mr(this,r[e])}let{accounts:r}=await se({network:this.getNetwork(),accounts:t});for(let t of(e=o0(e),r))if(o0(t)===e)return new mr(this,e);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new mr(this,e))}destroy(){for(let{payload:e,reject:t}of(this.#te&&(clearTimeout(this.#te),this.#te=null),this.#e7))t(sa("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#e7=[],super.destroy()}}class mi extends mn{#ti;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=mt.pollingInterval),this.#ti=r}_getSubscriber(e){let t=super._getSubscriber(e);return me(t)&&(t.pollingInterval=this.#ti),t}get pollingInterval(){return this.#ti}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#ti=e,this._forEachSubscriber(e=>{me(e)&&(e.pollingInterval=this.#ti)})}}class ma extends mi{#ta;constructor(e,t,r){null==e&&(e="http://localhost:8545"),super(t,r),"string"==typeof e?this.#ta=new fj(e):this.#ta=e.clone()}_getConnection(){return this.#ta.clone()}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){let t=this._getConnection();t.body=JSON.stringify(e),t.setHeader("content-type","application/json");let r=await t.send();r.assertOk();let n=r.bodyJson;return Array.isArray(n)||(n=[n]),n}}let ms="9f7d929b018cdffb338517efa06f58359e86ff1ffd350bc889738523659e7972";class mo extends ma{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=fY.from(e);null==t&&(t=ms),super(mo.getRequest(r,t),r,{polling:!0,staticNetwork:r}),st(this,{apiKey:t})}_getProvider(e){try{return new mo(e,this.apiKey)}catch(e){}return super._getProvider(e)}static getRequest(e,t){null==t&&(t=ms);let r=new fj(`https://${function(e){switch(e){case"mainnet":return"rpc.ankr.com/eth";case"goerli":return"rpc.ankr.com/eth_goerli";case"sepolia":return"rpc.ankr.com/eth_sepolia";case"arbitrum":return"rpc.ankr.com/arbitrum";case"base":return"rpc.ankr.com/base";case"base-goerli":return"rpc.ankr.com/base_goerli";case"base-sepolia":return"rpc.ankr.com/base_sepolia";case"bnb":return"rpc.ankr.com/bsc";case"bnbt":return"rpc.ankr.com/bsc_testnet_chapel";case"filecoin":return"rpc.ankr.com/filecoin";case"filecoin-calibration":return"rpc.ankr.com/filecoin_testnet";case"matic":return"rpc.ankr.com/polygon";case"matic-mumbai":return"rpc.ankr.com/polygon_mumbai";case"optimism":return"rpc.ankr.com/optimism";case"optimism-goerli":return"rpc.ankr.com/optimism_testnet";case"optimism-sepolia":return"rpc.ankr.com/optimism_sepolia"}so(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===ms&&(r.retryFunc=async(e,t,r)=>(fK("AnkrProvider"),!0)),r}getRpcError(e,t){return"eth_sendRawTransaction"===e.method&&t&&t.error&&"INTERNAL_ERROR: could not replace existing tx"===t.error.message&&(t.error.message="replacement transaction underpriced"),super.getRpcError(e,t)}isCommunityResource(){return this.apiKey===ms}}let ml="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class mc extends ma{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=fY.from(e);null==t&&(t=ml),super(mc.getRequest(r,t),r,{staticNetwork:r}),st(this,{apiKey:t})}_getProvider(e){try{return new mc(e,this.apiKey)}catch(e){}return super._getProvider(e)}async _perform(e){if("getTransactionResult"===e.method){let t,{trace:r,tx:n}=await se({trace:this.send("trace_transaction",[e.hash]),tx:this.getTransaction(e.hash)});if(null==r||null==n)return null;let i=!1;try{t=r[0].result.output,i="Reverted"===r[0].error}catch(e){}if(t)return ss(!i,"an error occurred during transaction executions","CALL_EXCEPTION",{action:"getTransactionResult",data:t,reason:null,transaction:n,invocation:null,revert:null}),t;ss(!1,"could not parse trace result","BAD_DATA",{value:r})}return await super._perform(e)}isCommunityResource(){return this.apiKey===ml}static getRequest(e,t){null==t&&(t=ml);let r=new fj(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.g.alchemy.com";case"goerli":return"eth-goerli.g.alchemy.com";case"sepolia":return"eth-sepolia.g.alchemy.com";case"arbitrum":return"arb-mainnet.g.alchemy.com";case"arbitrum-goerli":return"arb-goerli.g.alchemy.com";case"arbitrum-sepolia":return"arb-sepolia.g.alchemy.com";case"base":return"base-mainnet.g.alchemy.com";case"base-goerli":return"base-goerli.g.alchemy.com";case"base-sepolia":return"base-sepolia.g.alchemy.com";case"matic":return"polygon-mainnet.g.alchemy.com";case"matic-amoy":return"polygon-amoy.g.alchemy.com";case"matic-mumbai":return"polygon-mumbai.g.alchemy.com";case"optimism":return"opt-mainnet.g.alchemy.com";case"optimism-goerli":return"opt-goerli.g.alchemy.com";case"optimism-sepolia":return"opt-sepolia.g.alchemy.com"}so(!1,"unsupported network","network",e)}(e.name)}/v2/${t}`);return r.allowGzip=!0,t===ml&&(r.retryFunc=async(e,t,r)=>(fK("alchemy"),!0)),r}}function mu(e){switch(e){case"mainnet":return"39f1d67cedf8b7831010a665328c9197";case"arbitrum":return"0550c209db33c3abf4cc927e1e18cea1";case"bnb":return"98b5a77e531614387366f6fc5da097f8";case"matic":return"cd9d4d70377471aa7c142ec4a4205249"}so(!1,"unsupported network","network",e)}class md extends ma{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=fY.from(e);null==t&&(t=mu(r.name)),super(md.getRequest(r,t),r,{staticNetwork:r}),st(this,{apiKey:t})}_getProvider(e){try{return new md(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.apiKey===mu(this._network.name)}static getRequest(e,t){null==t&&(t=mu(e.name));let r=new fj(`https://${function(e){switch(e){case"mainnet":return"ethereum-mainnet.core.chainstack.com";case"arbitrum":return"arbitrum-mainnet.core.chainstack.com";case"bnb":return"bsc-mainnet.core.chainstack.com";case"matic":return"polygon-mainnet.core.chainstack.com"}so(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===mu(e.name)&&(r.retryFunc=async(e,t,r)=>(fK("ChainstackProvider"),!0)),r}}class mh extends ma{constructor(e){null==e&&(e="mainnet");const t=fY.from(e);so("mainnet"===t.name,"unsupported network","network",e),super("https://cloudflare-eth.com/",t,{staticNetwork:t})}}let mf="1 11155111 17000 560048 2741 11124 33111 33139 42170 42161 421614 43114 43113 8453 84532 80069 80094 199 1029 81457 168587773 56 97 42220 11142220 252 2523 100 999 737373 747474 59144 59141 5000 5003 43521 143 10143 1287 1284 1285 10 11155420 204 5611 80002 137 534352 534351 1329 1328 146 14601 988 2201 1923 1924 167013 167000 130 1301 480 4801 51 50 324 300".split(/ /g),mp="org.ethers.plugins.provider.Etherscan";class mm extends f_{baseUrl;constructor(e){super(mp),st(this,{baseUrl:e})}clone(){return new mm(this.baseUrl)}}let mx=["enableCcipRead"],my=1;class mg extends pq{network;apiKey;#ts;constructor(e,t){super();const r=fY.from(e);so(mf.indexOf(`${r.chainId}`)>=0,"unsupported network","network",r),this.#ts=r.getPlugin(mp),st(this,{apiKey:null!=t?t:null,network:r})}getBaseUrl(){if(this.#ts)return this.#ts.baseUrl;switch(this.network.name){case"mainnet":return"https://api.etherscan.io";case"goerli":return"https://api-goerli.etherscan.io";case"sepolia":return"https://api-sepolia.etherscan.io";case"holesky":return"https://api-holesky.etherscan.io";case"arbitrum":return"https://api.arbiscan.io";case"arbitrum-goerli":return"https://api-goerli.arbiscan.io";case"base":return"https://api.basescan.org";case"base-sepolia":return"https://api-sepolia.basescan.org";case"bnb":return"https://api.bscscan.com";case"bnbt":return"https://api-testnet.bscscan.com";case"matic":return"https://api.polygonscan.com";case"matic-amoy":return"https://api-amoy.polygonscan.com";case"matic-mumbai":return"https://api-testnet.polygonscan.com";case"optimism":return"https://api-optimistic.etherscan.io";case"optimism-goerli":return"https://api-goerli-optimistic.etherscan.io"}so(!1,"unsupported network","network",this.network)}getUrl(e,t){let r=Object.keys(t).reduce((e,r)=>{let n=t[r];return null!=n&&(e+=`&${r}=${n}`),e},"");return this.apiKey&&(r+=`&apikey=${this.apiKey}`),`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}&module=${e}${r}`}getPostUrl(){return`https://api.etherscan.io/v2/api?chainid=${this.network.chainId}`}getPostData(e,t){return t.module=e,t.apikey=this.apiKey,t.chainid=this.network.chainId,t}async detectNetwork(){return this.network}async fetch(e,t,r){let n=my++,i=r?this.getPostUrl():this.getUrl(e,t),a=r?this.getPostData(e,t):null;this.emit("debug",{action:"sendRequest",id:n,url:i,payload:a});let s=new fj(i);s.setThrottleParams({slotInterval:1e3}),s.retryFunc=(e,t,r)=>(this.isCommunityResource()&&fK("Etherscan"),Promise.resolve(!0)),s.processFunc=async(t,r)=>{let i=r.hasBody()?JSON.parse(sS(r.body)):{},a=("string"==typeof i.result?i.result:"").toLowerCase().indexOf("rate limit")>=0;return"proxy"===e?i&&0==i.status&&"NOTOK"==i.message&&a&&(this.emit("debug",{action:"receiveError",id:n,reason:"proxy-NOTOK",error:i}),r.throwThrottleError(i.result,2e3)):a&&(this.emit("debug",{action:"receiveError",id:n,reason:"null result",error:i.result}),r.throwThrottleError(i.result,2e3)),r},a&&(s.setHeader("content-type","application/x-www-form-urlencoded; charset=UTF-8"),s.body=Object.keys(a).map(e=>`${e}=${a[e]}`).join("&"));let o=await s.send();try{o.assertOk()}catch(e){this.emit("debug",{action:"receiveError",id:n,error:e,reason:"assertOk"}),ss(!1,"response error","SERVER_ERROR",{request:s,response:o})}o.hasBody()||(this.emit("debug",{action:"receiveError",id:n,error:"missing body",reason:"null body"}),ss(!1,"missing response","SERVER_ERROR",{request:s,response:o}));let l=JSON.parse(sS(o.body));return"proxy"===e?("2.0"!=l.jsonrpc&&(this.emit("debug",{action:"receiveError",id:n,result:l,reason:"invalid JSON-RPC"}),ss(!1,"invalid JSON-RPC response (missing jsonrpc='2.0')","SERVER_ERROR",{request:s,response:o,info:{result:l}})),l.error&&(this.emit("debug",{action:"receiveError",id:n,result:l,reason:"JSON-RPC error"}),ss(!1,"error response","SERVER_ERROR",{request:s,response:o,info:{result:l}}))):0==l.status&&("No records found"===l.message||"No transactions found"===l.message)||1==l.status&&("string"!=typeof l.message||l.message.match(/^OK/))||(this.emit("debug",{action:"receiveError",id:n,result:l}),ss(!1,"error response","SERVER_ERROR",{request:s,response:o,info:{result:l}})),this.emit("debug",{action:"receiveRequest",id:n,result:l}),l.result}_getTransactionPostData(e){let t={};for(let r in e){if(mx.indexOf(r)>=0||null==e[r])continue;let n=e[r];if(("type"!==r||0!==n)&&("blockTag"!==r||"latest"!==n)){if(({type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0})[r])n=sJ(n);else if("accessList"===r)n="["+cN(n).map(e=>`{address:"${e.address}",storageKeys:["${e.storageKeys.join('","')}"]}`).join(",")+"]";else if("blobVersionedHashes"===r){if(0===n.length)continue;ss(!1,"Etherscan API does not support blobVersionedHashes","UNSUPPORTED_OPERATION",{operation:"_getTransactionPostData",info:{transaction:e}})}else n=sg(n);t[r]=n}}return t}_checkError(e,t,r){let n="";if(sn(t,"SERVER_ERROR")){try{n=t.info.result.error.message}catch(e){}if(!n)try{n=t.info.message}catch(e){}}if("estimateGas"===e.method&&!n.match(/revert/i)&&n.match(/insufficient funds/i)&&ss(!1,"insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.transaction}),("call"===e.method||"estimateGas"===e.method)&&n.match(/execution reverted/i)){let r="";try{r=t.info.result.error.data}catch(e){}let n=ct.getBuiltinCallException(e.method,e.transaction,r);throw n.info={request:e,error:t},n}if(n&&"broadcastTransaction"===e.method){let t=pd.from(e.signedTransaction);n.match(/replacement/i)&&n.match(/underpriced/i)&&ss(!1,"replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t}),n.match(/insufficient funds/)&&ss(!1,"insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t}),n.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&ss(!1,"nonce has already been used","NONCE_EXPIRED",{transaction:t})}throw t}async _detectNetwork(){return this.network}async _perform(e){switch(e.method){case"chainId":return this.network.chainId;case"getBlockNumber":return this.fetch("proxy",{action:"eth_blockNumber"});case"getGasPrice":return this.fetch("proxy",{action:"eth_gasPrice"});case"getPriorityFee":if("mainnet"===this.network.name)return"1000000000";if("optimism"===this.network.name)return"1000000";throw Error("fallback onto the AbstractProvider default");case"getBalance":return this.fetch("account",{action:"balance",address:e.address,tag:e.blockTag});case"getTransactionCount":return this.fetch("proxy",{action:"eth_getTransactionCount",address:e.address,tag:e.blockTag});case"getCode":return this.fetch("proxy",{action:"eth_getCode",address:e.address,tag:e.blockTag});case"getStorage":return this.fetch("proxy",{action:"eth_getStorageAt",address:e.address,position:e.position,tag:e.blockTag});case"broadcastTransaction":return this.fetch("proxy",{action:"eth_sendRawTransaction",hex:e.signedTransaction},!0).catch(t=>this._checkError(e,t,e.signedTransaction));case"getBlock":if("blockTag"in e)return this.fetch("proxy",{action:"eth_getBlockByNumber",tag:e.blockTag,boolean:e.includeTransactions?"true":"false"});ss(!1,"getBlock by blockHash not supported by Etherscan","UNSUPPORTED_OPERATION",{operation:"getBlock(blockHash)"});case"getTransaction":return this.fetch("proxy",{action:"eth_getTransactionByHash",txhash:e.hash});case"getTransactionReceipt":return this.fetch("proxy",{action:"eth_getTransactionReceipt",txhash:e.hash});case"call":{if("latest"!==e.blockTag)throw Error("EtherscanProvider does not support blockTag for call");let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_call";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}case"estimateGas":{let t=this._getTransactionPostData(e.transaction);t.module="proxy",t.action="eth_estimateGas";try{return await this.fetch("proxy",t,!0)}catch(t){return this._checkError(e,t,e.transaction)}}}return super._perform(e)}async getNetwork(){return this.network}async getEtherPrice(){return"mainnet"!==this.network.name?0:parseFloat((await this.fetch("stats",{action:"ethprice"})).ethusd)}async getContract(e){var t;let r=this._getAddress(e);(t=r)&&"function"==typeof t.then&&(r=await r);try{let e=await this.fetch("contract",{action:"getabi",address:r}),t=JSON.parse(e);return new ua(r,t,this)}catch(e){return null}}isCommunityResource(){return null==this.apiKey}}let mb=("undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g).WebSocket;class mw{#eS;#P;get filter(){return JSON.parse(this.#P)}#to;#tl;#tc;constructor(e,t){this.#eS=e,this.#P=JSON.stringify(t),this.#to=null,this.#tl=null,this.#tc=null}start(){this.#to=this.#eS.send("eth_subscribe",this.filter).then(e=>(this.#eS._register(e,this),e))}stop(){this.#to.then(e=>{this.#eS.destroyed||this.#eS.send("eth_unsubscribe",[e])}),this.#to=null}pause(e){ss(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),this.#tl=!!e}resume(){this.#tl=null}_handleMessage(e){if(null!=this.#to&&null===this.#tl){let t=this.#tc;t=null==t?this._emit(this.#eS,e):t.then(async()=>{await this._emit(this.#eS,e)}),this.#tc=t.then(()=>{this.#tc===t&&(this.#tc=null)})}}async _emit(e,t){throw Error("sub-classes must implemente this; _emit")}}class mv extends mw{constructor(e){super(e,["newHeads"])}async _emit(e,t){e.emit("block",parseInt(t.number))}}class mA extends mw{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,t){e.emit("pending",t)}}class mE extends mw{#tu;get logFilter(){return JSON.parse(this.#tu)}constructor(e,t){super(e,["logs",t]),this.#tu=JSON.stringify(t)}async _emit(e,t){e.emit(this.logFilter,e._wrapLog(t,e._network))}}class mT extends mn{#td;#eV;#th;constructor(e,t){const r=Object.assign({},null!=t?t:{});so(null==r.batchMaxCount||1===r.batchMaxCount,"sockets-based providers do not support batches","options.batchMaxCount",t),r.batchMaxCount=1,null==r.staticNetwork&&(r.staticNetwork=!0),super(e,r),this.#td=new Map,this.#eV=new Map,this.#th=new Map}_getSubscriber(e){switch(e.type){case"close":return new pK("close");case"block":return new mv(this);case"pending":return new mA(this);case"event":return new mE(this,e.filter);case"orphan":if("drop-log"===e.filter.orphan)return new pK("drop-log")}return super._getSubscriber(e)}_register(e,t){this.#eV.set(e,t);let r=this.#th.get(e);if(r){for(let e of r)t._handleMessage(e);this.#th.delete(e)}}async _send(e){so(!Array.isArray(e),"WebSocket does not support batch send","payload",e);let t=new Promise((t,r)=>{this.#td.set(e.id,{payload:e,resolve:t,reject:r})});return await this._waitUntilReady(),await this._write(JSON.stringify(e)),[await t]}async _processMessage(e){let t=JSON.parse(e);if(t&&"object"==typeof t&&"id"in t){let e=this.#td.get(t.id);if(null==e)return void this.emit("error",sa("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:t}));this.#td.delete(t.id),e.resolve(t)}else{if(!t||"eth_subscription"!==t.method)return void this.emit("error",sa("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:t}));let e=t.params.subscription,r=this.#eV.get(e);if(r)r._handleMessage(t.params.result);else{let r=this.#th.get(e);null==r&&(r=[],this.#th.set(e,r)),r.push(t.params.result)}}}async _write(e){throw Error("sub-classes must override this")}}class mk extends mT{#ta;#tf;get websocket(){if(null==this.#tf)throw Error("websocket closed");return this.#tf}constructor(e,t,r){super(t,r),"string"==typeof e?(this.#ta=()=>new mb(e),this.#tf=this.#ta()):"function"==typeof e?(this.#ta=e,this.#tf=e()):(this.#ta=null,this.#tf=e),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(e){console.log("failed to start WebsocketProvider",e)}},this.websocket.onmessage=e=>{this._processMessage(e.data)}}async _write(e){this.websocket.send(e)}async destroy(){null!=this.#tf&&(this.#tf.close(),this.#tf=null),super.destroy()}}let mP="84842078b09946638c03157f83405213";class mN extends mk{projectId;projectSecret;constructor(e,t){const r=new mR(e,t),n=r._getConnection();ss(!n.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"}),super(n.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/"),r._network),st(this,{projectId:r.projectId,projectSecret:r.projectSecret})}isCommunityResource(){return this.projectId===mP}}class mR extends ma{projectId;projectSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=fY.from(e);null==t&&(t=mP),null==r&&(r=null),super(mR.getRequest(n,t,r),n,{staticNetwork:n}),st(this,{projectId:t,projectSecret:r})}_getProvider(e){try{return new mR(e,this.projectId,this.projectSecret)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.projectId===mP}static getWebSocketProvider(e,t){return new mN(e,t)}static getRequest(e,t,r){null==t&&(t=mP),null==r&&(r=null);let n=new fj(`https://${function(e){switch(e){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":case"base-goerli":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bsc-mainnet.infura.io";case"bnbt":return"bsc-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}so(!1,"unsupported network","network",e)}(e.name)}/v3/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===mP&&(n.retryFunc=async(e,t,r)=>(fK("InfuraProvider"),!0)),n}}let mC="919b412a057b5e9c9b6dce193c5a60242d6efadb";class mS extends ma{token;constructor(e,t){null==e&&(e="mainnet");const r=fY.from(e);null==t&&(t=mC),super(mS.getRequest(r,t),r,{staticNetwork:r}),st(this,{token:t})}_getProvider(e){try{return new mS(e,this.token)}catch(e){}return super._getProvider(e)}isCommunityResource(){return this.token===mC}static getRequest(e,t){null==t&&(t=mC);let r=new fj(`https://${function(e){switch(e){case"mainnet":return"ethers.quiknode.pro";case"goerli":return"ethers.ethereum-goerli.quiknode.pro";case"sepolia":return"ethers.ethereum-sepolia.quiknode.pro";case"holesky":return"ethers.ethereum-holesky.quiknode.pro";case"arbitrum":return"ethers.arbitrum-mainnet.quiknode.pro";case"arbitrum-goerli":return"ethers.arbitrum-goerli.quiknode.pro";case"arbitrum-sepolia":return"ethers.arbitrum-sepolia.quiknode.pro";case"base":return"ethers.base-mainnet.quiknode.pro";case"base-goerli":return"ethers.base-goerli.quiknode.pro";case"base-spolia":return"ethers.base-sepolia.quiknode.pro";case"bnb":return"ethers.bsc.quiknode.pro";case"bnbt":return"ethers.bsc-testnet.quiknode.pro";case"matic":return"ethers.matic.quiknode.pro";case"matic-mumbai":return"ethers.matic-testnet.quiknode.pro";case"optimism":return"ethers.optimism.quiknode.pro";case"optimism-goerli":return"ethers.optimism-goerli.quiknode.pro";case"optimism-sepolia":return"ethers.optimism-sepolia.quiknode.pro";case"xdai":return"ethers.xdai.quiknode.pro"}so(!1,"unsupported network","network",e)}(e.name)}/${t}`);return r.allowGzip=!0,t===mC&&(r.retryFunc=async(e,t,r)=>(fK("QuickNodeProvider"),!0)),r}}let mI=BigInt("1"),mO=BigInt("2");function mB(){return new Date().getTime()}function mD(e){return JSON.stringify(e,(e,t)=>"bigint"==typeof t?{type:"bigint",value:t.toString()}:t)}let mU={stallTimeout:400,priority:1,weight:1},mM={blockNumber:-2,requests:0,lateResponses:0,errorResponses:0,outOfSync:-1,unsupportedEvents:0,rollingDuration:0,score:0,_network:null,_updateNumber:null,_totalTime:0,_lastFatalError:null,_lastFatalErrorTimestamp:0};async function mF(e,t){for(;(e.blockNumber<0||e.blockNumber<t)&&(e._updateNumber||(e._updateNumber=(async()=>{try{let t=await e.provider.getBlockNumber();t>e.blockNumber&&(e.blockNumber=t)}catch(t){e.blockNumber=-2,e._lastFatalError=t,e._lastFatalErrorTimestamp=mB()}e._updateNumber=null})()),await e._updateNumber,e.outOfSync++,!e._lastFatalError););}function mL(e){if(null==e)return"null";if(Array.isArray(e))return"["+e.map(mL).join(",")+"]";if("object"==typeof e&&"function"==typeof e.toJSON)return mL(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":case"number":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{"+t.map(t=>`${JSON.stringify(t)}:${mL(e[t])}`).join(",")+"}"}}throw console.log("Could not serialize",e),Error("Hmm...")}function mV(e,t){if("error"in t){let e=t.error;return{tag:sn(e,"CALL_EXCEPTION")?mL(Object.assign({},e,{shortMessage:void 0,reason:void 0,info:void 0})):mL(e),value:e}}let r=t.result;return{tag:mL(r),value:r}}function mj(e,t){let r=new Map;for(let{value:e,tag:n,weight:i}of t){let t=r.get(n)||{value:e,weight:0};t.weight+=i,r.set(n,t)}let n=null;for(let t of r.values())t.weight>=e&&(!n||t.weight>n.weight)&&(n=t);if(n)return n.value}function mG(e,t){let r=0,n=new Map,i=null,a=[];for(let{value:e,tag:s,weight:o}of t)if(e instanceof Error){let t=n.get(s)||{value:e,weight:0};t.weight+=o,n.set(s,t),(null==i||t.weight>i.weight)&&(i=t)}else a.push(BigInt(e)),r+=o;if(r<e)return i&&i.weight>=e?i.value:void 0;a.sort((e,t)=>e<t?-1:+(t>e));let s=Math.floor(a.length/2);return a.length%2?a[s]:(a[s-1]+a[s]+mI)/mO}function mH(e,t){let r=mj(e,t);if(void 0!==r)return r;for(let e of t)if(e.value)return e.value}class mz extends pq{quorum;eventQuorum;eventWorkers;#tp;#tm;#tx;constructor(e,t,r){super(t,r),this.#tp=e.map(e=>e instanceof pq?Object.assign({provider:e},mU,mM):Object.assign({},mU,e,mM)),this.#tm=-2,this.#tx=null,r&&null!=r.quorum?this.quorum=r.quorum:this.quorum=Math.ceil(this.#tp.reduce((e,t)=>e+=t.weight,0)/2),this.eventQuorum=1,this.eventWorkers=1,so(this.quorum<=this.#tp.reduce((e,t)=>e+t.weight,0),"quorum exceed provider weight","quorum",this.quorum)}get providerConfigs(){return this.#tp.map(e=>{let t=Object.assign({},e);for(let e in t)"_"===e[0]&&delete t[e];return t})}async _detectNetwork(){return fY.from(sV(await this._perform({method:"chainId"})))}async _translatePerform(e,t){switch(t.method){case"broadcastTransaction":return await e.broadcastTransaction(t.signedTransaction);case"call":return await e.call(Object.assign({},t.transaction,{blockTag:t.blockTag}));case"chainId":return(await e.getNetwork()).chainId;case"estimateGas":return await e.estimateGas(t.transaction);case"getBalance":return await e.getBalance(t.address,t.blockTag);case"getBlock":{let r="blockHash"in t?t.blockHash:t.blockTag;return await e.getBlock(r,t.includeTransactions)}case"getBlockNumber":return await e.getBlockNumber();case"getCode":return await e.getCode(t.address,t.blockTag);case"getGasPrice":return(await e.getFeeData()).gasPrice;case"getPriorityFee":return(await e.getFeeData()).maxPriorityFeePerGas;case"getLogs":return await e.getLogs(t.filter);case"getStorage":return await e.getStorage(t.address,t.position,t.blockTag);case"getTransaction":return await e.getTransaction(t.hash);case"getTransactionCount":return await e.getTransactionCount(t.address,t.blockTag);case"getTransactionReceipt":return await e.getTransactionReceipt(t.hash);case"getTransactionResult":return await e.getTransactionResult(t.hash)}}#ty(e){let t=Array.from(e).map(e=>e.config),r=this.#tp.slice();for(let e=r.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1)),n=r[e];r[e]=r[t],r[t]=n}for(let e of(r.sort((e,t)=>e.priority-t.priority),r))if(!e._lastFatalError&&-1===t.indexOf(e))return e;return null}#tg(e,t){let r=this.#ty(e);if(null==r)return null;let n={config:r,result:null,didBump:!1,perform:null,staller:null},i=mB();return n.perform=(async()=>{try{r.requests++,n.result={result:await this._translatePerform(r.provider,t)}}catch(e){r.errorResponses++,n.result={error:e}}let e=mB()-i;r._totalTime+=e,r.rollingDuration=.95*r.rollingDuration+.05*e,n.perform=null})(),n.staller=(async()=>{var e;await (e=r.stallTimeout,new Promise(t=>{setTimeout(t,e)})),n.staller=null})(),e.add(n),n}async #tb(){let e=this.#tx;if(!e){let t=[];this.#tp.forEach(e=>{t.push((async()=>{await mF(e,0),e._lastFatalError||(e._network=await e.provider.getNetwork())})())}),this.#tx=e=(async()=>{await Promise.all(t);let e=null;for(let t of this.#tp){if(t._lastFatalError)continue;let r=t._network;null==e?e=r.chainId:r.chainId!==e&&ss(!1,"cannot mix providers on different networks","UNSUPPORTED_OPERATION",{operation:"new FallbackProvider"})}})()}await e}async #tw(e,t){let r=[];for(let n of e)if(null!=n.result){let{tag:e,value:i}=mV(t.method,n.result);r.push({tag:e,value:i,weight:n.config.weight})}if(!(r.reduce((e,t)=>e+t.weight,0)<this.quorum)){switch(t.method){case"getBlockNumber":{-2===this.#tm&&(this.#tm=Math.ceil(sz(mG(this.quorum,this.#tp.filter(e=>!e._lastFatalError).map(e=>({value:e.blockNumber,tag:sz(e.blockNumber).toString(),weight:e.weight}))))));let e=function(e,t){let r;if(1===e)return sz(mG(e,t),"%internal");let n=new Map,i=(e,t)=>{let r=n.get(e)||{result:e,weight:0};r.weight+=t,n.set(e,r)};for(let{weight:e,value:r}of t){let t=sz(r);i(t-1,e),i(t,e),i(t+1,e)}let a=0;for(let{weight:t,result:i}of n.values())t>=e&&(t>a||null!=r&&t===a&&i>r)&&(a=t,r=i);return r}(this.quorum,r);if(void 0===e)return;return e>this.#tm&&(this.#tm=e),this.#tm}case"getGasPrice":case"getPriorityFee":case"estimateGas":return mG(this.quorum,r);case"getBlock":if("blockTag"in t&&"pending"===t.blockTag)return mH(this.quorum,r);return mj(this.quorum,r);case"call":case"chainId":case"getBalance":case"getTransactionCount":case"getCode":case"getStorage":case"getTransaction":case"getTransactionReceipt":case"getLogs":return mj(this.quorum,r);case"broadcastTransaction":return mH(this.quorum,r)}ss(!1,"unsupported method","UNSUPPORTED_OPERATION",{operation:`_perform(${mD(t.method)})`})}}async #tv(e,t){if(0===e.size)throw Error("no runners?!");let r=[],n=0;for(let t of e){if(t.perform&&r.push(t.perform),t.staller){r.push(t.staller);continue}!t.didBump&&(t.didBump=!0,n++)}let i=await this.#tw(e,t);if(void 0!==i){if(i instanceof Error)throw i;return i}for(let r=0;r<n;r++)this.#tg(e,t);return ss(r.length>0,"quorum not met","SERVER_ERROR",{request:"%sub-requests",info:{request:t,results:Array.from(e).map(e=>mD(e.result))}}),await Promise.race(r),await this.#tv(e,t)}async _perform(e){if("broadcastTransaction"===e.method){let t=this.#tp.map(e=>null),r=this.#tp.map(async({provider:r,weight:n},i)=>{try{let a=await r._perform(e);t[i]=Object.assign(mV(e.method,{result:a}),{weight:n})}catch(r){t[i]=Object.assign(mV(e.method,{error:r}),{weight:n})}});for(;;){for(let{value:e}of t.filter(e=>null!=e))if(!(e instanceof Error))return e;let e=mj(this.quorum,t.filter(e=>null!=e));if(sn(e,"INSUFFICIENT_FUNDS"))throw e;let n=r.filter((e,r)=>null==t[r]);if(0===n.length)break;await Promise.race(n)}let n=mH(this.quorum,t);if(ss(void 0!==n,"problem multi-broadcasting","SERVER_ERROR",{request:"%sub-requests",info:{request:e,results:t.map(mD)}}),n instanceof Error)throw n;return n}await this.#tb();let t=new Set,r=0;for(;;){let n=this.#tg(t,e);if(null==n||(r+=n.config.weight)>=this.quorum)break}let n=await this.#tv(t,e);for(let e of t)e.perform&&null==e.result&&e.config.lateResponses++;return n}async destroy(){for(let{provider:e}of this.#tp)e.destroy();super.destroy()}}let mK="goerli kovan sepolia classicKotti optimism-goerli arbitrum-goerli matic-mumbai bnbt".split(" ");function m_(e,t){null==t&&(t={});let r=e=>"-"!==t[e]&&("string"==typeof t.exclusive?e===t.exclusive:!Array.isArray(t.exclusive)||-1!==t.exclusive.indexOf(e));if("string"==typeof e&&e.match(/^https?:/))return new ma(e);if("string"==typeof e&&e.match(/^wss?:/)||e&&"function"==typeof e.send&&"function"==typeof e.close)return new mk(e);let n=null;try{n=fY.from(e)}catch(e){}let i=[];if(r("publicPolygon")&&n&&("matic"===n.name?i.push(new ma("https://polygon-rpc.com/",n,{staticNetwork:n})):"matic-amoy"===n.name&&i.push(new ma("https://rpc-amoy.polygon.technology/",n,{staticNetwork:n}))),r("alchemy"))try{i.push(new mc(e,t.alchemy))}catch(e){}if(r("ankr")&&null!=t.ankr)try{i.push(new mo(e,t.ankr))}catch(e){}if(r("chainstack"))try{i.push(new md(e,t.chainstack))}catch(e){}if(r("cloudflare"))try{i.push(new mh(e))}catch(e){}if(r("etherscan"))try{i.push(new mg(e,t.etherscan))}catch(e){}if(r("infura"))try{let r,n=t.infura;"object"==typeof n&&(r=n.projectSecret,n=n.projectId),i.push(new mR(e,n,r))}catch(e){}if(r("quicknode"))try{let r=t.quicknode;i.push(new mS(e,r))}catch(e){}if(ss(i.length,"unsupported default network","UNSUPPORTED_OPERATION",{operation:"getDefaultProvider"}),1===i.length)return i[0];let a=Math.floor(i.length/2);return a>2&&(a=2),n&&-1!==mK.indexOf(n.name)&&(a=1),t&&t.quorum&&(a=t.quorum),new mz(i,void 0,{quorum:a})}class mQ extends p2{signer;#tA;#tE;constructor(e){super(e.provider),st(this,{signer:e}),this.#tA=null,this.#tE=0}async getAddress(){return this.signer.getAddress()}connect(e){return new mQ(this.signer.connect(e))}async getNonce(e){if("pending"===e){null==this.#tA&&(this.#tA=super.getNonce("pending"));let e=this.#tE;return await this.#tA+e}return super.getNonce(e)}increment(){this.#tE++}reset(){this.#tE=0,this.#tA=null}async sendTransaction(e){let t=this.getNonce("pending");return this.increment(),(e=await this.signer.populateTransaction(e)).nonce=await t,await this.signer.sendTransaction(e)}signTransaction(e){return this.signer.signTransaction(e)}signMessage(e){return this.signer.signMessage(e)}signTypedData(e,t,r){return this.signer.signTypedData(e,t,r)}}class mJ extends mi{#er;#tT;constructor(e,t,r){const n=Object.assign({},null!=r?r:{},{batchMaxCount:1});so(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,n),this.#tT=null,r&&r.providerInfo&&(this.#tT=r.providerInfo),this.#er=async(t,r)=>{let n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{let t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}get providerInfo(){return this.#tT}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){so(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#er(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#er("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}static async discover(e){if(null==e&&(e={}),e.provider)return new mJ(e.provider);let t=e.window?e.window:"undefined"!=typeof window?window:null;if(null==t)return null;let r=e.anyProvider;if(r&&t.ethereum)return new mJ(t.ethereum);if(!("addEventListener"in t&&"dispatchEvent"in t&&"removeEventListener"in t))return null;let n=e.timeout?e.timeout:300;return 0===n?null:await new Promise((i,a)=>{let s=[],o=e=>{s.push(e.detail),r&&l()},l=()=>{if(clearTimeout(c),s.length)if(e&&e.filter){let t=e.filter(s.map(e=>Object.assign({},e.info)));if(null==t)i(null);else if(t instanceof mJ)i(t);else{let e=null;if(t.uuid&&(e=s.filter(e=>t.uuid===e.info.uuid)[0]),e){let{provider:t,info:r}=e;i(new mJ(t,void 0,{providerInfo:r}))}else a(sa("filter returned unknown info","UNSUPPORTED_OPERATION",{value:t}))}}else{let{provider:e,info:t}=s[0];i(new mJ(e,void 0,{providerInfo:t}))}else i(null);t.removeEventListener("eip6963:announceProvider",o)},c=setTimeout(()=>{l()},n);t.addEventListener("eip6963:announceProvider",o),t.dispatchEvent(new Event("eip6963:requestProvider"))})}}class mW extends ma{apiKey;constructor(e,t){null==e&&(e="mainnet");const r=fY.from(e);null==t&&(t=null),super(mW.getRequest(r),r,{staticNetwork:r}),st(this,{apiKey:t})}_getProvider(e){try{return new mW(e,this.apiKey)}catch(e){}return super._getProvider(e)}isCommunityResource(){return null===this.apiKey}getRpcRequest(e){let t=super.getRpcRequest(e);return t&&"eth_estimateGas"===t.method&&1==t.args.length&&(t.args=t.args.slice(),t.args.push("latest")),t}getRpcError(e,t){let r=t?t.error:null;if(r&&-32015===r.code&&!sm(r.data||"",!0)){let e={"assert(false)":"01","arithmetic underflow or overflow":"11","division or modulo by zero":"12","out-of-bounds array access; popping on an empty array":"31","out-of-bounds access of an array or bytesN":"32"},t="";"VM execution error."===r.message?t=e[r.data]||"":e[r.message||""]&&(t=e[r.message||""]),t&&(r.message+=` (reverted: ${r.data})`,r.data="0x4e487b7100000000000000000000000000000000000000000000000000000000000000"+t)}else r&&-32e3===r.code&&"wrong transaction nonce"===r.message&&(r.message+=" (nonce too low)");return super.getRpcError(e,t)}static getRequest(e){let t=new fj(function(e){switch(e){case"mainnet":return"https://eth.blockscout.com/api/eth-rpc";case"sepolia":return"https://eth-sepolia.blockscout.com/api/eth-rpc";case"holesky":return"https://eth-holesky.blockscout.com/api/eth-rpc";case"classic":return"https://etc.blockscout.com/api/eth-rpc";case"arbitrum":return"https://arbitrum.blockscout.com/api/eth-rpc";case"base":return"https://base.blockscout.com/api/eth-rpc";case"base-sepolia":return"https://base-sepolia.blockscout.com/api/eth-rpc";case"matic":return"https://polygon.blockscout.com/api/eth-rpc";case"optimism":return"https://optimism.blockscout.com/api/eth-rpc";case"optimism-sepolia":return"https://optimism-sepolia.blockscout.com/api/eth-rpc";case"xdai":return"https://gnosis.blockscout.com/api/eth-rpc"}so(!1,"unsupported network","network",e)}(e.name));return t.allowGzip=!0,t}}let mq="62e1ad51b37b8e00394bda3b";class m$ extends ma{applicationId;applicationSecret;constructor(e,t,r){null==e&&(e="mainnet");const n=fY.from(e);null==t&&(t=mq),null==r&&(r=null),super(m$.getRequest(n,t,r),n,{staticNetwork:n}),st(this,{applicationId:t,applicationSecret:r})}_getProvider(e){try{return new m$(e,this.applicationId,this.applicationSecret)}catch(e){}return super._getProvider(e)}static getRequest(e,t,r){null==t&&(t=mq);let n=new fj(`https://${function(e){switch(e){case"mainnet":return"eth-mainnet.gateway.pokt.network";case"goerli":return"eth-goerli.gateway.pokt.network";case"matic":return"poly-mainnet.gateway.pokt.network";case"matic-mumbai":return"polygon-mumbai-rpc.gateway.pokt.network"}so(!1,"unsupported network","network",e)}(e.name)}/v1/lb/${t}`);return n.allowGzip=!0,r&&n.setCredentials("",r),t===mq&&(n.retryFunc=async(e,t,r)=>(fK("PocketProvider"),!0)),n}isCommunityResource(){return this.applicationId===mq}}let mY,mZ=BigInt(-1),mX=BigInt(0),m0=BigInt(1),m1=BigInt(5),m2={},m5="0000";for(;m5.length<80;)m5+=m5;function m3(e){let t=m5;for(;t.length<e;)t+=t;return BigInt("1"+t.substring(0,e))}function m4(e,t,r){let n=BigInt(t.width);if(t.signed){let t=m0<<n-m0;ss(null==r||e>=-t&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=e>mX?sM(sL(e,n),n):-sM(sL(-e,n),n)}else{let t=m0<<n;ss(null==r||e>=0&&e<t,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:e}),e=(e%t+t)%t&t-m0}return e}function m6(e){"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,r=128,n=18;if("string"==typeof e)if("fixed"===e);else if("ufixed"===e)t=!1;else{let i=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);so(i,"invalid fixed format","format",e),t="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(e){let i=e,a=(e,t,r)=>null==i[e]?r:(so(typeof i[e]===t,"invalid fixed format ("+e+" not "+t+")","format."+e,i[e]),i[e]);t=a("signed","boolean",t),r=a("width","number",r),n=a("decimals","number",n)}so(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),so(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);let i=(t?"":"u")+"fixed"+String(r)+"x"+String(n);return{signed:t,width:r,decimals:n,name:i}}class m8{format;#tk;#tP;#tN;_value;constructor(e,t,r){sd(e,m2,"FixedNumber"),this.#tP=t,this.#tk=r;const n=function(e,t){let r="";e<mX&&(r="-",e*=mZ);let n=e.toString();if(0===t)return r+n;for(;n.length<=t;)n=m5+n;let i=n.length-t;for(n=n.substring(0,i)+"."+n.substring(i);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(t,r.decimals);st(this,{format:r.name,_value:n}),this.#tN=m3(r.decimals)}get signed(){return this.#tk.signed}get width(){return this.#tk.width}get decimals(){return this.#tk.decimals}get value(){return this.#tP}#tR(e){so(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#tC(e,t){return new m8(m2,e=m4(e,this.#tk,t),this.#tk)}#tS(e,t){return this.#tR(e),this.#tC(this.#tP+e.#tP,t)}addUnsafe(e){return this.#tS(e)}add(e){return this.#tS(e,"add")}#tI(e,t){return this.#tR(e),this.#tC(this.#tP-e.#tP,t)}subUnsafe(e){return this.#tI(e)}sub(e){return this.#tI(e,"sub")}#tO(e,t){return this.#tR(e),this.#tC(this.#tP*e.#tP/this.#tN,t)}mulUnsafe(e){return this.#tO(e)}mul(e){return this.#tO(e,"mul")}mulSignal(e){this.#tR(e);let t=this.#tP*e.#tP;return ss(t%this.#tN===mX,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#tC(t/this.#tN,"mulSignal")}#tB(e,t){return ss(e.#tP!==mX,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#tR(e),this.#tC(this.#tP*this.#tN/e.#tP,t)}divUnsafe(e){return this.#tB(e)}div(e){return this.#tB(e,"div")}divSignal(e){ss(e.#tP!==mX,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#tR(e);let t=this.#tP*this.#tN;return ss(t%e.#tP===mX,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#tC(t/e.#tP,"divSignal")}cmp(e){let t=this.value,r=e.value,n=this.decimals-e.decimals;return(n>0?r*=m3(n):n<0&&(t*=m3(-n)),t<r)?-1:+(t>r)}eq(e){return 0===this.cmp(e)}lt(e){return 0>this.cmp(e)}lte(e){return 0>=this.cmp(e)}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#tP;return this.#tP<mX&&(e-=this.#tN-m0),e=this.#tP/this.#tN*this.#tN,this.#tC(e,"floor")}ceiling(){let e=this.#tP;return this.#tP>mX&&(e+=this.#tN-m0),e=this.#tP/this.#tN*this.#tN,this.#tC(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;let t=this.decimals-e,r=m1*m3(t-1),n=this.value+r,i=m3(t);return m4(n=n/i*i,this.#tk,"round"),new m8(m2,n,this.#tk)}isZero(){return this.#tP===mX}isNegative(){return this.#tP<mX}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return m8.fromString(this.toString(),e)}static fromValue(e,t,r){let n=null==t?0:sz(t),i=m6(r),a=sV(e,"value"),s=n-i.decimals;if(s>0){let t=m3(s);ss(a%t===mX,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=t}else s<0&&(a*=m3(-s));return m4(a,i,"fromValue"),new m8(m2,a,i)}static fromString(e,t){let r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);so(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);let n=m6(t),i=r[2]||"0",a=r[3]||"";for(;a.length<n.decimals;)a+=m5;ss(a.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,n.decimals);let s=BigInt(r[1]+i+a);return m4(s,n,"fromString"),new m8(m2,s,n)}static fromBytes(e,t){let r=sH(sf(e,"value")),n=m6(t);return n.signed&&(r=sM(r,n.width)),m4(r,n,"fromBytes"),new m8(m2,r,n)}}let m9=["wei","kwei","mwei","gwei","szabo","finney","ether"];function m7(e,t){let r=18;if("string"==typeof t){let e=m9.indexOf(t);so(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=sz(t,"unit"));return m8.fromValue(e,r,{decimals:r,width:512}).toString()}function xe(e,t){so("string"==typeof e,"value must be a string","value",e);let r=18;if("string"==typeof t){let e=m9.indexOf(t);so(e>=0,"invalid unit","unit",t),r=3*e}else null!=t&&(r=sz(t,"unit"));return m8.fromString(e,{decimals:r,width:512}).value}function xt(e){return m7(e,18)}function xr(e){return xe(e,18)}function xn(e){let t=sf(e,"randomBytes");t[6]=15&t[6]|64,t[8]=63&t[8]|128;let r=sg(t);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}let xi=" !#$%&'()*+,-./<=>?@[]^_`{|}~",xa=/^[a-z]*$/i;function xs(e,t){let r=97;return e.reduce((e,n)=>(n===t?r++:n.match(xa)?e.push(String.fromCharCode(r)+n):(r=97,e.push(n)),e),[])}function xo(e){return so("0"===e[0],"unsupported auwl data","data",e),function(e,t){for(let r=xi.length-1;r>=0;r--)e=e.split(xi[r]).join(t.substring(2*r,2*r+2));let r=[],n=e.replace(/(:|([0-9])|([A-Z][a-z]*))/g,(e,t,n,i)=>{if(n)for(let e=parseInt(n);e>=0;e--)r.push(";");else r.push(t.toLowerCase());return""});if(n)throw Error(`leftovers: ${JSON.stringify(n)}`);return xs(xs(r,";"),":")}(e.substring(1+2*xi.length),e.substring(1,1+2*xi.length))}class xl{locale;constructor(e){st(this,{locale:e})}split(e){return e.toLowerCase().split(/\s+/g)}join(e){return e.join(" ")}}class xc extends xl{#t;#tD;constructor(e,t,r){super(e),this.#t=t,this.#tD=r,this.#tU=null}get _data(){return this.#t}_decodeWords(){return xo(this.#t)}#tU;#tM(){if(null==this.#tU){let e=this._decodeWords();if(lp(e.join("\n")+"\n")!==this.#tD)throw Error(`BIP39 Wordlist for ${this.locale} FAILED`);this.#tU=e}return this.#tU}getWord(e){let t=this.#tM();return so(e>=0&&e<t.length,`invalid word index: ${e}`,"index",e),t[e]}getWordIndex(e){return this.#tM().indexOf(e)}}let xu=null;class xd extends xc{constructor(){super("en","0erleonalorenseinceregesticitStanvetearctssi#ch2Athck&tneLl0And#Il.yLeOutO=S|S%b/ra@SurdU'0Ce[Cid|CountCu'Hie=IdOu,-Qui*Ro[TT]T%T*[Tu$0AptDD-tD*[Ju,M.UltV<)Vi)0Rob-0FairF%dRaid0A(EEntRee0Ead0MRRp%tS!_rmBumCoholErtI&LLeyLowMo,O}PhaReadySoT Ways0A>urAz(gOngOuntU'd0Aly,Ch%Ci|G G!GryIm$K!Noun)Nu$O` Sw T&naTiqueXietyY1ArtOlogyPe?P!Pro=Ril1ChCt-EaEnaGueMMedM%MyOundR<+Re,Ri=RowTTefa@Ti,Tw%k0KPe@SaultSetSi,SumeThma0H!>OmTa{T&dT.udeTra@0Ct]D.Gu,NtTh%ToTumn0Era+OcadoOid0AkeA*AyEsomeFulKw?d0Is:ByChel%C#D+GL<)Lc#y~MbooN<aNn RRelyRga(R*lSeS-SketTt!3A^AnAutyCau'ComeEfF%eG(Ha=H(dLie=LowLtN^Nef./TrayTt Twe&Y#d3Cyc!DKeNdOlogyRdR`Tt _{AdeAmeAnketA,EakE[IndOodO[omOu'UeUrUsh_rdAtDyIlMbNeNusOkO,Rd R(gRrowSsTtomUn)XY_{etA(AndA[A=EadEezeI{Id+IefIghtIngIskOccoliOk&OnzeOomO` OwnUsh2Bb!DdyD+tFf$oIldLbLkL!tNd!Nk Rd&Rg R,SS(e[SyTt Y Zz:Bba+B(B!CtusGeKe~LmM aMpNN$N)lNdyNn#NoeNvasNy#Pab!P.$Pta(RRb#RdRgoRpetRryRtSeShS(o/!Su$TT$ogT^Teg%yTt!UghtU'Ut]Ve3Il(gL yM|NsusNturyRe$Rta(_irAlkAmp]An+AosApt Ar+A'AtEapE{Ee'EfErryE,I{&IefIldIm}yOi)Oo'R#-U{!UnkUrn0G?Nnam#Rc!Tiz&TyVil_imApArifyAwAyE<ErkEv I{I|IffImbIn-IpO{OgO'O`OudOwnUbUmpU, Ut^_^A,C#utDeFfeeIlInL!@L%LumnMb(eMeMf%tM-Mm#Mp<yNc tNdu@NfirmNg*[N}@Nsid NtrolNv()OkOlPp PyR$ReRnR*@/Tt#U^UntryUp!Ur'Us(V Yo>_{Ad!AftAmA}AshAt AwlAzyEamEd.EekEwI{etImeIspIt-OpO[Ou^OwdUci$UelUi'Umb!Un^UshYY,$2BeLtu*PPbo?dRiousRr|Rta(R=Sh]/omTe3C!:DMa+MpN)Ng R(gShUght WnY3AlBa>BrisCadeCemb CideCl(eC%a>C*a'ErF&'F(eFyG*eLayLiv M<dMi'Ni$Nti,NyP?tP&dPos.P`PutyRi=ScribeS tSignSkSpair/royTailTe@VelopVi)Vo>3AgramAlAm#dAryCeE'lEtFf G.$Gn.yLemmaNn NosaurRe@RtSag*eScov Sea'ShSmi[S%d Splay/<)V tVideV%)Zzy5Ct%Cum|G~Lph(Ma(Na>NkeyN%OrSeUb!Ve_ftAg#AmaA,-AwEamE[IftIllInkIpI=OpUmY2CkMbNeR(g/T^Ty1Arf1Nam-:G G!RlyRnR`Sily/Sy1HoOlogyOnomy0GeItUca>1F%t0G1GhtTh 2BowD E@r-Eg<tEm|Eph<tEvat%I>Se0B?kBodyBra)Er+Ot]PloyPow Pty0Ab!A@DD![D%'EmyErgyF%)Ga+G(eH<)JoyLi,OughR-hRollSu*T Ti*TryVelope1Isode0U$Uip0AA'OdeOs]R%Upt0CapeSayS&)Ta>0Ern$H-s1Id&)IlOkeOl=1A@Amp!Ce[Ch<+C.eCludeCu'Ecu>Erci'Hau,Hib.I!I,ItOt-P<dPe@Pi*Pla(Po'P*[T&dTra0EEbrow:Br-CeCultyDeIntI`~L'MeMilyMousNNcyNtasyRmSh]TT$Th TigueUltV%.e3Atu*Bru?yD $EEdElMa!N)/iv$T^V W3B Ct]EldGu*LeLmLt N$NdNeNg NishReRmR,Sc$ShTT}[X_gAmeAshAtAv%EeIghtIpOatO{O%Ow UidUshY_mCusGIlLd~owOdOtR)Re,R+tRkRtu}RumRw?dSsil/ UndX_gi!AmeEqu|EshI&dIn+OgOntO,OwnOz&U.2ElNNnyRna)RyTu*:D+tInLaxy~ yMePRa+Rba+Rd&Rl-Rm|SSpTeTh U+Ze3N $NiusN*Nt!Nu(e/u*2O,0AntFtGg!Ng RaffeRlVe_dAn)A*A[IdeImp'ObeOomOryO=OwUe_tDde[LdOdO'RillaSpelSsipV nWn_bA)A(AntApeA[Av.yEatE&IdIefItOc yOupOwUnt_rdE[IdeIltIt?N3M:B.IrLfMm M, NdPpyRb%RdRshR=,TVeWkZ?d3AdAl`ArtAvyD+hogIght~oLmetLpNRo3Dd&Gh~NtPRe/%y5BbyCkeyLdLeLiday~owMeNeyOdPeRnRr%R'Sp.$/TelUrV 5BGeM<Mb!M%Nd*dNgryNtRd!RryRtSb<d3Brid:1EOn0EaEntifyLe2N%e4LLeg$L}[0A+Ita>M&'Mu}Pa@Po'Pro=Pul'0ChCludeComeC*a'DexD-a>Do%Du,ryF<tFl-tF%mHa!H .Iti$Je@JuryMa>N Noc|PutQuiryS<eSe@SideSpi*/$lTa@T e,ToVe,V.eVol=3On0L<dOla>Sue0Em1Ory:CketGu?RZz3AlousAns~yWel9BInKeUr}yY5D+I)MpNg!Ni%Nk/:Ng?oo3EnEpT^upY3CkDD}yNdNgdomSsTT^&TeTt&Wi4EeIfeO{Ow:BBelB%Dd DyKeMpNgua+PtopR+T T(UghUndryVaWWnWsu.Y Zy3Ad AfArnA=Ctu*FtGG$G&dIsu*M#NdNg`NsOp?dSs#Tt Vel3ArB tyBr?yC&'FeFtGhtKeMbM.NkOnQuid/Tt!VeZ?d5AdAnB, C$CkG-NelyNgOpTt yUdUn+VeY$5CkyGga+Mb N?N^Xury3R-s:Ch(eDG-G}tIdIlInJ%KeMm$NNa+Nda>NgoNs]Nu$P!Rb!R^Rg(R(eRketRria+SkSs/ T^T i$ThTrixTt XimumZe3AdowAnAsu*AtCh<-D$DiaLodyLtMb M%yNt]NuRcyR+R.RryShSsa+T$Thod3Dd!DnightLk~]M-NdNimumN%Nu>Rac!Rr%S ySs/akeXXedXtu*5Bi!DelDifyMM|N.%NkeyN, N`OnR$ReRn(gSqu.oTh T]T%Unta(U'VeVie5ChFf(LeLtiplySc!SeumShroomS-/Tu$3Self/ yTh:I=MePk(Rrow/yT]Tu*3ArCkEdGati=G!@I` PhewR=/TTw%kUtr$V WsXt3CeGht5B!I'M(eeOd!Rm$R`SeTab!TeTh(gTi)VelW5C!?Mb R'T:K0EyJe@Li+Scu*S =Ta(Vious0CurE<Tob 0Or1FF Fi)T&2L1Ay0DI=Ymp-0It0CeEI#L(eLy1EnEraIn]Po'T]1An+B.Ch?dD D(?yG<I|Ig($Ph<0Tr-h0H 0Tdo%T TputTside0AlEnEr0NN 0Yg&0/ 0O}:CtDd!GeIrLa)LmNdaNelN-N` P RadeR|RkRrotRtySsT^ThTi|TrolTt nU'VeYm|3A)AnutArAs<tL-<NN$tyNcilOp!Pp Rfe@Rm.Rs#T2O}OtoRa'Ys-$0AnoCn-Ctu*E)GGe#~LotNkO} Pe/olT^Zza_)A}tA,-A>AyEa'Ed+U{UgUn+2EmEtIntL?LeLi)NdNyOlPul?Rt]S.]Ssib!/TatoTt yV tyWd W _@i)Ai'Ed-tEf Epa*Es|EttyEv|I)IdeIm?yIntI%.yIs#Iva>IzeOb!mO)[Odu)Of.OgramOje@Omo>OofOp tyOsp O>@OudOvide2Bl-Dd(g~LpL'Mpk(N^PilPpyR^a'R.yRpo'R'ShTZz!3Ramid:99Al.yAntumArt E,]I{ItIzO>:Bb.Cco#CeCkD?DioIlInI'~yMpN^NdomN+PidReTeTh V&WZ%3AdyAlAs#BelBuildC$lCei=CipeC%dCyc!Du)F!@F%mFu'G]G*tGul?Je@LaxLea'LiefLyMa(Memb M(dMo=Nd NewNtOp&PairPeatPla)P%tQui*ScueSemb!Si,Sour)Sp#'SultTi*T*atTurnUn]Ve$ViewW?d2Y`m0BBb#CeChDeD+F!GhtGidNgOtPp!SkTu$V$V 5AdA,BotBu,CketM<)OfOkieOmSeTa>UghUndU>Y$5Bb DeGLeNNwayR$:DDd!D}[FeIlLadLm#L#LtLu>MeMp!NdTisfyToshiU)Usa+VeY1A!AnA*Att E}HemeHoolI&)I[%sOrp]OutRapRe&RiptRub1AAr^As#AtC#dC*tCt]Cur.yEdEkGm|Le@~M(?Ni%N'Nt&)RiesRvi)Ss]Tt!TupV&_dowAftAllowA*EdEllEriffIeldIftI}IpIv O{OeOotOpOrtOuld O=RimpRugUff!Y0Bl(gCkDeE+GhtGnL|Lk~yLv Mil?Mp!N)NgR&/ Tua>XZe1A>Et^IIllInIrtUll0AbAmEepEnd I)IdeIghtImOg<OtOwUsh0AllArtI!OkeOo`0A{AkeApIffOw0ApCc Ci$CkDaFtL?Ldi LidLut]L=Me#eNgOnRryRtUlUndUpUr)U`0A)A*Ati$AwnEakEci$EedEllEndH eI)Id IkeInIr.L.OilOns%O#OrtOtRayReadR(gY0Ua*UeezeUir*l_b!AdiumAffA+AirsAmpAndArtA>AyEakEelEmEpE*oI{IllIngO{Oma^O}OolOryO=Ra>gyReetRikeR#gRugg!Ud|UffUmb!Y!0Bje@Bm.BwayC)[ChDd&Ff G?G+,ItMm NNnyN'tP PplyP*meReRfa)R+Rpri'RroundR=ySpe@/a(1AllowAmpApArmE?EetIftImIngIt^Ord1MbolMptomRup/em:B!Ck!GIlL|LkNkPeR+tSk/eTtooXi3A^Am~NN<tNnisNtRm/Xt_nkAtEmeEnE%yE*EyIngIsOughtReeRi=RowUmbUnd 0CketDeG LtMb MeNyPRedSsueT!5A,BaccoDayDdl EGe` I!tK&MatoM%rowNeNgueNightOlO`PP-Pp!R^RnadoRtoi'SsT$Uri,W?dW WnY_{AdeAff-Ag-A(Ansf ApAshA=lAyEatEeEndI$IbeI{Igg ImIpOphyOub!U{UeUlyUmpetU,U`Y2BeIt]Mb!NaN}lRkeyRnRt!1El=EntyI)InI,O1PeP-$:5Ly5B*lla0Ab!Awa*C!Cov D DoFairFoldHappyIf%mIqueItIv 'KnownLo{TilUsu$Veil1Da>GradeHoldOnP Set1B<Ge0A+EEdEfulE![U$0Il.y:C<tCuumGueLidL!yL=NNishP%Rious/Ult3H-!L=tNd%Ntu*NueRbRifyRs]RyS'lT <3Ab!Br<tCiousCt%yDeoEw~a+Nta+Ol(Rtu$RusSaS.Su$T$Vid5C$I)IdLc<oLumeTeYa+:GeG#ItLk~LnutNtRfa*RmRri%ShSp/eT VeY3Al`Ap#ArA'lA` BDd(gEk&dIrdLcome/T_!AtEatEelEnE*IpIsp 0DeD`FeLd~NNdowNeNgNkNn Nt ReSdomSeShT}[5LfM<Nd OdOlRdRkRldRryR`_pE{E,!I,I>Ong::Rd3Ar~ow9UUngU`:3BraRo9NeO","0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60")}static wordlist(){return null==xu&&(xu=new xd),xu}}function xh(e){return(1<<e)-1<<8-e&255}function xf(e,t){su("NFKD"),null==t&&(t=xd.wordlist());let r=t.split(e);so(r.length%3==0&&r.length>=12&&r.length<=24,"invalid mnemonic length","mnemonic","[ REDACTED ]");let n=new Uint8Array(Math.ceil(11*r.length/8)),i=0;for(let e=0;e<r.length;e++){let a=t.getWordIndex(r[e].normalize("NFKD"));so(a>=0,`invalid mnemonic word at index ${e}`,"mnemonic","[ REDACTED ]");for(let e=0;e<11;e++)a&1<<10-e&&(n[i>>3]|=1<<7-i%8),i++}let a=32*r.length/3,s=xh(r.length/3);return so((sf(u6(n.slice(0,a/8)))[0]&s)==(n[n.length-1]&s),"invalid mnemonic checksum","mnemonic","[ REDACTED ]"),sg(n.slice(0,a/8))}function xp(e,t){so(e.length%4==0&&e.length>=16&&e.length<=32,"invalid entropy size","entropy","[ REDACTED ]"),null==t&&(t=xd.wordlist());let r=[0],n=11;for(let t=0;t<e.length;t++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=e[t],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=e[t]>>8-n,r.push(e[t]&((1<<8-n)-1&255)),n+=3);let i=e.length/4,a=parseInt(u6(e).substring(2,4),16)&xh(i);return r[r.length-1]<<=i,r[r.length-1]|=a>>8-i,t.join(r.map(e=>t.getWord(e)))}let xm={};class xx{phrase;password;wordlist;entropy;constructor(e,t,r,n,i){null==n&&(n=""),null==i&&(i=xd.wordlist()),sd(e,xm,"Mnemonic"),st(this,{phrase:r,password:n,wordlist:i,entropy:t})}computeSeed(){let e=sC("mnemonic"+this.password,"NFKD");return dt(sC(this.phrase,"NFKD"),e,2048,64,"sha512")}static fromPhrase(e,t,r){let n=xf(e,r);return e=xp(sf(n),r),new xx(xm,n,e,t,r)}static fromEntropy(e,t,r){let n=sf(e,"entropy"),i=xp(n,r);return new xx(xm,sg(n),i,t,r)}static entropyToPhrase(e,t){return xp(sf(e,"entropy"),t)}static phraseToEntropy(e,t){return xf(e,t)}static isValidMnemonic(e,t){try{return xf(e,t),!0}catch(e){}return!1}}class xy extends p2{address;#tF;constructor(e,t){super(t),so(e&&"function"==typeof e.sign,"invalid private key","privateKey","[ REDACTED ]"),this.#tF=e,st(this,{address:h7(this.signingKey.publicKey)})}get signingKey(){return this.#tF}get privateKey(){return this.signingKey.privateKey}async getAddress(){return this.address}connect(e){return new xy(this.#tF,e)}async signTransaction(e){e=cO(e);let{to:t,from:r}=await se({to:e.to?cy(e.to,this):void 0,from:e.from?cy(e.from,this):void 0});null!=t&&(e.to=t),null!=r&&(e.from=r),null!=e.from&&(so(o0(e.from)===this.address,"transaction from address mismatch","tx.from",e.from),delete e.from);let n=pd.from(e);return n.signature=this.signingKey.sign(n.unsignedHash),n.serialized}async signMessage(e){return this.signMessageSync(e)}signMessageSync(e){return this.signingKey.sign(fn(e)).serialized}authorizeSync(e){so("string"==typeof e.address,"invalid address for authorizeSync","auth.address",e);let t=this.signingKey.sign(ft(e));return Object.assign({},{address:o0(e.address),nonce:sV(e.nonce||0),chainId:sV(e.chainId||0)},{signature:t})}async authorize(e){return e=Object.assign({},e,{address:await cy(e.address,this)}),this.authorizeSync(await this.populateAuthorization(e))}async signTypedData(e,t,r){let n=await fk.resolveNames(e,t,r,async e=>{ss(null!=this.provider,"cannot resolve ENS names without a provider","UNSUPPORTED_OPERATION",{operation:"resolveName",info:{name:e}});let t=await this.provider.resolveName(e);return ss(null!=t,"unconfigured ENS name","UNCONFIGURED_NAME",{value:e}),t});return this.signingKey.sign(fk.hash(n.domain,t,n.value)).serialized}}var xg=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},xb=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};let xw={16:10,24:12,32:14},xv=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],xA=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],xE=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],xT=[0xc66363a5,0xf87c7c84,0xee777799,0xf67b7b8d,0xfff2f20d,0xd66b6bbd,0xde6f6fb1,0x91c5c554,0x60303050,0x2010103,0xce6767a9,0x562b2b7d,0xe7fefe19,0xb5d7d762,0x4dababe6,0xec76769a,0x8fcaca45,0x1f82829d,0x89c9c940,0xfa7d7d87,0xeffafa15,0xb25959eb,0x8e4747c9,0xfbf0f00b,0x41adadec,0xb3d4d467,0x5fa2a2fd,0x45afafea,0x239c9cbf,0x53a4a4f7,0xe4727296,0x9bc0c05b,0x75b7b7c2,0xe1fdfd1c,0x3d9393ae,0x4c26266a,0x6c36365a,0x7e3f3f41,0xf5f7f702,0x83cccc4f,0x6834345c,0x51a5a5f4,0xd1e5e534,0xf9f1f108,0xe2717193,0xabd8d873,0x62313153,0x2a15153f,0x804040c,0x95c7c752,0x46232365,0x9dc3c35e,0x30181828,0x379696a1,0xa05050f,0x2f9a9ab5,0xe070709,0x24121236,0x1b80809b,0xdfe2e23d,0xcdebeb26,0x4e272769,0x7fb2b2cd,0xea75759f,0x1209091b,0x1d83839e,0x582c2c74,0x341a1a2e,0x361b1b2d,0xdc6e6eb2,0xb45a5aee,0x5ba0a0fb,0xa45252f6,0x763b3b4d,0xb7d6d661,0x7db3b3ce,0x5229297b,0xdde3e33e,0x5e2f2f71,0x13848497,0xa65353f5,0xb9d1d168,0,0xc1eded2c,0x40202060,0xe3fcfc1f,0x79b1b1c8,0xb65b5bed,0xd46a6abe,0x8dcbcb46,0x67bebed9,0x7239394b,0x944a4ade,0x984c4cd4,0xb05858e8,0x85cfcf4a,0xbbd0d06b,0xc5efef2a,0x4faaaae5,0xedfbfb16,0x864343c5,0x9a4d4dd7,0x66333355,0x11858594,0x8a4545cf,0xe9f9f910,0x4020206,0xfe7f7f81,0xa05050f0,0x783c3c44,0x259f9fba,0x4ba8a8e3,0xa25151f3,0x5da3a3fe,0x804040c0,0x58f8f8a,0x3f9292ad,0x219d9dbc,0x70383848,0xf1f5f504,0x63bcbcdf,0x77b6b6c1,0xafdada75,0x42212163,0x20101030,0xe5ffff1a,0xfdf3f30e,0xbfd2d26d,0x81cdcd4c,0x180c0c14,0x26131335,0xc3ecec2f,0xbe5f5fe1,0x359797a2,0x884444cc,0x2e171739,0x93c4c457,0x55a7a7f2,0xfc7e7e82,0x7a3d3d47,0xc86464ac,0xba5d5de7,0x3219192b,0xe6737395,0xc06060a0,0x19818198,0x9e4f4fd1,0xa3dcdc7f,0x44222266,0x542a2a7e,0x3b9090ab,0xb888883,0x8c4646ca,0xc7eeee29,0x6bb8b8d3,0x2814143c,0xa7dede79,0xbc5e5ee2,0x160b0b1d,0xaddbdb76,0xdbe0e03b,0x64323256,0x743a3a4e,0x140a0a1e,0x924949db,0xc06060a,0x4824246c,0xb85c5ce4,0x9fc2c25d,0xbdd3d36e,0x43acacef,0xc46262a6,0x399191a8,0x319595a4,0xd3e4e437,0xf279798b,0xd5e7e732,0x8bc8c843,0x6e373759,0xda6d6db7,0x18d8d8c,0xb1d5d564,0x9c4e4ed2,0x49a9a9e0,0xd86c6cb4,0xac5656fa,0xf3f4f407,0xcfeaea25,0xca6565af,0xf47a7a8e,0x47aeaee9,0x10080818,0x6fbabad5,0xf0787888,0x4a25256f,0x5c2e2e72,0x381c1c24,0x57a6a6f1,0x73b4b4c7,0x97c6c651,0xcbe8e823,0xa1dddd7c,0xe874749c,0x3e1f1f21,0x964b4bdd,0x61bdbddc,0xd8b8b86,0xf8a8a85,0xe0707090,0x7c3e3e42,0x71b5b5c4,0xcc6666aa,0x904848d8,0x6030305,0xf7f6f601,0x1c0e0e12,0xc26161a3,0x6a35355f,0xae5757f9,0x69b9b9d0,0x17868691,0x99c1c158,0x3a1d1d27,0x279e9eb9,0xd9e1e138,0xebf8f813,0x2b9898b3,0x22111133,0xd26969bb,0xa9d9d970,0x78e8e89,0x339494a7,0x2d9b9bb6,0x3c1e1e22,0x15878792,0xc9e9e920,0x87cece49,0xaa5555ff,0x50282878,0xa5dfdf7a,0x38c8c8f,0x59a1a1f8,0x9898980,0x1a0d0d17,0x65bfbfda,0xd7e6e631,0x844242c6,0xd06868b8,0x824141c3,0x299999b0,0x5a2d2d77,0x1e0f0f11,0x7bb0b0cb,0xa85454fc,0x6dbbbbd6,0x2c16163a],xk=[0xa5c66363,0x84f87c7c,0x99ee7777,0x8df67b7b,0xdfff2f2,0xbdd66b6b,0xb1de6f6f,0x5491c5c5,0x50603030,0x3020101,0xa9ce6767,0x7d562b2b,0x19e7fefe,0x62b5d7d7,0xe64dabab,0x9aec7676,0x458fcaca,0x9d1f8282,0x4089c9c9,0x87fa7d7d,0x15effafa,0xebb25959,0xc98e4747,0xbfbf0f0,0xec41adad,0x67b3d4d4,0xfd5fa2a2,0xea45afaf,0xbf239c9c,0xf753a4a4,0x96e47272,0x5b9bc0c0,0xc275b7b7,0x1ce1fdfd,0xae3d9393,0x6a4c2626,0x5a6c3636,0x417e3f3f,0x2f5f7f7,0x4f83cccc,0x5c683434,0xf451a5a5,0x34d1e5e5,0x8f9f1f1,0x93e27171,0x73abd8d8,0x53623131,0x3f2a1515,0xc080404,0x5295c7c7,0x65462323,0x5e9dc3c3,0x28301818,0xa1379696,0xf0a0505,0xb52f9a9a,0x90e0707,0x36241212,0x9b1b8080,0x3ddfe2e2,0x26cdebeb,0x694e2727,0xcd7fb2b2,0x9fea7575,0x1b120909,0x9e1d8383,0x74582c2c,0x2e341a1a,0x2d361b1b,0xb2dc6e6e,0xeeb45a5a,0xfb5ba0a0,0xf6a45252,0x4d763b3b,0x61b7d6d6,0xce7db3b3,0x7b522929,0x3edde3e3,0x715e2f2f,0x97138484,0xf5a65353,0x68b9d1d1,0,0x2cc1eded,0x60402020,0x1fe3fcfc,0xc879b1b1,0xedb65b5b,0xbed46a6a,0x468dcbcb,0xd967bebe,0x4b723939,0xde944a4a,0xd4984c4c,0xe8b05858,0x4a85cfcf,0x6bbbd0d0,0x2ac5efef,0xe54faaaa,0x16edfbfb,0xc5864343,0xd79a4d4d,0x55663333,0x94118585,0xcf8a4545,0x10e9f9f9,0x6040202,0x81fe7f7f,0xf0a05050,0x44783c3c,0xba259f9f,0xe34ba8a8,0xf3a25151,0xfe5da3a3,0xc0804040,0x8a058f8f,0xad3f9292,0xbc219d9d,0x48703838,0x4f1f5f5,0xdf63bcbc,0xc177b6b6,0x75afdada,0x63422121,0x30201010,0x1ae5ffff,0xefdf3f3,0x6dbfd2d2,0x4c81cdcd,0x14180c0c,0x35261313,0x2fc3ecec,0xe1be5f5f,0xa2359797,0xcc884444,0x392e1717,0x5793c4c4,0xf255a7a7,0x82fc7e7e,0x477a3d3d,0xacc86464,0xe7ba5d5d,0x2b321919,0x95e67373,0xa0c06060,0x98198181,0xd19e4f4f,0x7fa3dcdc,0x66442222,0x7e542a2a,0xab3b9090,0x830b8888,0xca8c4646,0x29c7eeee,0xd36bb8b8,0x3c281414,0x79a7dede,0xe2bc5e5e,0x1d160b0b,0x76addbdb,0x3bdbe0e0,0x56643232,0x4e743a3a,0x1e140a0a,0xdb924949,0xa0c0606,0x6c482424,0xe4b85c5c,0x5d9fc2c2,0x6ebdd3d3,0xef43acac,0xa6c46262,0xa8399191,0xa4319595,0x37d3e4e4,0x8bf27979,0x32d5e7e7,0x438bc8c8,0x596e3737,0xb7da6d6d,0x8c018d8d,0x64b1d5d5,0xd29c4e4e,0xe049a9a9,0xb4d86c6c,0xfaac5656,0x7f3f4f4,0x25cfeaea,0xafca6565,0x8ef47a7a,0xe947aeae,0x18100808,0xd56fbaba,0x88f07878,0x6f4a2525,0x725c2e2e,0x24381c1c,0xf157a6a6,0xc773b4b4,0x5197c6c6,0x23cbe8e8,0x7ca1dddd,0x9ce87474,0x213e1f1f,0xdd964b4b,0xdc61bdbd,0x860d8b8b,0x850f8a8a,0x90e07070,0x427c3e3e,0xc471b5b5,0xaacc6666,0xd8904848,0x5060303,0x1f7f6f6,0x121c0e0e,0xa3c26161,0x5f6a3535,0xf9ae5757,0xd069b9b9,0x91178686,0x5899c1c1,0x273a1d1d,0xb9279e9e,0x38d9e1e1,0x13ebf8f8,0xb32b9898,0x33221111,0xbbd26969,0x70a9d9d9,0x89078e8e,0xa7339494,0xb62d9b9b,0x223c1e1e,0x92158787,0x20c9e9e9,0x4987cece,0xffaa5555,0x78502828,0x7aa5dfdf,0x8f038c8c,0xf859a1a1,0x80098989,0x171a0d0d,0xda65bfbf,0x31d7e6e6,0xc6844242,0xb8d06868,0xc3824141,0xb0299999,0x775a2d2d,0x111e0f0f,0xcb7bb0b0,0xfca85454,0xd66dbbbb,0x3a2c1616],xP=[0x63a5c663,0x7c84f87c,0x7799ee77,0x7b8df67b,0xf20dfff2,0x6bbdd66b,0x6fb1de6f,0xc55491c5,0x30506030,0x1030201,0x67a9ce67,0x2b7d562b,0xfe19e7fe,0xd762b5d7,0xabe64dab,0x769aec76,0xca458fca,0x829d1f82,0xc94089c9,0x7d87fa7d,0xfa15effa,0x59ebb259,0x47c98e47,0xf00bfbf0,0xadec41ad,0xd467b3d4,0xa2fd5fa2,0xafea45af,0x9cbf239c,0xa4f753a4,0x7296e472,0xc05b9bc0,0xb7c275b7,0xfd1ce1fd,0x93ae3d93,0x266a4c26,0x365a6c36,0x3f417e3f,0xf702f5f7,0xcc4f83cc,0x345c6834,0xa5f451a5,0xe534d1e5,0xf108f9f1,0x7193e271,0xd873abd8,0x31536231,0x153f2a15,0x40c0804,0xc75295c7,0x23654623,0xc35e9dc3,0x18283018,0x96a13796,0x50f0a05,0x9ab52f9a,0x7090e07,0x12362412,0x809b1b80,0xe23ddfe2,0xeb26cdeb,0x27694e27,0xb2cd7fb2,0x759fea75,0x91b1209,0x839e1d83,0x2c74582c,0x1a2e341a,0x1b2d361b,0x6eb2dc6e,0x5aeeb45a,0xa0fb5ba0,0x52f6a452,0x3b4d763b,0xd661b7d6,0xb3ce7db3,0x297b5229,0xe33edde3,0x2f715e2f,0x84971384,0x53f5a653,0xd168b9d1,0,0xed2cc1ed,0x20604020,0xfc1fe3fc,0xb1c879b1,0x5bedb65b,0x6abed46a,0xcb468dcb,0xbed967be,0x394b7239,0x4ade944a,0x4cd4984c,0x58e8b058,0xcf4a85cf,0xd06bbbd0,0xef2ac5ef,0xaae54faa,0xfb16edfb,0x43c58643,0x4dd79a4d,0x33556633,0x85941185,0x45cf8a45,0xf910e9f9,0x2060402,0x7f81fe7f,0x50f0a050,0x3c44783c,0x9fba259f,0xa8e34ba8,0x51f3a251,0xa3fe5da3,0x40c08040,0x8f8a058f,0x92ad3f92,0x9dbc219d,0x38487038,0xf504f1f5,0xbcdf63bc,0xb6c177b6,0xda75afda,0x21634221,0x10302010,0xff1ae5ff,0xf30efdf3,0xd26dbfd2,0xcd4c81cd,0xc14180c,0x13352613,0xec2fc3ec,0x5fe1be5f,0x97a23597,0x44cc8844,0x17392e17,0xc45793c4,0xa7f255a7,0x7e82fc7e,0x3d477a3d,0x64acc864,0x5de7ba5d,0x192b3219,0x7395e673,0x60a0c060,0x81981981,0x4fd19e4f,0xdc7fa3dc,0x22664422,0x2a7e542a,0x90ab3b90,0x88830b88,0x46ca8c46,0xee29c7ee,0xb8d36bb8,0x143c2814,0xde79a7de,0x5ee2bc5e,0xb1d160b,0xdb76addb,0xe03bdbe0,0x32566432,0x3a4e743a,0xa1e140a,0x49db9249,0x60a0c06,0x246c4824,0x5ce4b85c,0xc25d9fc2,0xd36ebdd3,0xacef43ac,0x62a6c462,0x91a83991,0x95a43195,0xe437d3e4,0x798bf279,0xe732d5e7,0xc8438bc8,0x37596e37,0x6db7da6d,0x8d8c018d,0xd564b1d5,0x4ed29c4e,0xa9e049a9,0x6cb4d86c,0x56faac56,0xf407f3f4,0xea25cfea,0x65afca65,0x7a8ef47a,0xaee947ae,0x8181008,0xbad56fba,0x7888f078,0x256f4a25,0x2e725c2e,0x1c24381c,0xa6f157a6,0xb4c773b4,0xc65197c6,0xe823cbe8,0xdd7ca1dd,0x749ce874,0x1f213e1f,0x4bdd964b,0xbddc61bd,0x8b860d8b,0x8a850f8a,0x7090e070,0x3e427c3e,0xb5c471b5,0x66aacc66,0x48d89048,0x3050603,0xf601f7f6,0xe121c0e,0x61a3c261,0x355f6a35,0x57f9ae57,0xb9d069b9,0x86911786,0xc15899c1,0x1d273a1d,0x9eb9279e,0xe138d9e1,0xf813ebf8,0x98b32b98,0x11332211,0x69bbd269,0xd970a9d9,0x8e89078e,0x94a73394,0x9bb62d9b,0x1e223c1e,0x87921587,0xe920c9e9,0xce4987ce,0x55ffaa55,0x28785028,0xdf7aa5df,0x8c8f038c,0xa1f859a1,0x89800989,0xd171a0d,0xbfda65bf,0xe631d7e6,0x42c68442,0x68b8d068,0x41c38241,0x99b02999,0x2d775a2d,0xf111e0f,0xb0cb7bb0,0x54fca854,0xbbd66dbb,0x163a2c16],xN=[0x6363a5c6,0x7c7c84f8,0x777799ee,0x7b7b8df6,0xf2f20dff,0x6b6bbdd6,0x6f6fb1de,0xc5c55491,0x30305060,0x1010302,0x6767a9ce,0x2b2b7d56,0xfefe19e7,0xd7d762b5,0xababe64d,0x76769aec,0xcaca458f,0x82829d1f,0xc9c94089,0x7d7d87fa,0xfafa15ef,0x5959ebb2,0x4747c98e,0xf0f00bfb,0xadadec41,0xd4d467b3,0xa2a2fd5f,0xafafea45,0x9c9cbf23,0xa4a4f753,0x727296e4,0xc0c05b9b,0xb7b7c275,0xfdfd1ce1,0x9393ae3d,0x26266a4c,0x36365a6c,0x3f3f417e,0xf7f702f5,0xcccc4f83,0x34345c68,0xa5a5f451,0xe5e534d1,0xf1f108f9,0x717193e2,0xd8d873ab,0x31315362,0x15153f2a,0x4040c08,0xc7c75295,0x23236546,0xc3c35e9d,0x18182830,0x9696a137,0x5050f0a,0x9a9ab52f,0x707090e,0x12123624,0x80809b1b,0xe2e23ddf,0xebeb26cd,0x2727694e,0xb2b2cd7f,0x75759fea,0x9091b12,0x83839e1d,0x2c2c7458,0x1a1a2e34,0x1b1b2d36,0x6e6eb2dc,0x5a5aeeb4,0xa0a0fb5b,0x5252f6a4,0x3b3b4d76,0xd6d661b7,0xb3b3ce7d,0x29297b52,0xe3e33edd,0x2f2f715e,0x84849713,0x5353f5a6,0xd1d168b9,0,0xeded2cc1,0x20206040,0xfcfc1fe3,0xb1b1c879,0x5b5bedb6,0x6a6abed4,0xcbcb468d,0xbebed967,0x39394b72,0x4a4ade94,0x4c4cd498,0x5858e8b0,0xcfcf4a85,0xd0d06bbb,0xefef2ac5,0xaaaae54f,0xfbfb16ed,0x4343c586,0x4d4dd79a,0x33335566,0x85859411,0x4545cf8a,0xf9f910e9,0x2020604,0x7f7f81fe,0x5050f0a0,0x3c3c4478,0x9f9fba25,0xa8a8e34b,0x5151f3a2,0xa3a3fe5d,0x4040c080,0x8f8f8a05,0x9292ad3f,0x9d9dbc21,0x38384870,0xf5f504f1,0xbcbcdf63,0xb6b6c177,0xdada75af,0x21216342,0x10103020,0xffff1ae5,0xf3f30efd,0xd2d26dbf,0xcdcd4c81,0xc0c1418,0x13133526,0xecec2fc3,0x5f5fe1be,0x9797a235,0x4444cc88,0x1717392e,0xc4c45793,0xa7a7f255,0x7e7e82fc,0x3d3d477a,0x6464acc8,0x5d5de7ba,0x19192b32,0x737395e6,0x6060a0c0,0x81819819,0x4f4fd19e,0xdcdc7fa3,0x22226644,0x2a2a7e54,0x9090ab3b,0x8888830b,0x4646ca8c,0xeeee29c7,0xb8b8d36b,0x14143c28,0xdede79a7,0x5e5ee2bc,0xb0b1d16,0xdbdb76ad,0xe0e03bdb,0x32325664,0x3a3a4e74,0xa0a1e14,0x4949db92,0x6060a0c,0x24246c48,0x5c5ce4b8,0xc2c25d9f,0xd3d36ebd,0xacacef43,0x6262a6c4,0x9191a839,0x9595a431,0xe4e437d3,0x79798bf2,0xe7e732d5,0xc8c8438b,0x3737596e,0x6d6db7da,0x8d8d8c01,0xd5d564b1,0x4e4ed29c,0xa9a9e049,0x6c6cb4d8,0x5656faac,0xf4f407f3,0xeaea25cf,0x6565afca,0x7a7a8ef4,0xaeaee947,0x8081810,0xbabad56f,0x787888f0,0x25256f4a,0x2e2e725c,0x1c1c2438,0xa6a6f157,0xb4b4c773,0xc6c65197,0xe8e823cb,0xdddd7ca1,0x74749ce8,0x1f1f213e,0x4b4bdd96,0xbdbddc61,0x8b8b860d,0x8a8a850f,0x707090e0,0x3e3e427c,0xb5b5c471,0x6666aacc,0x4848d890,0x3030506,0xf6f601f7,0xe0e121c,0x6161a3c2,0x35355f6a,0x5757f9ae,0xb9b9d069,0x86869117,0xc1c15899,0x1d1d273a,0x9e9eb927,0xe1e138d9,0xf8f813eb,0x9898b32b,0x11113322,0x6969bbd2,0xd9d970a9,0x8e8e8907,0x9494a733,0x9b9bb62d,0x1e1e223c,0x87879215,0xe9e920c9,0xcece4987,0x5555ffaa,0x28287850,0xdfdf7aa5,0x8c8c8f03,0xa1a1f859,0x89898009,0xd0d171a,0xbfbfda65,0xe6e631d7,0x4242c684,0x6868b8d0,0x4141c382,0x9999b029,0x2d2d775a,0xf0f111e,0xb0b0cb7b,0x5454fca8,0xbbbbd66d,0x16163a2c],xR=[0x51f4a750,0x7e416553,0x1a17a4c3,0x3a275e96,0x3bab6bcb,0x1f9d45f1,0xacfa58ab,0x4be30393,0x2030fa55,0xad766df6,0x88cc7691,0xf5024c25,0x4fe5d7fc,0xc52acbd7,0x26354480,0xb562a38f,0xdeb15a49,0x25ba1b67,0x45ea0e98,0x5dfec0e1,0xc32f7502,0x814cf012,0x8d4697a3,0x6bd3f9c6,0x38f5fe7,0x15929c95,0xbf6d7aeb,0x955259da,0xd4be832d,0x587421d3,0x49e06929,0x8ec9c844,0x75c2896a,0xf48e7978,0x99583e6b,0x27b971dd,0xbee14fb6,0xf088ad17,0xc920ac66,0x7dce3ab4,0x63df4a18,0xe51a3182,0x97513360,0x62537f45,0xb16477e0,0xbb6bae84,0xfe81a01c,0xf9082b94,0x70486858,0x8f45fd19,0x94de6c87,0x527bf8b7,0xab73d323,0x724b02e2,0xe31f8f57,0x6655ab2a,0xb2eb2807,0x2fb5c203,0x86c57b9a,0xd33708a5,0x302887f2,0x23bfa5b2,0x2036aba,0xed16825c,0x8acf1c2b,0xa779b492,0xf307f2f0,0x4e69e2a1,0x65daf4cd,0x605bed5,0xd134621f,0xc4a6fe8a,0x342e539d,0xa2f355a0,0x58ae132,0xa4f6eb75,0xb83ec39,0x4060efaa,0x5e719f06,0xbd6e1051,0x3e218af9,0x96dd063d,0xdd3e05ae,0x4de6bd46,0x91548db5,0x71c45d05,0x406d46f,0x605015ff,0x1998fb24,0xd6bde997,0x894043cc,0x67d99e77,0xb0e842bd,0x7898b88,0xe7195b38,0x79c8eedb,0xa17c0a47,0x7c420fe9,0xf8841ec9,0,0x9808683,0x322bed48,0x1e1170ac,0x6c5a724e,0xfd0efffb,0xf853856,0x3daed51e,0x362d3927,0xa0fd964,0x685ca621,0x9b5b54d1,0x24362e3a,0xc0a67b1,0x9357e70f,0xb4ee96d2,0x1b9b919e,0x80c0c54f,0x61dc20a2,0x5a774b69,0x1c121a16,0xe293ba0a,0xc0a02ae5,0x3c22e043,0x121b171d,0xe090d0b,0xf28bc7ad,0x2db6a8b9,0x141ea9c8,0x57f11985,0xaf75074c,0xee99ddbb,0xa37f60fd,0xf701269f,0x5c72f5bc,0x44663bc5,0x5bfb7e34,0x8b432976,0xcb23c6dc,0xb6edfc68,0xb8e4f163,0xd731dcca,0x42638510,0x13972240,0x84c61120,0x854a247d,0xd2bb3df8,0xaef93211,0xc729a16d,0x1d9e2f4b,0xdcb230f3,0xd8652ec,0x77c1e3d0,0x2bb3166c,0xa970b999,0x119448fa,0x47e96422,0xa8fc8cc4,0xa0f03f1a,0x567d2cd8,0x223390ef,0x87494ec7,0xd938d1c1,0x8ccaa2fe,0x98d40b36,0xa6f581cf,0xa57ade28,0xdab78e26,0x3fadbfa4,0x2c3a9de4,0x5078920d,0x6a5fcc9b,0x547e4662,0xf68d13c2,0x90d8b8e8,0x2e39f75e,0x82c3aff5,0x9f5d80be,0x69d0937c,0x6fd52da9,0xcf2512b3,0xc8ac993b,0x10187da7,0xe89c636e,0xdb3bbb7b,0xcd267809,0x6e5918f4,0xec9ab701,0x834f9aa8,0xe6956e65,0xaaffe67e,0x21bccf08,0xef15e8e6,0xbae79bd9,0x4a6f36ce,0xea9f09d4,0x29b07cd6,0x31a4b2af,0x2a3f2331,0xc6a59430,0x35a266c0,0x744ebc37,0xfc82caa6,0xe090d0b0,0x33a7d815,0xf104984a,0x41ecdaf7,0x7fcd500e,0x1791f62f,0x764dd68d,0x43efb04d,0xccaa4d54,0xe49604df,0x9ed1b5e3,0x4c6a881b,0xc12c1fb8,0x4665517f,0x9d5eea04,0x18c355d,0xfa877473,0xfb0b412e,0xb3671d5a,0x92dbd252,0xe9105633,0x6dd64713,0x9ad7618c,0x37a10c7a,0x59f8148e,0xeb133c89,0xcea927ee,0xb761c935,0xe11ce5ed,0x7a47b13c,0x9cd2df59,0x55f2733f,0x1814ce79,0x73c737bf,0x53f7cdea,0x5ffdaa5b,0xdf3d6f14,0x7844db86,0xcaaff381,0xb968c43e,0x3824342c,0xc2a3405f,0x161dc372,0xbce2250c,0x283c498b,0xff0d9541,0x39a80171,0x80cb3de,0xd8b4e49c,0x6456c190,0x7bcb8461,0xd532b670,0x486c5c74,0xd0b85742],xC=[0x5051f4a7,0x537e4165,0xc31a17a4,0x963a275e,0xcb3bab6b,0xf11f9d45,0xabacfa58,0x934be303,0x552030fa,0xf6ad766d,0x9188cc76,0x25f5024c,0xfc4fe5d7,0xd7c52acb,0x80263544,0x8fb562a3,0x49deb15a,0x6725ba1b,0x9845ea0e,0xe15dfec0,0x2c32f75,0x12814cf0,0xa38d4697,0xc66bd3f9,0xe7038f5f,0x9515929c,0xebbf6d7a,0xda955259,0x2dd4be83,0xd3587421,0x2949e069,0x448ec9c8,0x6a75c289,0x78f48e79,0x6b99583e,0xdd27b971,0xb6bee14f,0x17f088ad,0x66c920ac,0xb47dce3a,0x1863df4a,0x82e51a31,0x60975133,0x4562537f,0xe0b16477,0x84bb6bae,0x1cfe81a0,0x94f9082b,0x58704868,0x198f45fd,0x8794de6c,0xb7527bf8,0x23ab73d3,0xe2724b02,0x57e31f8f,0x2a6655ab,0x7b2eb28,0x32fb5c2,0x9a86c57b,0xa5d33708,0xf2302887,0xb223bfa5,0xba02036a,0x5ced1682,0x2b8acf1c,0x92a779b4,0xf0f307f2,0xa14e69e2,0xcd65daf4,0xd50605be,0x1fd13462,0x8ac4a6fe,0x9d342e53,0xa0a2f355,0x32058ae1,0x75a4f6eb,0x390b83ec,0xaa4060ef,0x65e719f,0x51bd6e10,0xf93e218a,0x3d96dd06,0xaedd3e05,0x464de6bd,0xb591548d,0x571c45d,0x6f0406d4,0xff605015,0x241998fb,0x97d6bde9,0xcc894043,0x7767d99e,0xbdb0e842,0x8807898b,0x38e7195b,0xdb79c8ee,0x47a17c0a,0xe97c420f,0xc9f8841e,0,0x83098086,0x48322bed,0xac1e1170,0x4e6c5a72,0xfbfd0eff,0x560f8538,0x1e3daed5,0x27362d39,0x640a0fd9,0x21685ca6,0xd19b5b54,0x3a24362e,0xb10c0a67,0xf9357e7,0xd2b4ee96,0x9e1b9b91,0x4f80c0c5,0xa261dc20,0x695a774b,0x161c121a,0xae293ba,0xe5c0a02a,0x433c22e0,0x1d121b17,0xb0e090d,0xadf28bc7,0xb92db6a8,0xc8141ea9,0x8557f119,0x4caf7507,0xbbee99dd,0xfda37f60,0x9ff70126,0xbc5c72f5,0xc544663b,0x345bfb7e,0x768b4329,0xdccb23c6,0x68b6edfc,0x63b8e4f1,0xcad731dc,0x10426385,0x40139722,0x2084c611,0x7d854a24,0xf8d2bb3d,0x11aef932,0x6dc729a1,0x4b1d9e2f,0xf3dcb230,0xec0d8652,0xd077c1e3,0x6c2bb316,0x99a970b9,0xfa119448,0x2247e964,0xc4a8fc8c,0x1aa0f03f,0xd8567d2c,0xef223390,0xc787494e,0xc1d938d1,0xfe8ccaa2,0x3698d40b,0xcfa6f581,0x28a57ade,0x26dab78e,0xa43fadbf,0xe42c3a9d,0xd507892,0x9b6a5fcc,0x62547e46,0xc2f68d13,0xe890d8b8,0x5e2e39f7,0xf582c3af,0xbe9f5d80,0x7c69d093,0xa96fd52d,0xb3cf2512,0x3bc8ac99,0xa710187d,0x6ee89c63,0x7bdb3bbb,0x9cd2678,0xf46e5918,0x1ec9ab7,0xa8834f9a,0x65e6956e,0x7eaaffe6,0x821bccf,0xe6ef15e8,0xd9bae79b,0xce4a6f36,0xd4ea9f09,0xd629b07c,0xaf31a4b2,0x312a3f23,0x30c6a594,0xc035a266,0x37744ebc,0xa6fc82ca,0xb0e090d0,0x1533a7d8,0x4af10498,0xf741ecda,0xe7fcd50,0x2f1791f6,0x8d764dd6,0x4d43efb0,0x54ccaa4d,0xdfe49604,0xe39ed1b5,0x1b4c6a88,0xb8c12c1f,0x7f466551,0x49d5eea,0x5d018c35,0x73fa8774,0x2efb0b41,0x5ab3671d,0x5292dbd2,0x33e91056,0x136dd647,0x8c9ad761,0x7a37a10c,0x8e59f814,0x89eb133c,0xeecea927,0x35b761c9,0xede11ce5,0x3c7a47b1,0x599cd2df,0x3f55f273,0x791814ce,0xbf73c737,0xea53f7cd,0x5b5ffdaa,0x14df3d6f,0x867844db,0x81caaff3,0x3eb968c4,0x2c382434,0x5fc2a340,0x72161dc3,0xcbce225,0x8b283c49,0x41ff0d95,0x7139a801,0xde080cb3,0x9cd8b4e4,0x906456c1,0x617bcb84,0x70d532b6,0x74486c5c,0x42d0b857],xS=[0xa75051f4,0x65537e41,0xa4c31a17,0x5e963a27,0x6bcb3bab,0x45f11f9d,0x58abacfa,0x3934be3,0xfa552030,0x6df6ad76,0x769188cc,0x4c25f502,0xd7fc4fe5,0xcbd7c52a,0x44802635,0xa38fb562,0x5a49deb1,0x1b6725ba,0xe9845ea,0xc0e15dfe,0x7502c32f,0xf012814c,0x97a38d46,0xf9c66bd3,0x5fe7038f,0x9c951592,0x7aebbf6d,0x59da9552,0x832dd4be,0x21d35874,0x692949e0,0xc8448ec9,0x896a75c2,0x7978f48e,1047239e3,0x71dd27b9,0x4fb6bee1,0xad17f088,0xac66c920,0x3ab47dce,0x4a1863df,0x3182e51a,0x33609751,0x7f456253,0x77e0b164,0xae84bb6b,0xa01cfe81,0x2b94f908,0x68587048,0xfd198f45,0x6c8794de,0xf8b7527b,0xd323ab73,0x2e2724b,0x8f57e31f,0xab2a6655,0x2807b2eb,0xc2032fb5,0x7b9a86c5,0x8a5d337,0x87f23028,0xa5b223bf,0x6aba0203,0x825ced16,0x1c2b8acf,0xb492a779,0xf2f0f307,0xe2a14e69,0xf4cd65da,0xbed50605,0x621fd134,0xfe8ac4a6,0x539d342e,0x55a0a2f3,0xe132058a,0xeb75a4f6,0xec390b83,0xefaa4060,0x9f065e71,0x1051bd6e,0x8af93e21,0x63d96dd,0x5aedd3e,0xbd464de6,0x8db59154,0x5d0571c4,0xd46f0406,0x15ff6050,0xfb241998,0xe997d6bd,0x43cc8940,0x9e7767d9,0x42bdb0e8,0x8b880789,0x5b38e719,0xeedb79c8,0xa47a17c,0xfe97c42,0x1ec9f884,0,0x86830980,0xed48322b,0x70ac1e11,0x724e6c5a,0xfffbfd0e,0x38560f85,0xd51e3dae,0x3927362d,0xd9640a0f,0xa621685c,0x54d19b5b,0x2e3a2436,0x67b10c0a,0xe70f9357,0x96d2b4ee,0x919e1b9b,0xc54f80c0,0x20a261dc,0x4b695a77,0x1a161c12,0xba0ae293,0x2ae5c0a0,0xe0433c22,0x171d121b,0xd0b0e09,0xc7adf28b,0xa8b92db6,0xa9c8141e,0x198557f1,0x74caf75,0xddbbee99,0x60fda37f,0x269ff701,0xf5bc5c72,0x3bc54466,0x7e345bfb,0x29768b43,0xc6dccb23,0xfc68b6ed,0xf163b8e4,0xdccad731,0x85104263,0x22401397,0x112084c6,0x247d854a,0x3df8d2bb,0x3211aef9,0xa16dc729,0x2f4b1d9e,0x30f3dcb2,0x52ec0d86,0xe3d077c1,0x166c2bb3,0xb999a970,0x48fa1194,0x642247e9,0x8cc4a8fc,0x3f1aa0f0,0x2cd8567d,0x90ef2233,0x4ec78749,0xd1c1d938,0xa2fe8cca,0xb3698d4,0x81cfa6f5,0xde28a57a,0x8e26dab7,0xbfa43fad,0x9de42c3a,0x920d5078,0xcc9b6a5f,0x4662547e,0x13c2f68d,0xb8e890d8,0xf75e2e39,0xaff582c3,0x80be9f5d,0x937c69d0,0x2da96fd5,0x12b3cf25,0x993bc8ac,0x7da71018,0x636ee89c,0xbb7bdb3b,0x7809cd26,0x18f46e59,0xb701ec9a,0x9aa8834f,0x6e65e695,0xe67eaaff,0xcf0821bc,0xe8e6ef15,0x9bd9bae7,0x36ce4a6f,0x9d4ea9f,0x7cd629b0,0xb2af31a4,0x23312a3f,0x9430c6a5,0x66c035a2,0xbc37744e,0xcaa6fc82,0xd0b0e090,0xd81533a7,0x984af104,0xdaf741ec,0x500e7fcd,0xf62f1791,0xd68d764d,0xb04d43ef,0x4d54ccaa,0x4dfe496,0xb5e39ed1,0x881b4c6a,0x1fb8c12c,0x517f4665,0xea049d5e,0x355d018c,0x7473fa87,0x412efb0b,0x1d5ab367,0xd25292db,0x5633e910,0x47136dd6,0x618c9ad7,0xc7a37a1,0x148e59f8,0x3c89eb13,0x27eecea9,0xc935b761,0xe5ede11c,0xb13c7a47,0xdf599cd2,0x733f55f2,0xce791814,0x37bf73c7,0xcdea53f7,0xaa5b5ffd,0x6f14df3d,0xdb867844,0xf381caaf,0xc43eb968,0x342c3824,0x405fc2a3,0xc372161d,0x250cbce2,0x498b283c,0x9541ff0d,0x17139a8,0xb3de080c,0xe49cd8b4,0xc1906456,0x84617bcb,0xb670d532,0x5c74486c,0x5742d0b8],xI=[0xf4a75051,0x4165537e,0x17a4c31a,0x275e963a,0xab6bcb3b,0x9d45f11f,0xfa58abac,0xe303934b,0x30fa5520,0x766df6ad,0xcc769188,0x24c25f5,0xe5d7fc4f,0x2acbd7c5,0x35448026,0x62a38fb5,0xb15a49de,0xba1b6725,0xea0e9845,0xfec0e15d,0x2f7502c3,0x4cf01281,0x4697a38d,0xd3f9c66b,0x8f5fe703,0x929c9515,0x6d7aebbf,0x5259da95,0xbe832dd4,0x7421d358,0xe0692949,0xc9c8448e,0xc2896a75,0x8e7978f4,0x583e6b99,0xb971dd27,0xe14fb6be,0x88ad17f0,0x20ac66c9,0xce3ab47d,0xdf4a1863,0x1a3182e5,0x51336097,0x537f4562,0x6477e0b1,0x6bae84bb,0x81a01cfe,0x82b94f9,0x48685870,0x45fd198f,0xde6c8794,0x7bf8b752,0x73d323ab,0x4b02e272,0x1f8f57e3,0x55ab2a66,0xeb2807b2,0xb5c2032f,0xc57b9a86,0x3708a5d3,679998e3,0xbfa5b223,0x36aba02,0x16825ced,0xcf1c2b8a,0x79b492a7,0x7f2f0f3,0x69e2a14e,0xdaf4cd65,0x5bed506,0x34621fd1,0xa6fe8ac4,0x2e539d34,0xf355a0a2,0x8ae13205,0xf6eb75a4,0x83ec390b,0x60efaa40,0x719f065e,0x6e1051bd,0x218af93e,0xdd063d96,0x3e05aedd,0xe6bd464d,0x548db591,0xc45d0571,0x6d46f04,0x5015ff60,0x98fb2419,0xbde997d6,0x4043cc89,0xd99e7767,0xe842bdb0,0x898b8807,0x195b38e7,0xc8eedb79,0x7c0a47a1,0x420fe97c,0x841ec9f8,0,0x80868309,0x2bed4832,0x1170ac1e,0x5a724e6c,0xefffbfd,0x8538560f,0xaed51e3d,0x2d392736,0xfd9640a,0x5ca62168,0x5b54d19b,0x362e3a24,0xa67b10c,0x57e70f93,0xee96d2b4,0x9b919e1b,0xc0c54f80,0xdc20a261,0x774b695a,0x121a161c,0x93ba0ae2,0xa02ae5c0,0x22e0433c,0x1b171d12,0x90d0b0e,0x8bc7adf2,0xb6a8b92d,0x1ea9c814,0xf1198557,0x75074caf,0x99ddbbee,0x7f60fda3,0x1269ff7,0x72f5bc5c,0x663bc544,0xfb7e345b,0x4329768b,0x23c6dccb,0xedfc68b6,0xe4f163b8,0x31dccad7,0x63851042,0x97224013,0xc6112084,0x4a247d85,0xbb3df8d2,0xf93211ae,0x29a16dc7,0x9e2f4b1d,0xb230f3dc,0x8652ec0d,0xc1e3d077,0xb3166c2b,0x70b999a9,0x9448fa11,0xe9642247,0xfc8cc4a8,0xf03f1aa0,0x7d2cd856,0x3390ef22,0x494ec787,0x38d1c1d9,0xcaa2fe8c,0xd40b3698,0xf581cfa6,0x7ade28a5,0xb78e26da,0xadbfa43f,0x3a9de42c,0x78920d50,0x5fcc9b6a,0x7e466254,0x8d13c2f6,0xd8b8e890,0x39f75e2e,0xc3aff582,0x5d80be9f,0xd0937c69,0xd52da96f,0x2512b3cf,0xac993bc8,0x187da710,0x9c636ee8,0x3bbb7bdb,0x267809cd,0x5918f46e,0x9ab701ec,0x4f9aa883,0x956e65e6,0xffe67eaa,0xbccf0821,0x15e8e6ef,0xe79bd9ba,0x6f36ce4a,0x9f09d4ea,0xb07cd629,0xa4b2af31,0x3f23312a,0xa59430c6,0xa266c035,0x4ebc3774,0x82caa6fc,0x90d0b0e0,0xa7d81533,0x4984af1,0xecdaf741,0xcd500e7f,0x91f62f17,0x4dd68d76,0xefb04d43,0xaa4d54cc,0x9604dfe4,0xd1b5e39e,0x6a881b4c,0x2c1fb8c1,0x65517f46,0x5eea049d,0x8c355d01,0x877473fa,0xb412efb,0x671d5ab3,0xdbd25292,0x105633e9,0xd647136d,0xd7618c9a,0xa10c7a37,0xf8148e59,0x133c89eb,0xa927eece,0x61c935b7,0x1ce5ede1,0x47b13c7a,0xd2df599c,0xf2733f55,0x14ce7918,0xc737bf73,0xf7cdea53,0xfdaa5b5f,0x3d6f14df,0x44db8678,0xaff381ca,0x68c43eb9,0x24342c38,0xa3405fc2,0x1dc37216,0xe2250cbc,0x3c498b28,0xd9541ff,0xa8017139,0xcb3de08,0xb4e49cd8,0x56c19064,0xcb84617b,0x32b670d5,0x6c5c7448,0xb85742d0],xO=[0,0xe090d0b,0x1c121a16,0x121b171d,0x3824342c,0x362d3927,0x24362e3a,0x2a3f2331,0x70486858,0x7e416553,0x6c5a724e,0x62537f45,0x486c5c74,0x4665517f,0x547e4662,0x5a774b69,0xe090d0b0,0xee99ddbb,0xfc82caa6,0xf28bc7ad,0xd8b4e49c,0xd6bde997,0xc4a6fe8a,0xcaaff381,0x90d8b8e8,0x9ed1b5e3,0x8ccaa2fe,0x82c3aff5,0xa8fc8cc4,0xa6f581cf,0xb4ee96d2,0xbae79bd9,0xdb3bbb7b,0xd532b670,0xc729a16d,0xc920ac66,0xe31f8f57,0xed16825c,0xff0d9541,0xf104984a,0xab73d323,0xa57ade28,0xb761c935,0xb968c43e,0x9357e70f,0x9d5eea04,0x8f45fd19,0x814cf012,0x3bab6bcb,0x35a266c0,0x27b971dd,0x29b07cd6,0x38f5fe7,0xd8652ec,0x1f9d45f1,0x119448fa,0x4be30393,0x45ea0e98,0x57f11985,0x59f8148e,0x73c737bf,0x7dce3ab4,0x6fd52da9,0x61dc20a2,0xad766df6,0xa37f60fd,0xb16477e0,0xbf6d7aeb,0x955259da,0x9b5b54d1,0x894043cc,0x87494ec7,0xdd3e05ae,0xd33708a5,0xc12c1fb8,0xcf2512b3,0xe51a3182,0xeb133c89,0xf9082b94,0xf701269f,0x4de6bd46,0x43efb04d,0x51f4a750,0x5ffdaa5b,0x75c2896a,0x7bcb8461,0x69d0937c,0x67d99e77,0x3daed51e,0x33a7d815,0x21bccf08,0x2fb5c203,0x58ae132,0xb83ec39,0x1998fb24,0x1791f62f,0x764dd68d,0x7844db86,0x6a5fcc9b,0x6456c190,0x4e69e2a1,0x4060efaa,0x527bf8b7,0x5c72f5bc,0x605bed5,0x80cb3de,0x1a17a4c3,0x141ea9c8,0x3e218af9,0x302887f2,0x223390ef,0x2c3a9de4,0x96dd063d,0x98d40b36,0x8acf1c2b,0x84c61120,0xaef93211,0xa0f03f1a,0xb2eb2807,0xbce2250c,0xe6956e65,0xe89c636e,0xfa877473,0xf48e7978,0xdeb15a49,0xd0b85742,0xc2a3405f,0xccaa4d54,0x41ecdaf7,0x4fe5d7fc,0x5dfec0e1,0x53f7cdea,0x79c8eedb,0x77c1e3d0,0x65daf4cd,0x6bd3f9c6,0x31a4b2af,0x3fadbfa4,0x2db6a8b9,0x23bfa5b2,0x9808683,0x7898b88,0x15929c95,0x1b9b919e,0xa17c0a47,0xaf75074c,0xbd6e1051,0xb3671d5a,0x99583e6b,0x97513360,0x854a247d,0x8b432976,0xd134621f,0xdf3d6f14,0xcd267809,0xc32f7502,0xe9105633,0xe7195b38,0xf5024c25,0xfb0b412e,0x9ad7618c,0x94de6c87,0x86c57b9a,0x88cc7691,0xa2f355a0,0xacfa58ab,0xbee14fb6,0xb0e842bd,0xea9f09d4,0xe49604df,0xf68d13c2,0xf8841ec9,0xd2bb3df8,0xdcb230f3,0xcea927ee,0xc0a02ae5,0x7a47b13c,0x744ebc37,0x6655ab2a,0x685ca621,0x42638510,0x4c6a881b,0x5e719f06,0x5078920d,0xa0fd964,0x406d46f,0x161dc372,0x1814ce79,0x322bed48,0x3c22e043,0x2e39f75e,0x2030fa55,0xec9ab701,0xe293ba0a,0xf088ad17,0xfe81a01c,0xd4be832d,0xdab78e26,0xc8ac993b,0xc6a59430,0x9cd2df59,0x92dbd252,0x80c0c54f,0x8ec9c844,0xa4f6eb75,0xaaffe67e,0xb8e4f163,0xb6edfc68,0xc0a67b1,0x2036aba,0x10187da7,0x1e1170ac,0x342e539d,0x3a275e96,0x283c498b,0x26354480,0x7c420fe9,0x724b02e2,0x605015ff,0x6e5918f4,0x44663bc5,0x4a6f36ce,0x587421d3,0x567d2cd8,0x37a10c7a,0x39a80171,0x2bb3166c,0x25ba1b67,0xf853856,0x18c355d,0x13972240,0x1d9e2f4b,0x47e96422,0x49e06929,0x5bfb7e34,0x55f2733f,0x7fcd500e,0x71c45d05,0x63df4a18,0x6dd64713,0xd731dcca,0xd938d1c1,0xcb23c6dc,0xc52acbd7,0xef15e8e6,0xe11ce5ed,0xf307f2f0,0xfd0efffb,0xa779b492,0xa970b999,0xbb6bae84,0xb562a38f,0x9f5d80be,0x91548db5,0x834f9aa8,0x8d4697a3],xB=[0,0xb0e090d,0x161c121a,0x1d121b17,0x2c382434,0x27362d39,0x3a24362e,0x312a3f23,0x58704868,0x537e4165,0x4e6c5a72,0x4562537f,0x74486c5c,0x7f466551,0x62547e46,0x695a774b,0xb0e090d0,0xbbee99dd,0xa6fc82ca,0xadf28bc7,0x9cd8b4e4,0x97d6bde9,0x8ac4a6fe,0x81caaff3,0xe890d8b8,0xe39ed1b5,0xfe8ccaa2,0xf582c3af,0xc4a8fc8c,0xcfa6f581,0xd2b4ee96,0xd9bae79b,0x7bdb3bbb,0x70d532b6,0x6dc729a1,0x66c920ac,0x57e31f8f,0x5ced1682,0x41ff0d95,0x4af10498,0x23ab73d3,0x28a57ade,0x35b761c9,0x3eb968c4,0xf9357e7,0x49d5eea,0x198f45fd,0x12814cf0,0xcb3bab6b,0xc035a266,0xdd27b971,0xd629b07c,0xe7038f5f,0xec0d8652,0xf11f9d45,0xfa119448,0x934be303,0x9845ea0e,0x8557f119,0x8e59f814,0xbf73c737,0xb47dce3a,0xa96fd52d,0xa261dc20,0xf6ad766d,0xfda37f60,0xe0b16477,0xebbf6d7a,0xda955259,0xd19b5b54,0xcc894043,0xc787494e,0xaedd3e05,0xa5d33708,0xb8c12c1f,0xb3cf2512,0x82e51a31,0x89eb133c,0x94f9082b,0x9ff70126,0x464de6bd,0x4d43efb0,0x5051f4a7,0x5b5ffdaa,0x6a75c289,0x617bcb84,0x7c69d093,0x7767d99e,0x1e3daed5,0x1533a7d8,0x821bccf,0x32fb5c2,0x32058ae1,0x390b83ec,0x241998fb,0x2f1791f6,0x8d764dd6,0x867844db,0x9b6a5fcc,0x906456c1,0xa14e69e2,0xaa4060ef,0xb7527bf8,0xbc5c72f5,0xd50605be,0xde080cb3,0xc31a17a4,0xc8141ea9,0xf93e218a,0xf2302887,0xef223390,0xe42c3a9d,0x3d96dd06,0x3698d40b,0x2b8acf1c,0x2084c611,0x11aef932,0x1aa0f03f,0x7b2eb28,0xcbce225,0x65e6956e,0x6ee89c63,0x73fa8774,0x78f48e79,0x49deb15a,0x42d0b857,0x5fc2a340,0x54ccaa4d,0xf741ecda,0xfc4fe5d7,0xe15dfec0,0xea53f7cd,0xdb79c8ee,0xd077c1e3,0xcd65daf4,0xc66bd3f9,0xaf31a4b2,0xa43fadbf,0xb92db6a8,0xb223bfa5,0x83098086,0x8807898b,0x9515929c,0x9e1b9b91,0x47a17c0a,0x4caf7507,0x51bd6e10,0x5ab3671d,0x6b99583e,0x60975133,0x7d854a24,0x768b4329,0x1fd13462,0x14df3d6f,0x9cd2678,0x2c32f75,0x33e91056,0x38e7195b,0x25f5024c,0x2efb0b41,0x8c9ad761,0x8794de6c,0x9a86c57b,0x9188cc76,0xa0a2f355,0xabacfa58,0xb6bee14f,0xbdb0e842,0xd4ea9f09,0xdfe49604,0xc2f68d13,0xc9f8841e,0xf8d2bb3d,0xf3dcb230,0xeecea927,0xe5c0a02a,0x3c7a47b1,0x37744ebc,0x2a6655ab,0x21685ca6,0x10426385,0x1b4c6a88,0x65e719f,0xd507892,0x640a0fd9,0x6f0406d4,0x72161dc3,0x791814ce,0x48322bed,0x433c22e0,0x5e2e39f7,0x552030fa,0x1ec9ab7,0xae293ba,0x17f088ad,0x1cfe81a0,0x2dd4be83,0x26dab78e,0x3bc8ac99,0x30c6a594,0x599cd2df,0x5292dbd2,0x4f80c0c5,0x448ec9c8,0x75a4f6eb,0x7eaaffe6,0x63b8e4f1,0x68b6edfc,0xb10c0a67,0xba02036a,0xa710187d,0xac1e1170,0x9d342e53,0x963a275e,0x8b283c49,0x80263544,0xe97c420f,0xe2724b02,0xff605015,0xf46e5918,0xc544663b,0xce4a6f36,0xd3587421,0xd8567d2c,0x7a37a10c,0x7139a801,0x6c2bb316,0x6725ba1b,0x560f8538,0x5d018c35,0x40139722,0x4b1d9e2f,0x2247e964,0x2949e069,0x345bfb7e,0x3f55f273,0xe7fcd50,0x571c45d,0x1863df4a,0x136dd647,0xcad731dc,0xc1d938d1,0xdccb23c6,0xd7c52acb,0xe6ef15e8,0xede11ce5,0xf0f307f2,0xfbfd0eff,0x92a779b4,0x99a970b9,0x84bb6bae,0x8fb562a3,0xbe9f5d80,0xb591548d,0xa8834f9a,0xa38d4697],xD=[0,0xd0b0e09,0x1a161c12,0x171d121b,0x342c3824,0x3927362d,0x2e3a2436,0x23312a3f,0x68587048,0x65537e41,0x724e6c5a,0x7f456253,0x5c74486c,0x517f4665,0x4662547e,0x4b695a77,0xd0b0e090,0xddbbee99,0xcaa6fc82,0xc7adf28b,0xe49cd8b4,0xe997d6bd,0xfe8ac4a6,0xf381caaf,0xb8e890d8,0xb5e39ed1,0xa2fe8cca,0xaff582c3,0x8cc4a8fc,0x81cfa6f5,0x96d2b4ee,0x9bd9bae7,0xbb7bdb3b,0xb670d532,0xa16dc729,0xac66c920,0x8f57e31f,0x825ced16,0x9541ff0d,0x984af104,0xd323ab73,0xde28a57a,0xc935b761,0xc43eb968,0xe70f9357,0xea049d5e,0xfd198f45,0xf012814c,0x6bcb3bab,0x66c035a2,0x71dd27b9,0x7cd629b0,0x5fe7038f,0x52ec0d86,0x45f11f9d,0x48fa1194,0x3934be3,0xe9845ea,0x198557f1,0x148e59f8,0x37bf73c7,0x3ab47dce,0x2da96fd5,0x20a261dc,0x6df6ad76,0x60fda37f,0x77e0b164,0x7aebbf6d,0x59da9552,0x54d19b5b,0x43cc8940,0x4ec78749,0x5aedd3e,0x8a5d337,0x1fb8c12c,0x12b3cf25,0x3182e51a,0x3c89eb13,0x2b94f908,0x269ff701,0xbd464de6,0xb04d43ef,0xa75051f4,0xaa5b5ffd,0x896a75c2,0x84617bcb,0x937c69d0,0x9e7767d9,0xd51e3dae,0xd81533a7,0xcf0821bc,0xc2032fb5,0xe132058a,0xec390b83,0xfb241998,0xf62f1791,0xd68d764d,0xdb867844,0xcc9b6a5f,0xc1906456,0xe2a14e69,0xefaa4060,0xf8b7527b,0xf5bc5c72,0xbed50605,0xb3de080c,0xa4c31a17,0xa9c8141e,0x8af93e21,0x87f23028,0x90ef2233,0x9de42c3a,0x63d96dd,0xb3698d4,0x1c2b8acf,0x112084c6,0x3211aef9,0x3f1aa0f0,0x2807b2eb,0x250cbce2,0x6e65e695,0x636ee89c,0x7473fa87,0x7978f48e,0x5a49deb1,0x5742d0b8,0x405fc2a3,0x4d54ccaa,0xdaf741ec,0xd7fc4fe5,0xc0e15dfe,0xcdea53f7,0xeedb79c8,0xe3d077c1,0xf4cd65da,0xf9c66bd3,0xb2af31a4,0xbfa43fad,0xa8b92db6,0xa5b223bf,0x86830980,0x8b880789,0x9c951592,0x919e1b9b,0xa47a17c,0x74caf75,0x1051bd6e,0x1d5ab367,1047239e3,0x33609751,0x247d854a,0x29768b43,0x621fd134,0x6f14df3d,0x7809cd26,0x7502c32f,0x5633e910,0x5b38e719,0x4c25f502,0x412efb0b,0x618c9ad7,0x6c8794de,0x7b9a86c5,0x769188cc,0x55a0a2f3,0x58abacfa,0x4fb6bee1,0x42bdb0e8,0x9d4ea9f,0x4dfe496,0x13c2f68d,0x1ec9f884,0x3df8d2bb,0x30f3dcb2,0x27eecea9,0x2ae5c0a0,0xb13c7a47,0xbc37744e,0xab2a6655,0xa621685c,0x85104263,0x881b4c6a,0x9f065e71,0x920d5078,0xd9640a0f,0xd46f0406,0xc372161d,0xce791814,0xed48322b,0xe0433c22,0xf75e2e39,0xfa552030,0xb701ec9a,0xba0ae293,0xad17f088,0xa01cfe81,0x832dd4be,0x8e26dab7,0x993bc8ac,0x9430c6a5,0xdf599cd2,0xd25292db,0xc54f80c0,0xc8448ec9,0xeb75a4f6,0xe67eaaff,0xf163b8e4,0xfc68b6ed,0x67b10c0a,0x6aba0203,0x7da71018,0x70ac1e11,0x539d342e,0x5e963a27,0x498b283c,0x44802635,0xfe97c42,0x2e2724b,0x15ff6050,0x18f46e59,0x3bc54466,0x36ce4a6f,0x21d35874,0x2cd8567d,0xc7a37a1,0x17139a8,0x166c2bb3,0x1b6725ba,0x38560f85,0x355d018c,0x22401397,0x2f4b1d9e,0x642247e9,0x692949e0,0x7e345bfb,0x733f55f2,0x500e7fcd,0x5d0571c4,0x4a1863df,0x47136dd6,0xdccad731,0xd1c1d938,0xc6dccb23,0xcbd7c52a,0xe8e6ef15,0xe5ede11c,0xf2f0f307,0xfffbfd0e,0xb492a779,0xb999a970,0xae84bb6b,0xa38fb562,0x80be9f5d,0x8db59154,0x9aa8834f,0x97a38d46],xU=[0,0x90d0b0e,0x121a161c,0x1b171d12,0x24342c38,0x2d392736,0x362e3a24,0x3f23312a,0x48685870,0x4165537e,0x5a724e6c,0x537f4562,0x6c5c7448,0x65517f46,0x7e466254,0x774b695a,0x90d0b0e0,0x99ddbbee,0x82caa6fc,0x8bc7adf2,0xb4e49cd8,0xbde997d6,0xa6fe8ac4,0xaff381ca,0xd8b8e890,0xd1b5e39e,0xcaa2fe8c,0xc3aff582,0xfc8cc4a8,0xf581cfa6,0xee96d2b4,0xe79bd9ba,0x3bbb7bdb,0x32b670d5,0x29a16dc7,0x20ac66c9,0x1f8f57e3,0x16825ced,0xd9541ff,0x4984af1,0x73d323ab,0x7ade28a5,0x61c935b7,0x68c43eb9,0x57e70f93,0x5eea049d,0x45fd198f,0x4cf01281,0xab6bcb3b,0xa266c035,0xb971dd27,0xb07cd629,0x8f5fe703,0x8652ec0d,0x9d45f11f,0x9448fa11,0xe303934b,0xea0e9845,0xf1198557,0xf8148e59,0xc737bf73,0xce3ab47d,0xd52da96f,0xdc20a261,0x766df6ad,0x7f60fda3,0x6477e0b1,0x6d7aebbf,0x5259da95,0x5b54d19b,0x4043cc89,0x494ec787,0x3e05aedd,0x3708a5d3,0x2c1fb8c1,0x2512b3cf,0x1a3182e5,0x133c89eb,0x82b94f9,0x1269ff7,0xe6bd464d,0xefb04d43,0xf4a75051,0xfdaa5b5f,0xc2896a75,0xcb84617b,0xd0937c69,0xd99e7767,0xaed51e3d,0xa7d81533,0xbccf0821,0xb5c2032f,0x8ae13205,0x83ec390b,0x98fb2419,0x91f62f17,0x4dd68d76,0x44db8678,0x5fcc9b6a,0x56c19064,0x69e2a14e,0x60efaa40,0x7bf8b752,0x72f5bc5c,0x5bed506,0xcb3de08,0x17a4c31a,0x1ea9c814,0x218af93e,679998e3,0x3390ef22,0x3a9de42c,0xdd063d96,0xd40b3698,0xcf1c2b8a,0xc6112084,0xf93211ae,0xf03f1aa0,0xeb2807b2,0xe2250cbc,0x956e65e6,0x9c636ee8,0x877473fa,0x8e7978f4,0xb15a49de,0xb85742d0,0xa3405fc2,0xaa4d54cc,0xecdaf741,0xe5d7fc4f,0xfec0e15d,0xf7cdea53,0xc8eedb79,0xc1e3d077,0xdaf4cd65,0xd3f9c66b,0xa4b2af31,0xadbfa43f,0xb6a8b92d,0xbfa5b223,0x80868309,0x898b8807,0x929c9515,0x9b919e1b,0x7c0a47a1,0x75074caf,0x6e1051bd,0x671d5ab3,0x583e6b99,0x51336097,0x4a247d85,0x4329768b,0x34621fd1,0x3d6f14df,0x267809cd,0x2f7502c3,0x105633e9,0x195b38e7,0x24c25f5,0xb412efb,0xd7618c9a,0xde6c8794,0xc57b9a86,0xcc769188,0xf355a0a2,0xfa58abac,0xe14fb6be,0xe842bdb0,0x9f09d4ea,0x9604dfe4,0x8d13c2f6,0x841ec9f8,0xbb3df8d2,0xb230f3dc,0xa927eece,0xa02ae5c0,0x47b13c7a,0x4ebc3774,0x55ab2a66,0x5ca62168,0x63851042,0x6a881b4c,0x719f065e,0x78920d50,0xfd9640a,0x6d46f04,0x1dc37216,0x14ce7918,0x2bed4832,0x22e0433c,0x39f75e2e,0x30fa5520,0x9ab701ec,0x93ba0ae2,0x88ad17f0,0x81a01cfe,0xbe832dd4,0xb78e26da,0xac993bc8,0xa59430c6,0xd2df599c,0xdbd25292,0xc0c54f80,0xc9c8448e,0xf6eb75a4,0xffe67eaa,0xe4f163b8,0xedfc68b6,0xa67b10c,0x36aba02,0x187da710,0x1170ac1e,0x2e539d34,0x275e963a,0x3c498b28,0x35448026,0x420fe97c,0x4b02e272,0x5015ff60,0x5918f46e,0x663bc544,0x6f36ce4a,0x7421d358,0x7d2cd856,0xa10c7a37,0xa8017139,0xb3166c2b,0xba1b6725,0x8538560f,0x8c355d01,0x97224013,0x9e2f4b1d,0xe9642247,0xe0692949,0xfb7e345b,0xf2733f55,0xcd500e7f,0xc45d0571,0xdf4a1863,0xd647136d,0x31dccad7,0x38d1c1d9,0x23c6dccb,0x2acbd7c5,0x15e8e6ef,0x1ce5ede1,0x7f2f0f3,0xefffbfd,0x79b492a7,0x70b999a9,0x6bae84bb,0x62a38fb5,0x5d80be9f,0x548db591,0x4f9aa883,0x4697a38d];function xM(e){let t=[];for(let r=0;r<e.length;r+=4)t.push(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3]);return t}class xF{get key(){return xg(this,E,"f").slice()}constructor(e){let t;if(E.set(this,void 0),T.set(this,void 0),k.set(this,void 0),!(this instanceof xF))throw Error("AES must be instanitated with `new`");xb(this,E,new Uint8Array(e),"f");const r=xw[this.key.length];if(null==r)throw TypeError("invalid key size (must be 16, 24 or 32 bytes)");xb(this,k,[],"f"),xb(this,T,[],"f");for(let e=0;e<=r;e++)xg(this,k,"f").push([0,0,0,0]),xg(this,T,"f").push([0,0,0,0]);const n=(r+1)*4,i=this.key.length/4,a=xM(this.key);for(let e=0;e<i;e++)t=e>>2,xg(this,k,"f")[t][e%4]=a[e],xg(this,T,"f")[r-t][e%4]=a[e];let s=0,o=i,l;for(;o<n;){if(l=a[i-1],a[0]^=xA[l>>16&255]<<24^xA[l>>8&255]<<16^xA[255&l]<<8^xA[l>>24&255]^xv[s]<<24,s+=1,8!=i)for(let e=1;e<i;e++)a[e]^=a[e-1];else{for(let e=1;e<i/2;e++)a[e]^=a[e-1];l=a[i/2-1],a[i/2]^=xA[255&l]^xA[l>>8&255]<<8^xA[l>>16&255]<<16^xA[l>>24&255]<<24;for(let e=i/2+1;e<i;e++)a[e]^=a[e-1]}let e=0,t,c;for(;e<i&&o<n;)t=o>>2,c=o%4,xg(this,k,"f")[t][c]=a[e],xg(this,T,"f")[r-t][c]=a[e++],o++}for(let e=1;e<r;e++)for(let t=0;t<4;t++)l=xg(this,T,"f")[e][t],xg(this,T,"f")[e][t]=xO[l>>24&255]^xB[l>>16&255]^xD[l>>8&255]^xU[255&l]}encrypt(e){if(16!=e.length)throw TypeError("invalid plaintext size (must be 16 bytes)");let t=xg(this,k,"f").length-1,r=[0,0,0,0],n=xM(e);for(let e=0;e<4;e++)n[e]^=xg(this,k,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=xT[n[t]>>24&255]^xk[n[(t+1)%4]>>16&255]^xP[n[(t+2)%4]>>8&255]^xN[255&n[(t+3)%4]]^xg(this,k,"f")[e][t];n=r.slice()}let i=new Uint8Array(16),a=0;for(let e=0;e<4;e++)a=xg(this,k,"f")[t][e],i[4*e]=(xA[n[e]>>24&255]^a>>24)&255,i[4*e+1]=(xA[n[(e+1)%4]>>16&255]^a>>16)&255,i[4*e+2]=(xA[n[(e+2)%4]>>8&255]^a>>8)&255,i[4*e+3]=(xA[255&n[(e+3)%4]]^a)&255;return i}decrypt(e){if(16!=e.length)throw TypeError("invalid ciphertext size (must be 16 bytes)");let t=xg(this,T,"f").length-1,r=[0,0,0,0],n=xM(e);for(let e=0;e<4;e++)n[e]^=xg(this,T,"f")[0][e];for(let e=1;e<t;e++){for(let t=0;t<4;t++)r[t]=xR[n[t]>>24&255]^xC[n[(t+3)%4]>>16&255]^xS[n[(t+2)%4]>>8&255]^xI[255&n[(t+1)%4]]^xg(this,T,"f")[e][t];n=r.slice()}let i=new Uint8Array(16),a=0;for(let e=0;e<4;e++)a=xg(this,T,"f")[t][e],i[4*e]=(xE[n[e]>>24&255]^a>>24)&255,i[4*e+1]=(xE[n[(e+3)%4]>>16&255]^a>>16)&255,i[4*e+2]=(xE[n[(e+2)%4]>>8&255]^a>>8)&255,i[4*e+3]=(xE[255&n[(e+1)%4]]^a)&255;return i}}E=new WeakMap,T=new WeakMap,k=new WeakMap;class xL{constructor(e,t,r){if(r&&!(this instanceof r))throw Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new xF(t)},name:{enumerable:!0,value:e}})}}var xV=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},xj=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class xG extends xL{constructor(e,t){if(super("ECC",e,xG),P.set(this,void 0),N.set(this,void 0),t){if(t.length%16)throw TypeError("invalid iv size (must be 16 bytes)");xV(this,P,new Uint8Array(t),"f")}else xV(this,P,new Uint8Array(16),"f");xV(this,N,this.iv,"f")}get iv(){return new Uint8Array(xj(this,P,"f"))}encrypt(e){if(e.length%16)throw TypeError("invalid plaintext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){for(let t=0;t<16;t++)xj(this,N,"f")[t]^=e[r+t];xV(this,N,this.aes.encrypt(xj(this,N,"f")),"f"),t.set(xj(this,N,"f"),r)}return t}decrypt(e){if(e.length%16)throw TypeError("invalid ciphertext size (must be multiple of 16 bytes)");let t=new Uint8Array(e.length);for(let r=0;r<e.length;r+=16){let n=this.aes.decrypt(e.subarray(r,r+16));for(let i=0;i<16;i++)t[r+i]=n[i]^xj(this,N,"f")[i],xj(this,N,"f")[i]=e[r+i]}return t}}P=new WeakMap,N=new WeakMap;new WeakMap,new WeakMap,new WeakSet;var xH=function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},xz=function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class xK extends xL{constructor(e,t){super("CTR",e,xK),R.set(this,void 0),C.set(this,void 0),S.set(this,void 0),xH(this,S,new Uint8Array(16),"f"),xz(this,S,"f").fill(0),xH(this,R,xz(this,S,"f"),"f"),xH(this,C,16,"f"),null==t&&(t=1),"number"==typeof t?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(xz(this,S,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)xz(this,S,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(16!==e.length)throw TypeError("invalid counter initial Uint8Array value length");xz(this,S,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(255===xz(this,S,"f")[e])xz(this,S,"f")[e]=0;else{xz(this,S,"f")[e]++;break}}encrypt(e){var t,r;let n=new Uint8Array(e);for(let e=0;e<n.length;e++)16===xz(this,C,"f")&&(xH(this,R,this.aes.encrypt(xz(this,S,"f")),"f"),xH(this,C,0,"f"),this.increment()),n[e]^=xz(this,R,"f")[xH(this,C,(r=xz(this,C,"f"),t=r++,r),"f"),t];return n}decrypt(e){return this.encrypt(e)}}function x_(e){return"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),sp(e)}function xQ(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}function xJ(e){return"string"==typeof e?sC(e,"NFKC"):sp(e)}function xW(e,t){let r=t.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);so(null!=r,"invalid path","path",t);let n=r[1],i=r[3],a="!"===r[4],s=e;for(let e of n.toLowerCase().split(".")){if(Array.isArray(s)){if(!e.match(/^[0-9]+$/))break;s=s[parseInt(e)]}else if("object"==typeof s){let t=null;for(let r in s)if(r.toLowerCase()===e){t=s[r];break}s=t}else s=null;if(null==s)break}if(so(!a||null!=s,"missing required value","path",n),i&&null!=s){if("int"===i){if("string"==typeof s&&s.match(/^-?[0-9]+$/))return parseInt(s);else if(Number.isSafeInteger(s))return s}if("number"===i&&"string"==typeof s&&s.match(/^-?[0-9.]*$/))return parseFloat(s);if("data"===i&&"string"==typeof s)return x_(s);if("array"===i&&Array.isArray(s)||i===typeof s)return s;so(!1,`wrong type found for ${i} `,"path",n)}return s}R=new WeakMap,C=new WeakMap,S=new WeakMap,new WeakMap,new WeakMap,new WeakMap;let xq="m/44'/60'/0'/0/0";function x$(e){try{let t=JSON.parse(e),r=null!=t.version?parseInt(t.version):0;if(3===r)return!0}catch(e){}return!1}function xY(e,t){let r=sf(t),n=xW(e,"crypto.ciphertext:data!");so(sg(oJ(sb([r.slice(16,32),n]))).substring(2)===xW(e,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");let i=function(e,t,r){if("aes-128-ctr"===xW(e,"crypto.cipher:string"))return sg(new xK(t,xW(e,"crypto.cipherparams.iv:data!")).decrypt(r));ss(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}(e,r.slice(0,16),n),a=h7(i);if(e.address){let t=e.address.toLowerCase();t.startsWith("0x")||(t="0x"+t),so(o0(t)===a,"keystore address/privateKey mismatch","address",e.address)}let s={address:a,privateKey:i};if("0.1"===xW(e,"x-ethers.version:string")){let t=r.slice(32,64),n=xW(e,"x-ethers.mnemonicCiphertext:data!"),i=new xK(t,xW(e,"x-ethers.mnemonicCounter:data!"));s.mnemonic={path:xW(e,"x-ethers.path:string")||xq,locale:xW(e,"x-ethers.locale:string")||"en",entropy:sg(sf(i.decrypt(n)))}}return s}function xZ(e){let t=xW(e,"crypto.kdf:string");if(t&&"string"==typeof t){if("scrypt"===t.toLowerCase()){let r=xW(e,"crypto.kdfparams.salt:data!"),n=xW(e,"crypto.kdfparams.n:int!"),i=xW(e,"crypto.kdfparams.r:int!"),a=xW(e,"crypto.kdfparams.p:int!");so(n>0&&(n&n-1)==0,"invalid kdf.N","kdf.N",n),so(i>0&&a>0,"invalid kdf","kdf",t);let s=xW(e,"crypto.kdfparams.dklen:int!");return so(32===s,"invalid kdf.dklen","kdf.dflen",s),{name:"scrypt",salt:r,N:n,r:i,p:a,dkLen:64}}else if("pbkdf2"===t.toLowerCase()){let t=xW(e,"crypto.kdfparams.salt:data!"),r=xW(e,"crypto.kdfparams.prf:string!"),n=r.split("-").pop();so("sha256"===n||"sha512"===n,"invalid kdf.pdf","kdf.pdf",r);let i=xW(e,"crypto.kdfparams.c:int!"),a=xW(e,"crypto.kdfparams.dklen:int!");return so(32===a,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:i,dkLen:a,algorithm:n}}}so(!1,"unsupported key-derivation function","kdf",t)}function xX(e,t){let r=JSON.parse(e),n=xJ(t),i=xZ(r);if("pbkdf2"===i.name){let{salt:e,count:t,dkLen:a,algorithm:s}=i;return xY(r,dt(n,e,t,a,s))}ss("scrypt"===i.name,"cannot be reached","UNKNOWN_ERROR",{params:i});let{salt:a,N:s,r:o,p:l,dkLen:c}=i;return xY(r,dx(n,a,s,o,l,c))}function x0(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}async function x1(e,t,r){let n=JSON.parse(e),i=xJ(t),a=xZ(n);if("pbkdf2"===a.name){r&&(r(0),await x0(0));let{salt:e,count:t,dkLen:s,algorithm:o}=a,l=dt(i,e,t,s,o);return r&&(r(1),await x0(0)),xY(n,l)}ss("scrypt"===a.name,"cannot be reached","UNKNOWN_ERROR",{params:a});let{salt:s,N:o,r:l,p:c,dkLen:u}=a;return xY(n,await dm(i,s,o,l,c,u,r))}function x2(e){let t=null!=e.salt?sf(e.salt,"options.salt"):uD(32),r=131072,n=8,i=1;return e.scrypt&&(e.scrypt.N&&(r=e.scrypt.N),e.scrypt.r&&(n=e.scrypt.r),e.scrypt.p&&(i=e.scrypt.p)),so("number"==typeof r&&r>0&&Number.isSafeInteger(r)&&(BigInt(r)&BigInt(r-1))===BigInt(0),"invalid scrypt N parameter","options.N",r),so("number"==typeof n&&n>0&&Number.isSafeInteger(n),"invalid scrypt r parameter","options.r",n),so("number"==typeof i&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:t,N:r,r:n,p:i}}function x5(e,t,r,n){let i=sf(r.privateKey,"privateKey"),a=null!=n.iv?sf(n.iv,"options.iv"):uD(16);so(16===a.length,"invalid options.iv length","options.iv",n.iv);let s=null!=n.uuid?sf(n.uuid,"options.uuid"):uD(16);so(16===s.length,"invalid options.uuid length","options.uuid",n.iv);let o=e.slice(0,16),l=e.slice(16,32),c=sf(new xK(o,a).encrypt(i)),u=oJ(sb([l,c])),d={address:r.address.substring(2).toLowerCase(),id:xn(s),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:sg(a).substring(2)},ciphertext:sg(c).substring(2),kdf:"scrypt",kdfparams:{salt:sg(t.salt).substring(2),n:t.N,dklen:32,p:t.p,r:t.r},mac:u.substring(2)}};if(r.mnemonic){let t=null!=n.client?n.client:`ethers/${a7}`,i=r.mnemonic.path||xq,a=r.mnemonic.locale||"en",s=e.slice(32,64),o=sf(r.mnemonic.entropy,"account.mnemonic.entropy"),l=uD(16),c=sf(new xK(s,l).encrypt(o)),u=new Date,h="UTC--"+(u.getUTCFullYear()+"-"+xQ(u.getUTCMonth()+1,2)+"-"+xQ(u.getUTCDate(),2)+"T"+xQ(u.getUTCHours(),2)+"-"+xQ(u.getUTCMinutes(),2)+"-"+xQ(u.getUTCSeconds(),2))+".0Z--"+d.address;d["x-ethers"]={client:t,gethFilename:h,path:i,locale:a,mnemonicCounter:sg(l).substring(2),mnemonicCiphertext:sg(c).substring(2),version:"0.1"}}return JSON.stringify(d)}function x3(e,t,r){null==r&&(r={});let n=xJ(t),i=x2(r);return x5(sf(dx(n,i.salt,i.N,i.r,i.p,64)),i,e,r)}async function x4(e,t,r){null==r&&(r={});let n=xJ(t),i=x2(r);return x5(sf(await dm(n,i.salt,i.N,i.r,i.p,64,r.progressCallback)),i,e,r)}let x6="m/44'/60'/0'/0/0",x8=new Uint8Array([66,105,116,99,111,105,110,32,115,101,101,100]),x9=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function x7(e,t){let r="";for(;e;)r="0123456789abcdef"[e%16]+r,e=Math.trunc(e/16);for(;r.length<2*t;)r="0"+r;return"0x"+r}function ye(e){let t=sf(e),r=sv(u6(u6(t)),0,4);return px(sb([t,r]))}let yt={};function yr(e,t,r,n){let i=new Uint8Array(37);0x80000000&e?(ss(null!=n,"cannot derive child of neutered node","UNSUPPORTED_OPERATION",{operation:"deriveChild"}),i.set(sf(n),1)):i.set(sf(r));for(let t=24;t>=0;t-=8)i[33+(t>>3)]=e>>24-t&255;let a=sf(uS("sha512",t,i));return{IL:a.slice(0,32),IR:a.slice(32)}}function yn(e,t){let r=t.split("/");so(r.length>0,"invalid path","path",t),"m"===r[0]&&(so(0===e.depth,`cannot derive root path (i.e. path starting with "m/") for a node at non-zero depth ${e.depth}`,"path",t),r.shift());let n=e;for(let e=0;e<r.length;e++){let t=r[e];if(t.match(/^[0-9]+'$/)){let r=parseInt(t.substring(0,t.length-1));so(r<0x80000000,"invalid path index",`path[${e}]`,t),n=n.deriveChild(0x80000000+r)}else if(t.match(/^[0-9]+$/)){let r=parseInt(t);so(r<0x80000000,"invalid path index",`path[${e}]`,t),n=n.deriveChild(r)}else so(!1,"invalid path component",`path[${e}]`,t)}return n}class yi extends xy{publicKey;fingerprint;parentFingerprint;mnemonic;chainCode;path;index;depth;constructor(e,t,r,n,i,a,s,o,l){super(t,l),sd(e,yt,"HDNodeWallet"),st(this,{publicKey:t.compressedPublicKey}),st(this,{parentFingerprint:r,fingerprint:sv(uX(u6(this.publicKey)),0,4),chainCode:n,path:i,index:a,depth:s}),st(this,{mnemonic:o})}connect(e){return new yi(yt,this.signingKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.mnemonic,e)}#tL(){let e={address:this.address,privateKey:this.privateKey},t=this.mnemonic;return this.path&&t&&"en"===t.wordlist.locale&&""===t.password&&(e.mnemonic={path:this.path,locale:"en",entropy:t.entropy}),e}async encrypt(e,t){return await x4(this.#tL(),e,{progressCallback:t})}encryptSync(e){return x3(this.#tL(),e)}get extendedKey(){return ss(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),ye(sb(["0x0488ADE4",x7(this.depth,1),this.parentFingerprint,x7(this.index,4),this.chainCode,sb(["0x00",this.privateKey])]))}hasPath(){return null!=this.path}neuter(){return new ya(yt,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,this.provider)}deriveChild(e){let t=sz(e,"index");so(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:n,IL:i}=yr(t,this.chainCode,this.publicKey,this.privateKey);return new yi(yt,new hN(s_((sH(i)+BigInt(this.privateKey))%x9,32)),this.fingerprint,sg(n),r,t,this.depth+1,this.mnemonic,this.provider)}derivePath(e){return yn(this,e)}static #tV(e,t){so(sx(e),"invalid seed","seed","[REDACTED]");let r=sf(e,"seed");so(r.length>=16&&r.length<=64,"invalid seed","seed","[REDACTED]");let n=sf(uS("sha512",x8,r));return new yi(yt,new hN(sg(n.slice(0,32))),"0x00000000",sg(n.slice(32)),"m",0,0,t,null)}static fromExtendedKey(e){let t=sQ(py(e));so(82===t.length||ye(t.slice(0,78))===e,"invalid extended key","extendedKey","[ REDACTED ]");let r=t[4],n=sg(t.slice(5,9)),i=parseInt(sg(t.slice(9,13)).substring(2),16),a=sg(t.slice(13,45)),s=t.slice(45,78);switch(sg(t.slice(0,4))){case"0x0488b21e":case"0x043587cf":{let e=sg(s);return new ya(yt,h7(e),e,n,a,null,i,r,null)}case"0x0488ade4":case"0x04358394 ":if(0!==s[0])break;return new yi(yt,new hN(s.slice(1)),n,a,null,i,r,null,null)}so(!1,"invalid extended key prefix","extendedKey","[ REDACTED ]")}static createRandom(e,t,r){null==e&&(e=""),null==t&&(t=x6),null==r&&(r=xd.wordlist());let n=xx.fromEntropy(uD(16),e,r);return yi.#tV(n.computeSeed(),n).derivePath(t)}static fromMnemonic(e,t){return t||(t=x6),yi.#tV(e.computeSeed(),e).derivePath(t)}static fromPhrase(e,t,r,n){null==t&&(t=""),null==r&&(r=x6),null==n&&(n=xd.wordlist());let i=xx.fromPhrase(e,t,n);return yi.#tV(i.computeSeed(),i).derivePath(r)}static fromSeed(e){return yi.#tV(e,null)}}class ya extends p5{publicKey;fingerprint;parentFingerprint;chainCode;path;index;depth;constructor(e,t,r,n,i,a,s,o,l){super(t,l),sd(e,yt,"HDNodeVoidWallet"),st(this,{publicKey:r});const c=sv(uX(u6(r)),0,4);st(this,{publicKey:r,fingerprint:c,parentFingerprint:n,chainCode:i,path:a,index:s,depth:o})}connect(e){return new ya(yt,this.address,this.publicKey,this.parentFingerprint,this.chainCode,this.path,this.index,this.depth,e)}get extendedKey(){return ss(this.depth<256,"Depth too deep","UNSUPPORTED_OPERATION",{operation:"extendedKey"}),ye(sb(["0x0488B21E",x7(this.depth,1),this.parentFingerprint,x7(this.index,4),this.chainCode,this.publicKey]))}hasPath(){return null!=this.path}deriveChild(e){let t=sz(e,"index");so(t<=0xffffffff,"invalid index","index",t);let r=this.path;r&&(r+="/"+(0x7fffffff&t),0x80000000&t&&(r+="'"));let{IR:n,IL:i}=yr(t,this.chainCode,this.publicKey,null),a=hN.addPoints(i,this.publicKey,!0);return new ya(yt,h7(a),a,this.fingerprint,sg(n),r,t,this.depth+1,this.provider)}derivePath(e){return yn(this,e)}}function ys(e){let t=sz(e,"index");return so(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/${t}'/0/0`}function yo(e){let t=sz(e,"index");return so(t>=0&&t<0x80000000,"invalid account index","index",t),`m/44'/60'/0'/0/${t}`}function yl(e){try{if(JSON.parse(e).encseed)return!0}catch(e){}return!1}function yc(e,t){let r=JSON.parse(e),n=xJ(t),i=o0(xW(r,"ethaddr:string!")),a=x_(xW(r,"encseed:string!"));so(a&&a.length%16==0,"invalid encseed","json",e);let s=sf(dt(n,n,2e3,32,"sha256")).slice(0,16),o=a.slice(0,16),l=a.slice(16),c=function(e){if(e.length<16)throw TypeError("PKCS#7 invalid length");let t=e[e.length-1];if(t>16)throw TypeError("PKCS#7 padding byte out of range");let r=e.length-t;for(let n=0;n<t;n++)if(e[r+n]!==t)throw TypeError("PKCS#7 invalid padding byte");return new Uint8Array(e.subarray(0,r))}(sf(new xG(s,o).decrypt(l))),u="";for(let e=0;e<c.length;e++)u+=String.fromCharCode(c[e]);return{address:i,privateKey:lp(u)}}function yu(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}class yd extends xy{constructor(e,t){"string"!=typeof e||e.startsWith("0x")||(e="0x"+e),super("string"==typeof e?new hN(e):e,t)}connect(e){return new yd(this.signingKey,e)}async encrypt(e,t){let r={address:this.address,privateKey:this.privateKey};return await x4(r,e,{progressCallback:t})}encryptSync(e){return x3({address:this.address,privateKey:this.privateKey},e)}static #tj(e){if(so(e,"invalid JSON wallet","json","[ REDACTED ]"),"mnemonic"in e&&e.mnemonic&&"en"===e.mnemonic.locale){let t=xx.fromEntropy(e.mnemonic.entropy),r=yi.fromMnemonic(t,e.mnemonic.path);if(r.address===e.address&&r.privateKey===e.privateKey)return r;console.log("WARNING: JSON mismatch address/privateKey != mnemonic; fallback onto private key")}let t=new yd(e.privateKey);return so(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t}static async fromEncryptedJson(e,t,r){let n=null;return x$(e)?n=await x1(e,t,r):yl(e)&&(r&&(r(0),await yu(0)),n=yc(e,t),r&&(r(1),await yu(0))),yd.#tj(n)}static fromEncryptedJsonSync(e,t){let r=null;return x$(e)?r=xX(e,t):yl(e)?r=yc(e,t):so(!1,"invalid JSON wallet","json","[ REDACTED ]"),yd.#tj(r)}static createRandom(e){let t=yi.createRandom();return e?t.connect(e):t}static fromPhrase(e,t){let r=yi.fromPhrase(e);return t?r.connect(t):r}}class yh extends xc{#tG;constructor(e,t,r,n){super(e,t,n),this.#tG=r}get _accent(){return this.#tG}_decodeWords(){var e,t;let r;return e=this._data,t=this._accent,r=xo(e).join(","),t.split(/,/g).forEach(e=>{let n=e.match(/^([a-z]*)([0-9]+)([0-9])(.*)$/);so(null!==n,"internal error parsing accents","accents",t);let i=0,a=function(e,t){let r=(1<<e)-1,n=[],i=0,a=0,s=0;for(let o=0;o<t.length;o++)for(i=i<<6|")!@#$%^&*(ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".indexOf(t[o]),a+=6;a>=e;){let t=i>>a-e;i&=(1<<a-e)-1,a-=e,0===t?s+=r:(n.push(t+s),s=0)}return n}(parseInt(n[3]),n[4]),s=parseInt(n[2]),o=RegExp(`([${n[1]}])`,"g");r=r.replace(o,(e,t)=>(0==--a[i]&&(t=String.fromCharCode(t.charCodeAt(0),s),i++),t))}),r.split(",")}}let yf={en:xd.wordlist()};e.s(["AbiCoder",()=>ct,"AbstractProvider",()=>pq,"AbstractSigner",()=>p2,"AlchemyProvider",()=>mc,"AnkrProvider",()=>mo,"BaseContract",()=>un,"BaseWallet",()=>xy,"Block",()=>cB,"BlockscoutProvider",()=>mW,"BrowserProvider",()=>mJ,"ChainstackProvider",()=>md,"CloudflareProvider",()=>mh,"ConstructorFragment",()=>l2,"Contract",()=>ua,"ContractEventPayload",()=>c_,"ContractFactory",()=>us,"ContractTransactionReceipt",()=>cH,"ContractTransactionResponse",()=>cz,"ContractUnknownEventPayload",()=>cK,"EnsPlugin",()=>fJ,"EnsResolver",()=>pA,"ErrorDescription",()=>ci,"ErrorFragment",()=>l0,"EtherSymbol",0,"","EtherscanPlugin",()=>mm,"EtherscanProvider",()=>mg,"EventFragment",()=>l1,"EventLog",()=>cj,"EventPayload",()=>cV,"FallbackFragment",()=>l5,"FallbackProvider",()=>mz,"FeeData",()=>cI,"FeeDataNetworkPlugin",()=>fW,"FetchCancelSignal",()=>fL,"FetchRequest",()=>fj,"FetchResponse",()=>fG,"FetchUrlFeeDataNetworkPlugin",()=>fq,"FixedNumber",()=>m8,"Fragment",()=>lY,"FunctionFragment",()=>l3,"GasCostPlugin",()=>fQ,"HDNodeVoidWallet",()=>ya,"HDNodeWallet",()=>yi,"Indexed",()=>ca,"InfuraProvider",()=>mR,"InfuraWebSocketProvider",()=>mN,"Interface",()=>cl,"IpcSocketProvider",()=>mY,"JsonRpcApiProvider",()=>mn,"JsonRpcProvider",()=>ma,"JsonRpcSigner",()=>mr,"LangEn",()=>xd,"Log",()=>cD,"LogDescription",()=>cr,"MaxInt256",0,cE,"MaxUint256",0,cv,"MessagePrefix",0,ck,"MinInt256",0,cA,"Mnemonic",()=>xx,"MulticoinProviderPlugin",()=>pb,"N",0,cb,"NamedFragment",()=>lZ,"Network",()=>fY,"NetworkPlugin",()=>f_,"NonceManager",()=>mQ,"ParamType",()=>l$,"PocketProvider",()=>m$,"QuickNodeProvider",()=>mS,"Result",()=>s0,"Signature",()=>dC,"SigningKey",()=>hN,"SocketBlockSubscriber",()=>mv,"SocketEventSubscriber",()=>mE,"SocketPendingSubscriber",()=>mA,"SocketProvider",()=>mT,"SocketSubscriber",()=>mw,"StructFragment",()=>l4,"Transaction",()=>pd,"TransactionDescription",()=>cn,"TransactionReceipt",()=>cU,"TransactionResponse",()=>cM,"Typed",()=>o6,"TypedDataEncoder",()=>fk,"UndecodedEventLog",()=>cG,"UnmanagedSubscriber",()=>pK,"Utf8ErrorFuncs",0,sN,"VoidSigner",()=>p5,"Wallet",()=>yd,"WebSocketProvider",()=>mk,"WeiPerEther",0,cw,"Wordlist",()=>xl,"WordlistOwl",()=>xc,"WordlistOwlA",()=>yh,"ZeroAddress",0,cg,"ZeroHash",0,cT,"accessListify",()=>cN,"assert",()=>ss,"assertArgument",()=>so,"assertArgumentCount",()=>sl,"assertNormalize",()=>su,"assertPrivate",()=>sd,"authorizationify",()=>f1,"checkResultErrors",()=>s1,"computeAddress",()=>h7,"computeHmac",()=>uS,"concat",()=>sb,"copyRequest",()=>cO,"dataLength",()=>sw,"dataSlice",()=>sv,"decodeBase58",()=>py,"decodeBase64",()=>fN,"decodeBytes32String",()=>sB,"decodeRlp",()=>f4,"decryptCrowdsaleJson",()=>yc,"decryptKeystoreJson",()=>x1,"decryptKeystoreJsonSync",()=>xX,"defaultPath",0,x6,"defineProperties",()=>st,"dnsEncode",()=>h9,"encodeBase58",()=>px,"encodeBase64",()=>fR,"encodeBytes32String",()=>sO,"encodeRlp",()=>cd,"encryptKeystoreJson",()=>x4,"encryptKeystoreJsonSync",()=>x3,"ensNormalize",()=>h4,"formatEther",()=>xt,"formatUnits",()=>m7,"fromTwos",()=>sM,"getAccountPath",()=>ys,"getAddress",()=>o0,"getBigInt",()=>sV,"getBytes",()=>sf,"getBytesCopy",()=>sp,"getCreate2Address",()=>cf,"getCreateAddress",()=>ch,"getDefaultProvider",()=>m_,"getIcapAddress",()=>o1,"getIndexedAccountPath",()=>yo,"getNumber",()=>sz,"getUint",()=>sj,"hashAuthorization",()=>ft,"hashMessage",()=>fn,"hexlify",()=>sg,"id",()=>lp,"isAddress",()=>cm,"isAddressable",()=>cp,"isBytesLike",()=>sx,"isCallException",()=>si,"isCrowdsaleJson",()=>yl,"isError",()=>sn,"isHexString",()=>sm,"isKeystoreJson",()=>x$,"isValidName",()=>h6,"keccak256",()=>oJ,"lock",()=>dy,"makeError",()=>sa,"mask",()=>sL,"namehash",()=>h8,"parseEther",()=>xr,"parseUnits",()=>xe,"pbkdf2",()=>dt,"randomBytes",()=>uD,"recoverAddress",()=>fe,"resolveAddress",()=>cy,"resolveProperties",()=>se,"ripemd160",()=>uX,"scrypt",()=>dm,"scryptSync",()=>dx,"sha256",()=>u6,"sha512",()=>u8,"showThrottleMessage",()=>fK,"solidityPacked",()=>fl,"solidityPackedKeccak256",()=>fc,"solidityPackedSha256",()=>fu,"stripZerosLeft",()=>sA,"toBeArray",()=>sQ,"toBeHex",()=>s_,"toBigInt",()=>sH,"toNumber",()=>sK,"toQuantity",()=>sJ,"toTwos",()=>sF,"toUtf8Bytes",()=>sC,"toUtf8CodePoints",()=>sI,"toUtf8String",()=>sS,"uuidV4",()=>xn,"verifyAuthorization",()=>fr,"verifyMessage",()=>fi,"verifyTypedData",()=>fP,"version",0,a7,"wordlists",0,yf,"zeroPadBytes",()=>sk,"zeroPadValue",()=>sT],85648);var yp=e.i(85648),yp=yp;let ym="0xb995c32F7aBEB8c15658d5d1dbB61561c70cD22b",yx="0x3b2669b3dF058607FE6FeC45Ed2BB33063Bb1089",yy="0x10cED494da9C570cEd6005656D3fFCbc6F94f90e",yg="0xdcC91E489fEE3D7e2F232F03C9CeB5284D69C9F1",yb=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"ret",type:"bytes"}],name:"DelegateAndRevert",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"}],name:"FailedOp",type:"error"},{inputs:[{internalType:"uint256",name:"opIndex",type:"uint256"},{internalType:"string",name:"reason",type:"string"},{internalType:"bytes",name:"inner",type:"bytes"}],name:"FailedOpWithRevert",type:"error"},{inputs:[],name:"InvalidShortString",type:"error"},{inputs:[{internalType:"bytes",name:"returnData",type:"bytes"}],name:"PostOpReverted",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"SenderAddressResult",type:"error"},{inputs:[{internalType:"address",name:"aggregator",type:"address"}],name:"SignatureValidationFailed",type:"error"},{inputs:[{internalType:"string",name:"str",type:"string"}],name:"StringTooLong",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"factory",type:"address"},{indexed:!1,internalType:"address",name:"paymaster",type:"address"}],name:"AccountDeployed",type:"event"},{anonymous:!1,inputs:[],name:"BeforeExecution",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalDeposit",type:"uint256"}],name:"Deposited",type:"event"},{anonymous:!1,inputs:[],name:"EIP712DomainChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"PostOpRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"aggregator",type:"address"}],name:"SignatureAggregatorChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"totalStaked",type:"uint256"},{indexed:!1,internalType:"uint256",name:"unstakeDelaySec",type:"uint256"}],name:"StakeLocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"uint256",name:"withdrawTime",type:"uint256"}],name:"StakeUnlocked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"StakeWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"paymaster",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bool",name:"success",type:"bool"},{indexed:!1,internalType:"uint256",name:"actualGasCost",type:"uint256"},{indexed:!1,internalType:"uint256",name:"actualGasUsed",type:"uint256"}],name:"UserOperationEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"UserOperationPrefundTooLow",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"userOpHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"bytes",name:"revertReason",type:"bytes"}],name:"UserOperationRevertReason",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!1,internalType:"address",name:"withdrawAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Withdrawn",type:"event"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"delegateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"depositTo",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"eip712Domain",outputs:[{internalType:"bytes1",name:"fields",type:"bytes1"},{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"version",type:"string"},{internalType:"uint256",name:"chainId",type:"uint256"},{internalType:"address",name:"verifyingContract",type:"address"},{internalType:"bytes32",name:"salt",type:"bytes32"},{internalType:"uint256[]",name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getDepositInfo",outputs:[{components:[{internalType:"uint256",name:"deposit",type:"uint256"},{internalType:"bool",name:"staked",type:"bool"},{internalType:"uint112",name:"stake",type:"uint112"},{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"},{internalType:"uint48",name:"withdrawTime",type:"uint48"}],internalType:"struct IStakeManager.DepositInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparatorV4",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint192",name:"key",type:"uint192"}],name:"getNonce",outputs:[{internalType:"uint256",name:"nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getPackedUserOpTypeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"initCode",type:"bytes"}],name:"getSenderAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"}],name:"getUserOpHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation[]",name:"userOps",type:"tuple[]"},{internalType:"contract IAggregator",name:"aggregator",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct IEntryPoint.UserOpsPerAggregator[]",name:"opsPerAggregator",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleAggregatedOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation[]",name:"ops",type:"tuple[]"},{internalType:"address payable",name:"beneficiary",type:"address"}],name:"handleOps",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint192",name:"key",type:"uint192"}],name:"incrementNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"callData",type:"bytes"},{components:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"paymasterVerificationGasLimit",type:"uint256"},{internalType:"uint256",name:"paymasterPostOpGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"address",name:"paymaster",type:"address"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"}],internalType:"struct EntryPoint.MemoryUserOp",name:"mUserOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"prefund",type:"uint256"},{internalType:"uint256",name:"contextOffset",type:"uint256"},{internalType:"uint256",name:"preOpGas",type:"uint256"}],internalType:"struct EntryPoint.UserOpInfo",name:"opInfo",type:"tuple"},{internalType:"bytes",name:"context",type:"bytes"}],name:"innerHandleOp",outputs:[{internalType:"uint256",name:"actualGasCost",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint192",name:"",type:"uint192"}],name:"nonceSequenceNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"senderCreator",outputs:[{internalType:"contract ISenderCreator",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"withdrawAmount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],yw=[{inputs:[{internalType:"address",name:"_entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"Create2EmptyBytecode",type:"error"},{inputs:[],name:"FailedDeployment",type:"error"},{inputs:[{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"InsufficientBalance",type:"error"},{inputs:[],name:"accountBytecodeHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"createAccount",outputs:[{internalType:"address",name:"account",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"salt",type:"uint256"}],name:"getAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"getCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"}],yv=[{inputs:[{internalType:"string",name:"name_",type:"string"},{internalType:"string",name:"symbol_",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"allowance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientAllowance",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"balance",type:"uint256"},{internalType:"uint256",name:"needed",type:"uint256"}],name:"ERC20InsufficientBalance",type:"error"},{inputs:[{internalType:"address",name:"approver",type:"address"}],name:"ERC20InvalidApprover",type:"error"},{inputs:[{internalType:"address",name:"receiver",type:"address"}],name:"ERC20InvalidReceiver",type:"error"},{inputs:[{internalType:"address",name:"sender",type:"address"}],name:"ERC20InvalidSender",type:"error"},{inputs:[{internalType:"address",name:"spender",type:"address"}],name:"ERC20InvalidSpender",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"}],yA=[{inputs:[{internalType:"contract IEntryPoint",name:"_entryPoint",type:"address"},{internalType:"contract IERC20",name:"_token",type:"address"},{internalType:"uint256",name:"_requiredFee",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"unstakeDelaySec",type:"uint32"}],name:"addStake",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"deposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IPaymaster.PostOpMode",name:"mode",type:"uint8"},{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"actualGasCost",type:"uint256"},{internalType:"uint256",name:"actualUserOpFeePerGas",type:"uint256"}],name:"postOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"requiredFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unlockStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"maxCost",type:"uint256"}],name:"validatePaymasterUserOp",outputs:[{internalType:"bytes",name:"context",type:"bytes"},{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"}],name:"withdrawStake",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawTo",outputs:[],stateMutability:"nonpayable",type:"function"}],yE=[{inputs:[{internalType:"contract IEntryPoint",name:"anEntryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"target",type:"address"}],name:"AddressEmptyCode",type:"error"},{inputs:[],name:"ECDSAInvalidSignature",type:"error"},{inputs:[{internalType:"uint256",name:"length",type:"uint256"}],name:"ECDSAInvalidSignatureLength",type:"error"},{inputs:[{internalType:"bytes32",name:"s",type:"bytes32"}],name:"ECDSAInvalidSignatureS",type:"error"},{inputs:[{internalType:"address",name:"implementation",type:"address"}],name:"ERC1967InvalidImplementation",type:"error"},{inputs:[],name:"ERC1967NonPayable",type:"error"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},{internalType:"bytes",name:"error",type:"bytes"}],name:"ExecuteError",type:"error"},{inputs:[],name:"FailedCall",type:"error"},{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[],name:"UUPSUnauthorizedCallContext",type:"error"},{inputs:[{internalType:"bytes32",name:"slot",type:"bytes32"}],name:"UUPSUnsupportedProxiableUUID",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IEntryPoint",name:"entryPoint",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"SimpleAccountInitialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"UPGRADE_INTERFACE_VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"addDeposit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"entryPoint",outputs:[{internalType:"contract IEntryPoint",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"execute",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],internalType:"struct BaseAccount.Call[]",name:"calls",type:"tuple[]"}],name:"executeBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getDeposit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"anOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"userOpHash",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"withdrawAddress",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"withdrawDepositTo",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],yT="https://timothy.megaeth.com/rpc",yk={rpcUrl:yT,entryPointAddress:ym,factoryAddress:yx,tokenAddress:yy,paymasterAddress:yg};class yP{provider;operatorWallet=null;config;constructor(e=yk){this.config=e,this.provider=new yp.JsonRpcProvider(e.rpcUrl),e.operatorPrivateKey&&(this.operatorWallet=new yp.Wallet(e.operatorPrivateKey,this.provider))}getProvider(){return this.provider}async createAccount(e,t){let r=await fetch("/api/create-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ownerAddress:e,salt:t,factoryAddress:this.config.factoryAddress})}),n=await r.json();if(!r.ok)throw Error(n.error||"Failed to create account");return{accountAddress:n.accountAddress,txHash:n.txHash,blockNumber:n.blockNumber}}async getAccountAddress(e,t){let r=new yp.Contract(this.config.factoryAddress,yw,this.provider);return await r.getFunction("getAddress")(e,t)}async transferToken(e,t,r,n,i=!0){let a,s=new yp.Wallet(e),o=new yp.Contract(this.config.entryPointAddress,yb,this.provider),l=new yp.Interface(yv),c=new yp.Interface(yE),u=yp.parseUnits(n,18),d="0x";if(i){let e=new yp.Contract(this.config.paymasterAddress,yA,this.provider),t=await e.requiredFee(),n=l.encodeFunctionData("transfer",[r,u]),i=l.encodeFunctionData("transfer",[this.config.paymasterAddress,t]);a=c.encodeFunctionData("executeBatch",[[{target:this.config.tokenAddress,value:0,data:n},{target:this.config.tokenAddress,value:0,data:i}]]),d=this.packPaymasterAndData(this.config.paymasterAddress,2e5,2e5)}else{let e=l.encodeFunctionData("transfer",[r,u]);a=c.encodeFunctionData("execute",[this.config.tokenAddress,0,e])}let h=await o.getNonce(t,0),f=await this.buildAndSignUserOp({entry:o,sender:t,nonce:h,initCode:"0x",callData:a,owner:s,paymasterAndData:d});return await this.submitUserOp(f)}async getEntryPointDeposit(e){let t=new yp.Contract(this.config.entryPointAddress,yb,this.provider),r=await t.balanceOf(e);return yp.formatEther(r)}async getTokenBalance(e){let t=new yp.Contract(this.config.tokenAddress,yv,this.provider),r=await t.balanceOf(e);return yp.formatUnits(r,18)}async getNativeBalance(e){let t=await this.provider.getBalance(e);return yp.formatEther(t)}async buildAndSignUserOp(e){let{entry:t,sender:r,nonce:n,initCode:i,callData:a,owner:s,paymasterAndData:o="0x"}=e,l={sender:r,nonce:n.toString(),initCode:i,callData:a,accountGasLimits:this.packUint128Pair(BigInt(4e6),BigInt(6e6)),preVerificationGas:"100000",paymasterVerificationGasLimit:"200000",paymasterPostOpGasLimit:"200000",gasFees:this.packUint128Pair(yp.parseUnits("1","gwei"),yp.parseUnits("1","gwei")),paymasterAndData:o,signature:"0x"},c=await t.getUserOpHash(l),u=new yp.SigningKey(s.privateKey).sign(c);return l.signature=yp.Signature.from(u).serialized,l}async submitUserOp(e){let t=await fetch("/api/transfer",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userOp:e,entryPointAddress:this.config.entryPointAddress})}),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to submit UserOp");return{txHash:r.txHash,blockNumber:r.blockNumber}}packUint128Pair(e,t){return"0x"+(BigInt(e)<<BigInt(128)|BigInt(t)).toString(16).padStart(64,"0")}packPaymasterAndData(e,t,r,n=""){return"0x"+e.toLowerCase().replace(/^0x/,"")+BigInt(t).toString(16).padStart(32,"0")+BigInt(r).toString(16).padStart(32,"0")+n.replace(/^0x/,"")}}class yN{service;activeSession=null;constructor(e){this.service=e}async createSessionKey(e,t,r={}){let n=r.validityDurationSeconds||3600,i=Math.floor(Date.now()/1e3),a=i+n,s=yp.Wallet.createRandom(),o=r.permissions||[{target:this.service.config.tokenAddress,selector:"0xa9059cbb",maxValue:"0",maxUsage:100}],l=yp.keccak256(yp.AbiCoder.defaultAbiCoder().encode(["address","uint256","uint256","address","bytes4[]"],[s.address,i,a,t,o.map(e=>e.selector)])),c=new yp.Wallet(e),u=await c.signMessage(yp.getBytes(l)),d={sessionPublicKey:s.address,sessionPrivateKey:s.privateKey,validAfter:i,validUntil:a,permissions:o,ownerSignature:u,accountAddress:t};return this.activeSession=d,d}loadSession(e){let t=Math.floor(Date.now()/1e3);return t<e.validAfter||t>e.validUntil?(console.error("Session expired or not yet valid"),!1):(this.activeSession=e,!0)}getSession(){return this.activeSession}clearSession(){this.activeSession=null}async transferWithSessionKey(e,t,r=!0){let n;if(!this.activeSession)throw Error("No active session. Call loadSession() first.");let i=Math.floor(Date.now()/1e3);if(i<this.activeSession.validAfter||i>this.activeSession.validUntil)throw Error("Session expired");if(!this.activeSession.permissions.some(e=>e.target.toLowerCase()===this.service.config.tokenAddress.toLowerCase()&&"0xa9059cbb"===e.selector))throw Error("Session does not have permission for this action");let a=new yp.Wallet(this.activeSession.sessionPrivateKey),s=new yp.Contract(this.service.config.entryPointAddress,yb,this.service.getProvider()),o=new yp.Interface(yv),l=new yp.Interface(yE),c=yp.parseUnits(t,18),u="0x";if(r){let t=new yp.Contract(this.service.config.paymasterAddress,yA,this.service.getProvider()),r=await t.requiredFee(),i=o.encodeFunctionData("transfer",[e,c]),a=o.encodeFunctionData("transfer",[this.service.config.paymasterAddress,r]);n=l.encodeFunctionData("executeBatch",[[{target:this.service.config.tokenAddress,value:0,data:i},{target:this.service.config.tokenAddress,value:0,data:a}]]),u=this.service.packPaymasterAndData(this.service.config.paymasterAddress,2e5,2e5)}else{let t=o.encodeFunctionData("transfer",[e,c]);n=l.encodeFunctionData("execute",[this.service.config.tokenAddress,0,t])}let d=await s.getNonce(this.activeSession.accountAddress,0),h=await this.buildUserOpWithSessionKey({entry:s,sender:this.activeSession.accountAddress,nonce:d,initCode:"0x",callData:n,sessionWallet:a,paymasterAndData:u});return await this.service.submitUserOp(h)}async executeWithSessionKey(e){if(!this.activeSession)throw Error("No active session");let t=this.service.getProvider(),r=new yp.Wallet(this.activeSession.sessionPrivateKey,t),n=new yp.Contract(this.service.config.entryPointAddress,yb,t),i=new yp.Interface(yE).encodeFunctionData("execute",[e.target,e.value,e.calldata]),a=await n.getNonce(this.activeSession.accountAddress,0),s=await this.buildUserOpWithSessionKey({entry:n,sender:this.activeSession.accountAddress,nonce:a,initCode:"0x",callData:i,sessionWallet:r,paymasterAndData:e.paymasterAndData});return await this.service.submitUserOp(s)}isSessionValid(){if(!this.activeSession)return!1;let e=Math.floor(Date.now()/1e3);return e>=this.activeSession.validAfter&&e<=this.activeSession.validUntil}getRemainingTime(){if(!this.activeSession)return 0;let e=Math.floor(Date.now()/1e3);return Math.max(0,this.activeSession.validUntil-e)}getRemainingTimeFormatted(){let e=this.getRemainingTime(),t=Math.floor(e/3600),r=Math.floor(e%3600/60);return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`}async buildUserOpWithSessionKey(e){let{entry:t,sender:r,nonce:n,initCode:i,callData:a,sessionWallet:s,paymasterAndData:o="0x"}=e;if(!this.activeSession)throw Error("No active session");let l={sender:r,nonce:n.toString(),initCode:i,callData:a,accountGasLimits:this.service.packUint128Pair(BigInt(4e6),BigInt(6e6)),preVerificationGas:"100000",paymasterVerificationGasLimit:"200000",paymasterPostOpGasLimit:"200000",gasFees:this.service.packUint128Pair(yp.parseUnits("1","gwei"),yp.parseUnits("1","gwei")),paymasterAndData:o,signature:"0x"},c=await t.getUserOpHash(l),u=new yp.SigningKey(s.privateKey).sign(c);return l.signature=yp.solidityPacked(["bytes","bytes","uint48","uint48","address"],[yp.Signature.from(u).serialized,this.activeSession.ownerSignature,this.activeSession.validAfter,this.activeSession.validUntil,this.activeSession.sessionPublicKey]),l}}let yR=null,yC=null;function yS(e){return yR||(yR=new yP(e||yk)),yR}function yI(){return yC||(yC=new yN(yS())),yC}class yO{static instance;registeredSessions=new Map;static getInstance(){return yO.instance||(yO.instance=new yO),yO.instance}async registerSessionKey(e){return console.log("[Backend] Registering session key:",e.sessionPublicKey),await new Promise(e=>setTimeout(e,800)),this.registeredSessions.set(e.sessionPublicKey.toLowerCase(),e),{success:!0,message:"Session key registered successfully"}}async submitPlay(e){console.log("[Backend] Submitting play for account:",e.accountAddress),await new Promise(e=>setTimeout(e,1500));let t=Math.floor(6*Math.random())+1;return{success:!0,result:t,message:t>=4?"You won!":"You lost.",txHash:"0x"+Math.random().toString(16).slice(2)+Math.random().toString(16).slice(2)}}}let yB=yO.getInstance();var yp=yp;function yD(){let[e,t]=(0,O.useState)("LOADING"),[r,n]=(0,O.useState)(""),[i,a]=(0,O.useState)(!1),[s,o]=(0,O.useState)(""),[l,c]=(0,O.useState)("disconnected"),[u,d]=(0,O.useState)("1000"),h="CHIP",[f,p]=(0,O.useState)([]),[m,x]=(0,O.useState)(!1),[y,g]=(0,O.useState)([1,1,1]),[b,w]=(0,O.useState)(null),v=(0,O.useCallback)((e,t="info")=>{let r={id:Math.random().toString(36).substring(7),message:e,type:t,timestamp:new Date().toLocaleTimeString()};p(e=>[r,...e]),console.log(`[Game] ${e}`)},[]),A=(0,O.useCallback)(async(e,t)=>{c("loading"),v("ang khi to v...");try{yS({operatorPrivateKey:e,rpcUrl:yT,entryPointAddress:ym,factoryAddress:yx,tokenAddress:yy,paymasterAddress:yg}),n(t),c("connected"),v(`V\xed \xe3 kt ni: ${t.substring(0,8)}...`,"success")}catch(e){throw c("error"),v(`Li khi to: ${e.message}`,"error"),e}},[v]);(0,O.useEffect)(()=>{let e=async e=>{let r=e.data;if(r&&"SESSION_CONFIRMED"===r.type){let e="string"==typeof r.value?JSON.parse(r.value):r.value,n=e.address||e.accountAddress;v(`Parent x\xe1c nhn v\xed: ${n}`,"success");try{await A(s,n);let e=yI().getSession();e&&(await yB.registerSessionKey(e)).success&&(v("ng k session thnh cng!","success"),t("ROLL_DICE"))}catch(e){v(`Li x\xe1c nhn: ${e.message}`,"error")}finally{a(!1)}}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[A,s,v]),(0,O.useEffect)(()=>{t("PLAY")},[]);let E=async()=>{x(!0),v("ang to phin chi...");try{let e=yp.Wallet.createRandom(),t=e.privateKey;o(t);let r=yS(),n=await r.getAccountAddress(e.address,0),i=yI(),s=await i.createSessionKey(t,n);v("Session  to. ang ch xc thc...","info"),window.parent!==window&&window.parent.postMessage({type:"CREATE_SESSION",value:JSON.stringify({ownerPublicKey:e.address,sessionPublicKey:s.sessionPublicKey,accountAddress:n,validUntil:s.validUntil})},"*"),a(!0)}catch(e){v(`Li: ${e.message}`,"error"),x(!1)}},T=async(e,t)=>{x(!0),w(null),v(`t cc ${e} ${h} v\xe0o ${"tai"===t?"TI":"XU"}...`);try{await new Promise(e=>setTimeout(e,1500));let r=Math.floor(6*Math.random())+1,n=Math.floor(6*Math.random())+1,i=Math.floor(6*Math.random())+1,a=r+n+i;g([r,n,i]);let s=a>=11,o="tai"===t&&s||"xiu"===t&&!s,l=parseFloat(u),c=o?l+e:l-e;d(c.toFixed(0)),w({success:!0,message:o?"Thng!":"Thua!",isWin:o,total:a}),o?v(`THNG! Tng: ${a} (${s?"TI":"XU"}). +${e} ${h}`,"success"):v(`THUA! Tng: ${a} (${s?"TI":"XU"}). -${e} ${h}`,"error"),window.parent!==window&&window.parent.postMessage({type:"GAME_PLAY_RESULT",value:JSON.stringify({isWin:o,diceValues:[r,n,i],total:a,choice:t})},"*")}catch(e){v(`Li: ${e.message}`,"error"),w({success:!1,message:e.message,isWin:!1,total:0})}finally{x(!1)}};return(0,I.jsx)("main",{className:"flex min-h-screen items-center justify-center p-4",children:(0,I.jsxs)("div",{className:"w-full max-w-sm",children:[(0,I.jsxs)("div",{className:"glass rounded-3xl p-6 border-glow",children:["PLAY"===e&&(0,I.jsx)(a_,{onPlay:E,loading:m,isWaiting:i}),"ROLL_DICE"===e&&(0,I.jsx)(a9,{onRoll:T,rolling:m,diceValues:y,balanceToken:parseFloat(u),tokenSymbol:h,result:b}),"LOADING"===e&&(0,I.jsxs)("div",{className:"flex flex-col items-center justify-center py-20",children:[(0,I.jsx)("div",{className:"w-10 h-10 border-4 border-amber-500/20 border-t-amber-500 rounded-full animate-spin mb-4"}),(0,I.jsx)("p",{className:"text-slate-500 text-sm",children:"ang ti..."})]})]}),(0,I.jsx)(H,{logs:f})]})})}e.s(["default",()=>yD],52683)}]);